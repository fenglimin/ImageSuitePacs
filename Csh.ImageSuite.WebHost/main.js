(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/annotation/ann-object.ts":
/*!******************************************!*\
  !*** ./src/app/annotation/ann-object.ts ***!
  \******************************************/
/*! exports provided: Colors, AnnObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Colors", function() { return Colors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnObject", function() { return AnnObject; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/view-context.service */ "./src/app/services/view-context.service.ts");



var Colors = /** @class */ (function () {
    function Colors() {
    }
    Colors.white = "#ffffff";
    Colors.red = "#ff0000";
    Colors.yellow = "#ffff00";
    Colors.green = "#00FF00";
    Colors.blue = "#0000FF";
    return Colors;
}());

;
var AnnObject = /** @class */ (function () {
    function AnnObject(parentObj, imageViewer) {
        this.selectedColor = "#F90";
        this.defaultColor = "#FFF";
        this.minLineWidth = 0.3;
        this.minPointRadius = 2;
        this.minArrowLineLength = 10;
        this.minFontSize = 15;
        this.stepIndex = -1;
        this.parentObj = parentObj;
        this.imageViewer = imageViewer;
        this.image = imageViewer.getImage();
        this.layerId = imageViewer.getAnnotationLayerId();
        this.labelLayerId = imageViewer.getAnnLabelLayerId();
        this.created = false;
        this.selected = false;
        this.dragging = false;
        this.mouseResponsible = true;
        this.lineWidth = this.getLineWidth();
        this.pointRadius = this.getPointRadius();
        this.pixelSpacing = this.image.getPixelSpacing();
    }
    AnnObject.prototype.isCreated = function () {
        return this.created;
    };
    AnnObject.prototype.isSelected = function () {
        return this.selected;
    };
    AnnObject.prototype.setStepIndex = function (stepIndex) {
        this.stepIndex = stepIndex;
    };
    AnnObject.prototype.getFocusedObj = function () {
        return this.focusedObj;
    };
    AnnObject.prototype.getStepIndex = function () {
        return this.stepIndex;
    };
    AnnObject.prototype.setMouseResponsible = function (mouseResponsible) {
        this.mouseResponsible = mouseResponsible;
    };
    AnnObject.prototype.onChildSelected = function (selectedObj) {
        this.focusedObj = selectedObj;
        if (this.parentObj) {
            // If have parent, let parent manage the select status
            this.parentObj.onChildSelected(this);
        }
        else {
            this.onSelect(true, true);
        }
    };
    AnnObject.prototype.onChildDragged = function (draggedObj, deltaX, deltaY) {
        this.focusedObj = draggedObj;
        if (this.parentObj) {
            // If have parent, let parent manage the drag status
            this.parentObj.onChildDragged(this, deltaX, deltaY);
        }
        else {
            this.onDrag(deltaX, deltaY);
        }
    };
    AnnObject.prototype.deleteObject = function (obj) {
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].isJcanvasObject(obj)) {
            obj.del();
            obj = undefined;
        }
        else if (obj instanceof AnnObject) {
            var annObj = obj;
            annObj.onDeleteChildren();
            annObj = undefined;
        }
    };
    AnnObject.prototype.onKeyDown = function (keyEvent) {
        if (!this.focusedObj)
            return;
        var focusedBottomObj = this.focusedObj;
        while (focusedBottomObj.focusedObj) {
            focusedBottomObj = focusedBottomObj.focusedObj;
        }
        // Move 5 screen point by default, or move 1 screen point if ctrl key is pressed
        var step = keyEvent.ctrlKey ? 1 : 5;
        var posImageOld = this.focusedObj.getPosition();
        var posScreen = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].imageToScreen(posImageOld, focusedBottomObj.parentObj.getTransformMatrix());
        if (keyEvent.code === "ArrowUp") {
            posScreen.y -= step;
        }
        else if (keyEvent.code === "ArrowDown") {
            posScreen.y += step;
        }
        else if (keyEvent.code === "ArrowLeft") {
            posScreen.x -= step;
        }
        else if (keyEvent.code === "ArrowRight") {
            posScreen.x += step;
        }
        var posImageNew = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(posScreen, focusedBottomObj.parentObj.getTransformMatrix());
        focusedBottomObj.parentObj.onChildDragged(focusedBottomObj, posImageNew.x - posImageOld.x, posImageNew.y - posImageOld.y);
    };
    AnnObject.prototype.getLineWidth = function () {
        var lineWidth = 1 / this.image.getScaleValue();
        if (lineWidth < this.minLineWidth) {
            lineWidth = this.minLineWidth;
        }
        return lineWidth;
    };
    AnnObject.prototype.getPointRadius = function () {
        var pointRadius = 3 / this.image.getScaleValue();
        if (pointRadius < this.minPointRadius) {
            pointRadius = this.minPointRadius;
        }
        return pointRadius;
    };
    AnnObject.prototype.getArrowLineLength = function () {
        var lineLength = 10 / this.image.getScaleValue();
        if (lineLength < this.minArrowLineLength) {
            lineLength = this.minArrowLineLength;
        }
        return lineLength;
    };
    AnnObject.prototype.getFontSize = function () {
        var scale = this.image.getScaleValue();
        return scale > 1 ? this.minFontSize : this.minFontSize / scale;
    };
    AnnObject.prototype.getTransformMatrix = function () {
        return this.image.transformMatrix;
    };
    AnnObject.prototype.getCursor = function () {
        return this.imageViewer.getCursor();
    };
    AnnObject.prototype.setCursor = function (cursor) {
        this.imageViewer.setCursor(cursor);
    };
    AnnObject.prototype.setChildDraggable = function (parentObj, child, draggable) {
        var _this = this;
        child.draggable({
            disabled: !draggable,
            start: function (arg) {
                console.log(parentObj.constructor.name + " on drag start");
                child._lastPos = {};
            },
            stop: function (arg) {
                console.log(parentObj.constructor.name + " on drag stop");
                child._lastPos = {};
                if (_this.imageViewer.getContext().action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn) {
                    parentObj.dragging = false;
                }
            },
            drag: function (arg) {
                if (_this.imageViewer.getContext().action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn) {
                    var point = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage({ x: arg.x, y: arg.y }, parentObj.getTransformMatrix());
                    console.log(parentObj.constructor.name + " on dragging");
                    parentObj.dragging = true;
                    if (typeof (child._lastPos.x) != "undefined") {
                        var deltaX = point.x - child._lastPos.x;
                        var deltaY = point.y - child._lastPos.y;
                        //child._x += deltaX;
                        //child._y += deltaY;
                        //if (onDrag) {
                        //    onDrag.call(parentObj, child, deltaX, deltaY);
                        //}
                        if (parentObj.onChildDragged) {
                            parentObj.onChildDragged(child, deltaX, deltaY);
                        }
                    }
                    child._lastPos = point;
                }
                return true;
            }
        });
    };
    AnnObject.prototype.setChildMouseEvent = function (parentObj, child) {
        child._onmouseover = function (arg) {
            if (parentObj.needResponseToChildMouseEvent()) {
                console.log(parentObj.constructor.name + " on mouse over");
                parentObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseOver, arg, child);
                parentObj.oldCursor = parentObj.getCursor();
                parentObj.setCursor(child.mouseStyle);
            }
            return false;
        };
        child._onmouseout = function (arg) {
            if (parentObj.needResponseToChildMouseEvent()) {
                console.log(parentObj.constructor.name + " on mouse out");
                parentObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseOut, arg, child);
                parentObj.setCursor(undefined);
            }
            return false;
        };
        child._onmousedown = function (arg) {
            if (parentObj.needResponseToChildMouseEvent()) {
                console.log(parentObj.constructor.name + " on mouse down");
                parentObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, arg, child);
            }
            //arg.event.cancelBubble = true;
            //arg.event.stopPropagation();
            //arg.event.stopImmediatePropagation();
            //arg.event.preventDefault();
            // return false to make sure no other jc object's mouse event will be called
            return false;
        };
    };
    AnnObject.prototype.needResponseToChildMouseEvent = function () {
        return !this.dragging && this.imageViewer.getContext().action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn;
    };
    return AnnObject;
}());



/***/ }),

/***/ "./src/app/annotation/ann-tool.ts":
/*!****************************************!*\
  !*** ./src/app/annotation/ann-tool.ts ***!
  \****************************************/
/*! exports provided: AnnTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnTool", function() { return AnnTool; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");

var AnnTool = /** @class */ (function () {
    function AnnTool() {
    }
    AnnTool.screenToImage = function (point, transform) {
        var x = point.x;
        var y = point.y;
        var imgPt = [0, 0, 1];
        var a = x;
        var b = y;
        var n1 = transform[0][0];
        var n2 = transform[0][1];
        var n3 = transform[0][2];
        var n4 = transform[1][0];
        var n5 = transform[1][1];
        var n6 = transform[1][2];
        var t = a * n4 - n3 * n4 - b * n1 + n1 * n6;
        var t2 = n2 * n4 - n1 * n5;
        imgPt[1] = t / t2;
        t = b * n2 - n2 * n6 - a * n5 + n3 * n5;
        imgPt[0] = t / t2;
        return {
            x: imgPt[0],
            y: imgPt[1]
        };
    };
    AnnTool.imageToScreen = function (point, transform) {
        var x = point.x;
        var y = point.y;
        var imgPt = [x, y, 1];
        var screenPt = [0, 0, 1];
        screenPt[0] = transform[0][0] * imgPt[0] + transform[0][1] * imgPt[1] + transform[0][2] * imgPt[2];
        screenPt[1] = transform[1][0] * imgPt[0] + transform[1][1] * imgPt[1] + transform[1][2] * imgPt[2];
        return {
            x: screenPt[0],
            y: screenPt[1]
        };
    };
    AnnTool.imageToImage = function (sourcePoint, sourceTransform, destTransform) {
        var screenPoint = AnnTool.imageToScreen(sourcePoint, sourceTransform);
        return AnnTool.screenToImage(screenPoint, destTransform);
    };
    AnnTool.imageListToImageList = function (pointList, sourceTransform, destTransform) {
        var retList = [];
        for (var i = 0; i < pointList.length; i++) {
            retList.push(AnnTool.imageToImage(pointList[i], sourceTransform, destTransform));
        }
        return retList;
    };
    AnnTool.annLabelLayerToAnnLayer = function (point, imageViewer) {
        return AnnTool.imageToImage(point, imageViewer.getAnnLabelLayer().transform(), imageViewer.getImageLayer().transform());
    };
    AnnTool.annLayerToAnnLabelLayer = function (point, imageViewer) {
        return AnnTool.imageToImage(point, imageViewer.getImageLayer().transform(), imageViewer.getAnnLabelLayer().transform());
    };
    AnnTool.isJcanvasObject = function (obj) {
        if (!obj) {
            return false;
        }
        if (obj.optns) {
            return true;
        }
        return false;
    };
    AnnTool.countDistance = function (point1, point2) {
        var value = Math.pow((point1.x - point2.x), 2) + Math.pow((point1.y - point2.y), 2);
        value = Math.sqrt(value);
        return value;
    };
    AnnTool.getSineTheta = function (pt1, pt2) {
        var distance = AnnTool.countDistance(pt1, pt2);
        if (Math.abs(distance) < AnnTool.minDelta) {
            return 0.0;
        }
        else {
            var sineTheta = -(Math.abs(pt1.y - pt2.y)) / distance;
            return (pt1.y > pt2.y) ? sineTheta : -sineTheta;
        }
    };
    AnnTool.getCosineTheta = function (pt1, pt2) {
        var distance = AnnTool.countDistance(pt1, pt2);
        if (Math.abs(distance) < AnnTool.minDelta) {
            return 0.0;
        }
        else {
            var cosineTheta = (Math.abs(pt1.x - pt2.x)) / distance;
            return (pt1.x < pt2.x) ? cosineTheta : -cosineTheta;
        }
    };
    AnnTool.multiplyPointM = function (x, y, m) {
        return {
            x: (x * m[0][0] + y * m[0][1] + m[0][2]),
            y: (x * m[1][0] + y * m[1][1] + m[1][2])
        };
    };
    AnnTool.equalPoint = function (p1, p2) {
        return Math.abs(p1.x - p2.x) < 0.0001 && Math.abs(p1.y - p2.y) < 0.0001;
    };
    AnnTool.pointListFromRect = function (rect) {
        var retPointList = [];
        retPointList.push({ x: rect.x, y: rect.y });
        retPointList.push({ x: rect.x + rect.width, y: rect.y });
        retPointList.push({ x: rect.x + rect.width, y: rect.y + rect.height });
        retPointList.push({ x: rect.x, y: rect.y + rect.height });
        return retPointList;
    };
    AnnTool.pointListFrom = function (point, posInRect, width, height) {
        var retPointList = [];
        if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopLeft) {
            retPointList.push({ x: point.x, y: point.y });
            retPointList.push({ x: point.x + width, y: point.y });
            retPointList.push({ x: point.x + width, y: point.y + height });
            retPointList.push({ x: point.x, y: point.y + height });
        }
        else if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopRight) {
            retPointList.push({ x: point.x - width, y: point.y });
            retPointList.push({ x: point.x, y: point.y });
            retPointList.push({ x: point.x, y: point.y + height });
            retPointList.push({ x: point.x - width, y: point.y + height });
        }
        else if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].BottomRight) {
            retPointList.push({ x: point.x - width, y: point.y - height });
            retPointList.push({ x: point.x, y: point.y - height });
            retPointList.push({ x: point.x, y: point.y });
            retPointList.push({ x: point.x - width, y: point.y });
        }
        else if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].BottomLeft) {
            retPointList.push({ x: point.x, y: point.y - height });
            retPointList.push({ x: point.x + width, y: point.y - height });
            retPointList.push({ x: point.x + width, y: point.y });
            retPointList.push({ x: point.x, y: point.y });
        }
        return retPointList;
    };
    AnnTool.centerPoint = function (point1, point2) {
        return { x: (point1.x + point2.x) / 2.0, y: (point1.y + point2.y) / 2.0 };
    };
    AnnTool.calcLineAngle = function (point1, point2) {
        var dwSin = AnnTool.getSineTheta(point1, point2);
        var dwCos = AnnTool.getCosineTheta(point1, point2);
        var dwTheta;
        if (dwSin >= 0 && dwCos >= 0) {
            dwTheta = Math.asin(Math.abs(dwSin));
        }
        else if (dwSin >= 0 && dwCos < 0) {
            dwTheta = Math.asin(Math.abs(dwSin));
            dwTheta = Math.PI - dwTheta;
        }
        else if (dwSin < 0 && dwCos <= 0) {
            dwTheta = Math.asin(Math.abs(dwSin));
            dwTheta = Math.PI + dwTheta;
        }
        else {
            dwTheta = Math.asin(Math.abs(dwSin));
            dwTheta = Math.PI * 2 - dwTheta;
        }
        if (180.0 / Math.PI * dwTheta > 360) {
            return 180.0 / Math.PI * dwTheta - 360;
        }
        return 180.0 / Math.PI * dwTheta;
    };
    AnnTool.pointInRect = function (point, rect) {
        var startX = Math.min(rect.x, rect.x + rect.width);
        var endX = Math.max(rect.x, rect.x + rect.width);
        var startY = Math.min(rect.y, rect.y + rect.height);
        var endY = Math.max(rect.y, rect.y + rect.height);
        return startX <= point.x && point.x <= endX && startY <= point.y && point.y <= endY;
    };
    AnnTool.pointInLine = function (point, lineStartPoint, lineEndPoint) {
        var lenToStart = AnnTool.countDistance(point, lineStartPoint);
        var lenToEnd = AnnTool.countDistance(point, lineEndPoint);
        var length = AnnTool.countDistance(lineStartPoint, lineEndPoint);
        var lenDelta = lenToStart + lenToEnd - length;
        return { isInLine: lenDelta < 0.01, nearStart: lenToStart < lenToEnd };
    };
    AnnTool.calcFootPoint = function (point1, point2, pointDrag) {
        var dSinB = AnnTool.getSineTheta(point1, point2);
        var dCosB = AnnTool.getCosineTheta(point1, point2);
        var dSinC = AnnTool.getSineTheta(point1, pointDrag);
        var dCosC = AnnTool.getCosineTheta(point1, pointDrag);
        var dCosBsubC = dCosB * dCosC + dSinB * dSinC; // Cos(B-C)
        var dLineAC = AnnTool.countDistance(point1, pointDrag);
        var dLineAM = dLineAC * dCosBsubC;
        return { x: point1.x + dLineAM * dCosB, y: point1.y + dLineAM * dSinB };
    };
    AnnTool.formatRect = function (rect) {
        // Format the rect to make sure that both width and height are positive
        if (rect.width < 0) {
            rect.x += rect.width;
            rect.width = -rect.width;
        }
        if (rect.height < 0) {
            rect.y += rect.height;
            rect.height = -rect.height;
        }
        return rect;
    };
    AnnTool.minDelta = 0.0000000001;
    return AnnTool;
}());



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-circle.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-circle.ts ***!
  \***********************************************************/
/*! exports provided: AnnBaseCircle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseCircle", function() { return AnnBaseCircle; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseCircle = /** @class */ (function (_super) {
    __extends(AnnBaseCircle, _super);
    function AnnBaseCircle(parentObj, center, radius, imageViewer, fill) {
        if (fill === void 0) { fill = false; }
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.fill = fill;
        _this.jcObj = jCanvaScript.circle(center.x, center.y, radius, _this.selectedColor, fill).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        _this.jcObj.mouseStyle = "crosshair";
        return _this;
    }
    return AnnBaseCircle;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-curve.ts":
/*!**********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-curve.ts ***!
  \**********************************************************/
/*! exports provided: AnnBaseCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseCurve", function() { return AnnBaseCurve; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseCurve = /** @class */ (function (_super) {
    __extends(AnnBaseCurve, _super);
    function AnnBaseCurve(parentObj, center, radius, startAngle, endAngle, anticlockwise, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.jcObj = jCanvaScript.arc(center.x, center.y, radius, startAngle, endAngle, anticlockwise, _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseCurve.prototype.setAngle = function (startAngle, endAngle) {
        this.jcObj._startAngle = startAngle;
        this.jcObj._endAngle = endAngle;
    };
    AnnBaseCurve.prototype.setAnticlockwise = function (anticlockwise) {
        this.jcObj._anticlockwise = anticlockwise;
    };
    AnnBaseCurve.prototype.getText = function () {
        var arcAngle = this.jcObj._endAngle - this.jcObj._startAngle;
        if (arcAngle > 180) {
            arcAngle = 360 - arcAngle;
        }
        // Display radius, not the length of the arc
        //const arcLength = Math.PI * this.jcObj._radius * arcAngle / 180;
        var text;
        if (this.pixelSpacing) {
            text = (this.jcObj._radius * this.pixelSpacing.cx).toFixed(2) + "mm";
        }
        else {
            text = this.jcObj._radius.toFixed(2) + "pt";
        }
        text += " " + arcAngle.toFixed(2) + "\xb0";
        return text;
    };
    return AnnBaseCurve;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-ellipse.ts":
/*!************************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-ellipse.ts ***!
  \************************************************************/
/*! exports provided: AnnBaseEllipse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseEllipse", function() { return AnnBaseEllipse; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseEllipse = /** @class */ (function (_super) {
    __extends(AnnBaseEllipse, _super);
    function AnnBaseEllipse(parentObj, center, width, height, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.jcObj = jCanvaScript.ellipse(center.x, center.y, Math.abs(width), Math.abs(height), _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseEllipse.prototype.setWidth = function (width) {
        this.jcObj._width = Math.abs(width);
        this.checkCircle();
    };
    AnnBaseEllipse.prototype.setHeight = function (height) {
        this.jcObj._height = Math.abs(height);
        this.checkCircle();
    };
    AnnBaseEllipse.prototype.checkCircle = function () {
        var isCircle = Math.round(this.getWidth()) === Math.round(this.getHeight());
        this.jcObj.color(isCircle ? "#F00" : this.selectedColor);
    };
    AnnBaseEllipse.prototype.getAreaString = function () {
        var width = this.getWidth();
        var height = this.getHeight();
        var area = Math.abs(width * height) * Math.PI;
        var areaString = "Size = ";
        if (this.pixelSpacing) {
            areaString += (area * this.pixelSpacing.cx * this.pixelSpacing.cy).toFixed(2) + "mm2";
        }
        else {
            areaString += area.toFixed(2) + "pt2";
        }
        return areaString;
    };
    return AnnBaseEllipse;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-image.ts":
/*!**********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-image.ts ***!
  \**********************************************************/
/*! exports provided: AnnBaseImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseImage", function() { return AnnBaseImage; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseImage = /** @class */ (function (_super) {
    __extends(AnnBaseImage, _super);
    function AnnBaseImage(parentObj, imageData, startPoint, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        var scale = _this.image.getScaleValue();
        var width = imageData.width / scale;
        var height = imageData.height / scale;
        _this.jcObj = jCanvaScript.image(imageData, startPoint.x, startPoint.y, width, height).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseImage.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
    };
    AnnBaseImage.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y = this.image.height() - this.jcObj._y - this.jcObj._height;
        }
        else {
            this.jcObj._x = this.image.width() - this.jcObj._x - this.jcObj._width;
        }
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseImage.prototype.setImage = function (imageData) {
        this.jcObj._img = imageData;
    };
    return AnnBaseImage;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-line.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-line.ts ***!
  \*********************************************************/
/*! exports provided: AnnBaseLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseLine", function() { return AnnBaseLine; });
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var AnnBaseLine = /** @class */ (function (_super) {
    __extends(AnnBaseLine, _super);
    function AnnBaseLine(parentObj, posStart, posEnd, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.jcObj = jCanvaScript.line([[posStart.x, posStart.y], [posEnd.x, posEnd.y]], _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseLine.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y0 = this.image.height() - this.jcObj._y0;
            this.jcObj._y1 = this.image.height() - this.jcObj._y1;
        }
        else {
            this.jcObj._x0 = this.image.width() - this.jcObj._x0;
            this.jcObj._x1 = this.image.width() - this.jcObj._x1;
        }
    };
    AnnBaseLine.prototype.onTranslate = function (deltaX, deltaY) {
        this.jcObj._x0 += deltaX;
        this.jcObj._y0 += deltaY;
        this.jcObj._x1 += deltaX;
        this.jcObj._y1 += deltaY;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseLine.prototype.onMoveStartPoint = function (point) {
        this.jcObj._x0 = point.x;
        this.jcObj._y0 = point.y;
    };
    AnnBaseLine.prototype.onMoveEndPoint = function (point) {
        this.jcObj._x1 = point.x;
        this.jcObj._y1 = point.y;
    };
    AnnBaseLine.prototype.getStartPosition = function () {
        return { x: this.jcObj._x0, y: this.jcObj._y0 };
    };
    AnnBaseLine.prototype.getEndPosition = function () {
        return { x: this.jcObj._x1, y: this.jcObj._y1 };
    };
    AnnBaseLine.prototype.getLengthInPixel = function () {
        return _ann_tool__WEBPACK_IMPORTED_MODULE_0__["AnnTool"].countDistance(this.getStartPosition(), this.getEndPosition());
    };
    return AnnBaseLine;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_1__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-object.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-object.ts ***!
  \***********************************************************/
/*! exports provided: AnnBaseObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseObject", function() { return AnnBaseObject; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-object */ "./src/app/annotation/ann-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var AnnBaseObject = /** @class */ (function (_super) {
    __extends(AnnBaseObject, _super);
    function AnnBaseObject(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        if (parentObj) {
            parentObj.onChildCreated(_this);
        }
        return _this;
    }
    AnnBaseObject.prototype.setJcObj = function () {
        if (this.jcObj) {
            this.jcObj._lineWidth = this.lineWidth;
            this.jcObj.mouseStyle = "move";
            this.jcObj.parentObj = this;
        }
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseObject.prototype.onDrag = function (deltaX, deltaY) {
        this.onTranslate(deltaX, deltaY);
    };
    AnnBaseObject.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
        var color = selected ? this.selectedColor : this.defaultColor;
        if (focused && !this.focusedObj) {
            this.focusedObj = this.jcObj;
        }
        this.jcObj.color(color);
    };
    AnnBaseObject.prototype.onDrawEnded = function () {
        if (this.mouseResponsible) {
            this.setChildDraggable(this, this.jcObj, true);
            this.setChildMouseEvent(this, this.jcObj);
        }
    };
    AnnBaseObject.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            this.onChildSelected(mouseObj);
        }
    };
    AnnBaseObject.prototype.onScale = function () {
        this.jcObj._lineWidth = this.parentObj.getLineWidth();
    };
    AnnBaseObject.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y = this.image.height() - this.jcObj._y;
        }
        else {
            this.jcObj._x = this.image.width() - this.jcObj._x;
        }
    };
    AnnBaseObject.prototype.onTranslate = function (deltaX, deltaY) {
        this.jcObj._x += deltaX;
        this.jcObj._y += deltaY;
    };
    AnnBaseObject.prototype.onMove = function (point) {
        this.jcObj._x = point.x;
        this.jcObj._y = point.y;
    };
    AnnBaseObject.prototype.onRotate = function (angle) {
        // For annotation drawn on the ann layer, nothing need to do for rotating,
        // because the ann layer and the image layer are binded.
    };
    AnnBaseObject.prototype.onDeleteChildren = function () {
        this.deleteObject(this.jcObj);
    };
    AnnBaseObject.prototype.getPosition = function () {
        return { x: this.jcObj._x, y: this.jcObj._y };
    };
    AnnBaseObject.prototype.setRadius = function (radius) {
        this.jcObj._radius = radius;
    };
    AnnBaseObject.prototype.setWidth = function (width) {
        this.jcObj._width = width;
    };
    AnnBaseObject.prototype.setHeight = function (height) {
        this.jcObj._height = height;
    };
    AnnBaseObject.prototype.getWidth = function () {
        return this.jcObj._width;
    };
    AnnBaseObject.prototype.getHeight = function () {
        return this.jcObj._height;
    };
    AnnBaseObject.prototype.setColor = function (color) {
        this.jcObj.color(color);
    };
    AnnBaseObject.prototype.setVisible = function (visible) {
        this.jcObj.visible(visible);
    };
    AnnBaseObject.prototype.onLevelUp = function (level) {
        if (level === void 0) { level = 1; }
        if (this.jcObj) {
            this.jcObj.up(level);
        }
    };
    AnnBaseObject.prototype.onLevelDown = function (level) {
        if (level === void 0) { level = 1; }
        if (this.jcObj) {
            this.jcObj.down(level);
        }
    };
    AnnBaseObject.prototype.getSurroundPointList = function () {
        return [];
    };
    AnnBaseObject.prototype.getRect = function () {
        return this.jcObj.getRect("poor");
    };
    AnnBaseObject.prototype.onChildCreated = function (annChildObj) {
        alert("Internal error : AnnBaseObject.onChildCreated() should never be called.");
    };
    AnnBaseObject.prototype.onDeleteChild = function (annChildObj) {
        alert("Internal error : AnnBaseObject.onDeleteChild() should never be called.");
    };
    return AnnBaseObject;
}(_ann_object__WEBPACK_IMPORTED_MODULE_1__["AnnObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-rectangle.ts":
/*!**************************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-rectangle.ts ***!
  \**************************************************************/
/*! exports provided: AnnBaseRectangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseRectangle", function() { return AnnBaseRectangle; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AnnBaseRectangle = /** @class */ (function (_super) {
    __extends(AnnBaseRectangle, _super);
    function AnnBaseRectangle(parentObj, topLeft, width, height, imageViewer, forText) {
        if (forText === void 0) { forText = false; }
        var _this = 
        // AnnBaseRectangle can be used either for AnnRectangle which is in annotation layer, or for AnnText which is in label layer
        _super.call(this, parentObj, imageViewer) || this;
        // Set layer based on its usage
        _this.forText = forText;
        _this.jcObj = jCanvaScript.rect(topLeft.x, topLeft.y, width, height, _this.selectedColor).layer(forText ? _this.labelLayerId : _this.layerId);
        _super.prototype.setJcObj.call(_this);
        _this.setMouseResponsible(!forText);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseRectangle.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y = this.image.height() - this.jcObj._y;
            this.jcObj._height = -this.jcObj._height;
        }
        else {
            this.jcObj._x = this.image.width() - this.jcObj._x;
            this.jcObj._width = -this.jcObj._width;
        }
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseRectangle.prototype.getSurroundPointList = function () {
        var rect = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](this.jcObj._x, this.jcObj._y, this.jcObj._width, this.jcObj._height);
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFromRect(rect);
        return this.forText
            ? _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].imageListToImageList(pointList, this.imageViewer.getAnnLabelLayer().transform(), this.imageViewer.getImageLayer().transform())
            : pointList;
    };
    AnnBaseRectangle.prototype.redraw = function (rect) {
        this.onMove({ x: rect.x, y: rect.y });
        this.setWidth(rect.width);
        this.setHeight(rect.height);
    };
    AnnBaseRectangle.prototype.getAreaString = function () {
        var width = this.getWidth();
        var height = this.getHeight();
        var area = Math.abs(width * height);
        var areaString = "Size = ";
        if (this.pixelSpacing) {
            areaString += (area * this.pixelSpacing.cx * this.pixelSpacing.cy).toFixed(2) + "mm2";
        }
        else {
            areaString += area.toFixed(2) + "pt2";
        }
        return areaString;
    };
    return AnnBaseRectangle;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_2__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-text.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-text.ts ***!
  \*********************************************************/
/*! exports provided: AnnBaseText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseText", function() { return AnnBaseText; });
/* harmony import */ var _models_misc_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/misc-data */ "./src/app/models/misc-data.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AnnBaseText = /** @class */ (function (_super) {
    __extends(AnnBaseText, _super);
    function AnnBaseText(parentObj, text, startPoint, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        // The coordinate of input point is for annotation layer, since text will always be drawn in label layer, need to convert the coordinate
        startPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].annLayerToAnnLabelLayer(startPoint, imageViewer);
        var font = new _models_misc_data__WEBPACK_IMPORTED_MODULE_0__["FontData"]("Times New Roman", "#FFF", _this.parentObj.getFontSize());
        _this.jcObj = jCanvaScript.text(text, startPoint.x, startPoint.y).color(_this.selectedColor).font(font.getCanvasFontString()).layer(_this.labelLayerId).align("left");
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseText.prototype.onScale = function () {
        // When scale value changed, the font size need to be changed as well to make sure it look unchanged in the screen
        var font = new _models_misc_data__WEBPACK_IMPORTED_MODULE_0__["FontData"]("Times New Roman", "#FFF", this.parentObj.getFontSize());
        this.jcObj.font(font.getCanvasFontString());
    };
    AnnBaseText.prototype.onMove = function (point) {
        // The coordinate of input point is for annotation layer, since text will always be drawn in label layer, need to convert the coordinate
        point = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].annLayerToAnnLabelLayer(point, this.imageViewer);
        _super.prototype.onMove.call(this, point);
    };
    AnnBaseText.prototype.getRect = function () {
        // Not sure why JCanvas returns the wrong rect, adjust it
        var rect = this.jcObj.getRect("poor");
        var newHeight = this.parentObj.getFontSize();
        rect.y -= newHeight - rect.height - 2;
        rect.height = newHeight + 4;
        rect.x -= 2;
        rect.width += 4;
        return rect;
    };
    AnnBaseText.prototype.getTransformMatrix = function () {
        // Text is always in label layer
        return this.imageViewer.getAnnLabelLayer().transform();
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseText.prototype.setText = function (text) {
        this.jcObj.string(text);
    };
    return AnnBaseText;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_2__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-arrow.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-arrow.ts ***!
  \*******************************************************/
/*! exports provided: AnnArrow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnArrow", function() { return AnnArrow; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnArrow = /** @class */ (function (_super) {
    __extends(AnnArrow, _super);
    function AnnArrow(parent, imageViewer) {
        return _super.call(this, parent, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnArrow.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annLine) {
                this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_4__["AnnLine"](this, this.imageViewer);
                this.annLine.onMouseEvent(mouseEventType, point, null);
            }
            else {
                this.annLine.onMouseEvent(mouseEventType, point, null);
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annLine) {
                this.annLine.onMouseEvent(mouseEventType, point, null);
                this.redrawArrow(this.annLine.getStartPosition(), imagePoint);
            }
        }
    };
    AnnArrow.prototype.onCreate = function (arrowStartPoint, arrowEndPoint) {
        this.onDeleteChildren();
        this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_4__["AnnLine"](this, this.imageViewer);
        this.annLine.onCreate(arrowStartPoint, arrowEndPoint);
        this.redrawArrow(arrowStartPoint, arrowEndPoint);
    };
    AnnArrow.prototype.onDrag = function (deltaX, deltaY) {
        this.annLine.onDrag(deltaX, deltaY);
        this.redrawArrow(this.annLine.getStartPosition(), this.annLine.getEndPosition());
    };
    AnnArrow.prototype.onScale = function () {
        _super.prototype.onScale.call(this);
        this.redrawArrow(this.annLine.getStartPosition(), this.annLine.getEndPosition());
    };
    AnnArrow.prototype.onSwitchFocus = function () {
        this.annLine.onSwitchFocus();
    };
    AnnArrow.prototype.onMoveStartPoint = function (point) {
        this.annLine.onMoveStartPoint(point);
        var endPoint = this.annLine.getEndPosition();
        this.redrawArrow(point, endPoint);
    };
    AnnArrow.prototype.onMoveEndPoint = function (point) {
        this.annLine.onMoveEndPoint(point);
        var startPoint = this.annLine.getStartPosition();
        this.redrawArrow(startPoint, point);
    };
    AnnArrow.prototype.getStartPosition = function () {
        return this.annLine.getStartPosition();
    };
    AnnArrow.prototype.getEndPosition = function () {
        return this.annLine.getEndPosition();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnArrow.prototype.redrawArrow = function (startPoint, endPoint) {
        var arrowLength = this.getArrowLineLength();
        var sineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, startPoint);
        var cosineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, startPoint);
        var lineAEndPoint = {
            x: endPoint.x + arrowLength * cosineTheta - arrowLength / 2.0 * sineTheta,
            y: endPoint.y + arrowLength * sineTheta + arrowLength / 2.0 * cosineTheta
        };
        var lineBEndPoint = {
            x: endPoint.x + arrowLength * cosineTheta + arrowLength / 2.0 * sineTheta,
            y: endPoint.y + arrowLength * sineTheta - arrowLength / 2.0 * cosineTheta
        };
        if (this.annArrowLineA && this.annArrowLineB) {
            this.annArrowLineA.onMoveStartPoint(endPoint);
            this.annArrowLineA.onMoveEndPoint(lineAEndPoint);
            this.annArrowLineB.onMoveStartPoint(endPoint);
            this.annArrowLineB.onMoveEndPoint(lineBEndPoint);
        }
        else {
            this.annArrowLineA = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, endPoint, lineAEndPoint, this.imageViewer);
            this.annArrowLineA.setMouseResponsible(false);
            this.annArrowLineB = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, endPoint, lineBEndPoint, this.imageViewer);
            this.annArrowLineB.setMouseResponsible(false);
        }
    };
    return AnnArrow;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-cardiothoracic-ratio.ts":
/*!**********************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-cardiothoracic-ratio.ts ***!
  \**********************************************************************/
/*! exports provided: AnnCardiothoracicRatio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnCardiothoracicRatio", function() { return AnnCardiothoracicRatio; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
/* harmony import */ var _ann_line__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var AnnCardiothoracicRatio = /** @class */ (function (_super) {
    __extends(AnnCardiothoracicRatio, _super);
    function AnnCardiothoracicRatio(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.annPointList = [];
        _this.annLineList = [];
        _this.annTypeName = "Cardiothoracic Ratio";
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnCardiothoracicRatio.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        var stepIndex = this.imageViewer.getCurrentStepIndex();
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            switch (stepIndex) {
                // Draw the start point of line Ab
                case 0: {
                    this.onStep1(point, imagePoint);
                    break;
                }
                // Draw line AB and point B
                case 1: {
                    this.onStep2(imagePoint);
                    break;
                }
                // Draw the start point of line Cd
                case 2: {
                    this.onStep3(point, imagePoint);
                    break;
                }
                // Draw base line Cc and Dd, draw point D, delete temp line Cd
                case 3: {
                    this.onStep4(imagePoint);
                    break;
                }
                // Draw the start point of line EF
                case 4: {
                    this.onStep5(point, imagePoint);
                    break;
                }
                // Draw base line Ee and Ff, draw point F, delete temp line Ef
                case 5: {
                    this.onStep6(imagePoint);
                    break;
                }
                default: {
                    alert("Invalid step index " + stepIndex);
                    return;
                }
            }
            // Step the guide
            this.imageViewer.stepGuide();
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            switch (stepIndex) {
                // Move the end point of line AB
                case 1: {
                    this.annLineAb.onMouseEvent(mouseEventType, point, null);
                    break;
                }
                // Move the end point of line CD
                case 3: {
                    this.annLineCd.onMouseEvent(mouseEventType, point, null);
                    break;
                }
                // Move the end point of line EF
                case 5: {
                    this.annLineEf.onMouseEvent(mouseEventType, point, null);
                    break;
                }
            }
        }
    };
    AnnCardiothoracicRatio.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj.getStepIndex() !== -1) {
            this.focusedObj.onTranslate(deltaX, deltaY);
            this.redraw();
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnCardiothoracicRatio.prototype.onSwitchFocus = function () {
        var _this = this;
        var index = this.annPointList.findIndex(function (annObj) { return annObj === _this.focusedObj; });
        if (index === -1) {
            // Current focused object is text indicator
            this.onChildSelected(this.annPointList[0]);
        }
        else if (index === this.annPointList.length - 1) {
            this.onChildSelected(this.annTextIndicator);
        }
        else {
            this.onChildSelected(this.annPointList[index + 1]);
        }
    };
    // The arrow of the text indicator will always point to the  point A
    AnnCardiothoracicRatio.prototype.getSurroundPointList = function () {
        return [this.annPointList[0].getPosition()];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnCardiothoracicRatio.prototype.onStep1 = function (screenPoint, imagePoint) {
        this.annLineAb = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLineAb.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, screenPoint, null);
        var annPointA = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointA.onCreate(imagePoint);
        annPointA.setStepIndex(0);
        this.annPointList.push(annPointA);
        var annBaseLineAa = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, imagePoint, imagePoint, this.imageViewer);
        this.annLineList.push(annBaseLineAa);
    };
    AnnCardiothoracicRatio.prototype.onStep2 = function (imagePoint) {
        var pointA = this.annLineAb.getStartPosition();
        this.onDeleteChild(this.annLineAb);
        this.annBaseLineAb = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointA, imagePoint, this.imageViewer);
        var annPointB = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointB.onCreate(imagePoint);
        annPointB.setStepIndex(1);
        this.annPointList.push(annPointB);
        var annBaseLineBb = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, imagePoint, imagePoint, this.imageViewer);
        this.annLineList.push(annBaseLineBb);
    };
    AnnCardiothoracicRatio.prototype.onStep3 = function (screenPoint, imagePoint) {
        this.annLineCd = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLineCd.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, screenPoint, null);
        var annPointC = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointC.onCreate(imagePoint);
        annPointC.setStepIndex(2);
        this.annPointList.push(annPointC);
    };
    AnnCardiothoracicRatio.prototype.onStep4 = function (imagePoint) {
        var pointC = this.annLineCd.getStartPosition();
        var pointD = this.annLineCd.getEndPosition();
        this.onDeleteChild(this.annLineCd);
        var footPointC = this.handleFootPoint(pointC);
        var annBaseLineCc = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointC, footPointC, this.imageViewer);
        this.annLineList.push(annBaseLineCc);
        var footPointD = this.handleFootPoint(pointD);
        var annBaseLineDd = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointD, footPointD, this.imageViewer);
        this.annLineList.push(annBaseLineDd);
        var annPointD = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointD.onCreate(pointD);
        annPointD.setStepIndex(3);
        this.annPointList.push(annPointD);
    };
    AnnCardiothoracicRatio.prototype.onStep5 = function (screenPoint, imagePoint) {
        this.annLineEf = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLineEf.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, screenPoint, null);
        var annPointE = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointE.onCreate(imagePoint);
        annPointE.setStepIndex(4);
        this.annPointList.push(annPointE);
    };
    AnnCardiothoracicRatio.prototype.onStep6 = function (imagePoint) {
        var pointE = this.annLineEf.getStartPosition();
        var pointF = this.annLineEf.getEndPosition();
        this.onDeleteChild(this.annLineEf);
        var footPointE = this.handleFootPoint(pointE);
        var annBaseLineEe = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointE, footPointE, this.imageViewer);
        this.annLineList.push(annBaseLineEe);
        var footPointF = this.handleFootPoint(pointF);
        var annBaseLineFf = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointF, footPointF, this.imageViewer);
        this.annLineList.push(annBaseLineFf);
        var annPointF = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointF.onCreate(pointF);
        annPointF.setStepIndex(5);
        this.annPointList.push(annPointF);
        this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
        this.annTextIndicator.onCreate(this.annBaseLineAb.getStartPosition(), this.getText());
        this.focusedObj = this.annPointList[0];
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    AnnCardiothoracicRatio.prototype.getText = function () {
        var heartWidth = this.annLineList[2].getLengthInPixel() + this.annLineList[3].getLengthInPixel();
        var chestWidth = this.annLineList[4].getLengthInPixel() + this.annLineList[5].getLengthInPixel();
        var ratio = (heartWidth * 100 / chestWidth).toFixed(2);
        // Sail: What if the pixel spacing of x and y is different???
        return this.pixelSpacing ? "H: {0}mm / C: {1}mm / R: {2}%".format((heartWidth * this.pixelSpacing.cx).toFixed(2), (chestWidth * this.pixelSpacing.cx).toFixed(2), ratio) :
            "H: {0}pt / C: {1}pt / R: {2}%".format(heartWidth.toFixed(2), chestWidth.toFixed(2), ratio);
    };
    AnnCardiothoracicRatio.prototype.handleFootPoint = function (point) {
        var pointA = this.annBaseLineAb.getStartPosition();
        var pointB = this.annBaseLineAb.getEndPosition();
        var footPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcFootPoint(pointA, pointB, point);
        var chestPointResult = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInLine(footPoint, pointA, pointB);
        if (!chestPointResult.isInLine) {
            this.onNewFootPoint(footPoint, chestPointResult.nearStart ? 0 : 1);
        }
        return footPoint;
    };
    AnnCardiothoracicRatio.prototype.onNewFootPoint = function (footPoint, index) {
        // index must be 0 or 1. 0 means start point(A), 1 means end point(B).
        if (index !== 0 && index !== 1) {
            alert("Internal error in onNewFootPoint");
            return;
        }
        var startPoint = this.annPointList[index].getPosition();
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(footPoint, startPoint) > this.annLineList[index].getLengthInPixel()) {
            this.annLineList[index].onMoveEndPoint(footPoint);
        }
    };
    AnnCardiothoracicRatio.prototype.redraw = function () {
        var pointList = [];
        for (var i = 0; i < this.annPointList.length; i++) {
            pointList.push(this.annPointList[i].getPosition());
        }
        this.annBaseLineAb.onMoveStartPoint(pointList[0]);
        this.annBaseLineAb.onMoveEndPoint(pointList[1]);
        for (var i = 0; i < 2; i++) {
            this.annLineList[i].onMoveStartPoint(pointList[i]);
            this.annLineList[i].onMoveEndPoint(pointList[i]);
        }
        for (var i = 2; i < this.annPointList.length; i++) {
            var footPoint = this.handleFootPoint(pointList[i]);
            this.annLineList[i].onMoveStartPoint(pointList[i]);
            this.annLineList[i].onMoveEndPoint(footPoint);
        }
        this.annTextIndicator.setText(this.getText());
    };
    return AnnCardiothoracicRatio;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-curve.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-curve.ts ***!
  \*******************************************************/
/*! exports provided: AnnCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnCurve", function() { return AnnCurve; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_curve__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base-object/ann-base-curve */ "./src/app/annotation/base-object/ann-base-curve.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnCurve = /** @class */ (function (_super) {
    __extends(AnnCurve, _super);
    function AnnCurve(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.annTypeName = "Cervical Curve";
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnCurve.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            var stepIndex = this.imageViewer.getCurrentStepIndex();
            switch (stepIndex) {
                // Step 0: Draw the start point
                case 0: {
                    this.onStep1(imagePoint);
                    break;
                }
                // Draw line AB and point B
                case 1: {
                    this.onStep2(imagePoint);
                    break;
                }
                // Draw the start point of line Cd
                case 2: {
                    this.onStep3(imagePoint);
                    break;
                }
                default: {
                    alert("Invalid step index " + stepIndex);
                    return;
                }
            }
            // Step the guide
            this.imageViewer.stepGuide();
        }
    };
    AnnCurve.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annStartPoint) {
            this.onDragStartPoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annEndPoint) {
            this.onDragEndPoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annMiddlePoint) {
            this.onDragMiddlePoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnCurve.prototype.onFlip = function (vertical) {
        this.annStartPoint.onFlip(vertical);
        this.annEndPoint.onFlip(vertical);
        this.annMiddlePoint.onFlip(vertical);
        this.annTextIndicator.onFlip(vertical);
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        this.redraw(startPoint, endPoint, middlePoint);
    };
    // The arrow of the text indicator will always point to the middle point
    AnnCurve.prototype.getSurroundPointList = function () {
        return [this.annMiddlePoint.getPosition()];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnCurve.prototype.onStep1 = function (imagePoint) {
        this.annStartPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
        this.annStartPoint.onCreate(imagePoint);
        this.annStartPoint.setStepIndex(0);
    };
    AnnCurve.prototype.onStep2 = function (imagePoint) {
        var startPoint = this.annStartPoint.getPosition();
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].equalPoint(imagePoint, startPoint))
            return;
        var radius = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(startPoint, imagePoint);
        var middlePoint = this.calcMiddlePoint(startPoint, imagePoint, radius);
        this.redraw(startPoint, imagePoint, middlePoint);
        this.annEndPoint.setStepIndex(1);
    };
    AnnCurve.prototype.onStep3 = function (imagePoint) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        var lineCenter = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(startPoint, endPoint);
        // another middle point
        var newMiddlePoint = { x: lineCenter.x * 2 - middlePoint.x, y: lineCenter.y * 2 - middlePoint.y };
        // The nearest is the wanted
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(imagePoint, newMiddlePoint) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(imagePoint, middlePoint)) {
            this.redraw(startPoint, endPoint, newMiddlePoint);
        }
        this.annMiddlePoint.setStepIndex(2);
        this.focusedObj = this.annMiddlePoint;
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    // Calculate the middle point of the curve (The curve is determined by start/end point and its radius, default direction is left or up)
    AnnCurve.prototype.calcMiddlePoint = function (startPoint, endPoint, radius) {
        var pointDir = { x: 1, y: 1 };
        var centerPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(startPoint, endPoint);
        var dSinAB = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(startPoint, endPoint);
        var dCosAB = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(startPoint, endPoint);
        var dLineAD = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(startPoint, centerPoint);
        var ptO1 = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        var ptO2 = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        //get the two center ponints.
        //check if the arc is almost 180, if true, lineAd is the radius
        if (Math.abs(dLineAD - radius) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].minDelta || radius < dLineAD) {
            ptO1.x = ptO2.x = centerPoint.x;
            ptO1.y = ptO2.y = centerPoint.y;
        }
        else {
            var dLineOD = Math.sqrt(Math.abs(radius * radius - dLineAD * dLineAD));
            ptO1.x = centerPoint.x + dLineOD * dSinAB;
            ptO1.y = centerPoint.y - dLineOD * dCosAB;
            ptO2.x = centerPoint.x - dLineOD * dSinAB;
            ptO2.y = centerPoint.y + dLineOD * dCosAB;
        }
        var dSinBA = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, startPoint), dCosBA = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, startPoint), dSinBC = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, pointDir), dCosBC = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, pointDir);
        //determine the center point
        var middlePoint = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        var dSinBC_BA = dSinBC * dCosBA - dCosBC * dSinBA;
        if (dSinBC_BA < 0.0) {
            middlePoint.x = ptO1.x - radius * dSinAB;
            middlePoint.y = ptO1.y + radius * dCosAB;
        }
        else {
            middlePoint.x = ptO2.x + radius * dSinAB;
            middlePoint.y = ptO2.y - radius * dCosAB;
        }
        return middlePoint;
    };
    // Calculate the center point of the curve ( The curve is determined by three points )
    AnnCurve.prototype.calcCenterBy3Points = function (startPoint, endPoint, middlePoint) {
        var isInvalid = false;
        var needRevert = false;
        // D and E is center point of Line AB and Line BC
        var ptD = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(startPoint, endPoint);
        var ptE = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(endPoint, middlePoint);
        // k of Line OD and Line OE
        // O is center point of arc
        //
        var dkOD = -(endPoint.x - startPoint.x) / (endPoint.y - startPoint.y);
        var dkOE = -(middlePoint.x - endPoint.x) / (middlePoint.y - endPoint.y);
        var centerPoint = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        if (Math.abs(middlePoint.y - endPoint.y) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].minDelta) {
            centerPoint.x = ptE.x;
            centerPoint.y = (ptE.x - ptD.x) * dkOD + ptD.y;
        }
        else if (Math.abs(endPoint.y - startPoint.y) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].minDelta) {
            centerPoint.x = ptD.x;
            centerPoint.y = (ptD.x - ptE.x) * dkOE + ptE.y;
        }
        else if (Math.abs(middlePoint.x - endPoint.x) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].minDelta) {
            centerPoint.y = ptE.y;
            centerPoint.x = (ptE.y - ptD.y) / dkOD + ptD.x;
        }
        else if (Math.abs(endPoint.x - startPoint.x) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].minDelta) {
            centerPoint.y = ptD.y;
            centerPoint.x = (ptD.y - ptE.y) / dkOE + ptE.x;
        }
        else {
            centerPoint.x = (ptE.y - ptD.y - (ptE.x * dkOE) + (ptD.x * dkOD)) / (dkOD - dkOE);
            centerPoint.y = ptD.y + dkOD * (centerPoint.x - ptD.x);
        }
        // Analysis Start Point and End point
        // Arc() always draw arc in a Clockwise
        //
        var dSinBA = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, startPoint), dCosBA = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, startPoint), dSinBC = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, middlePoint), dCosBC = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, middlePoint);
        var dSinBC_BA = dSinBC * dCosBA - dCosBC * dSinBA;
        // Check Arc angle
        //
        var dSinOA = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(centerPoint, startPoint), dCosOA = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(centerPoint, startPoint), dSinOB = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(centerPoint, endPoint), dCosOB = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(centerPoint, endPoint);
        var dSinArc = dSinOA * dCosOB - dCosOA * dSinOB;
        if (dSinBC_BA > 0.0) {
            dSinArc = (-1.0) * dSinArc;
        }
        if (dSinArc < 0.0) {
            isInvalid = true;
        }
        //need to revert start and end.
        if (dSinBC_BA > 0.0) {
            needRevert = true;
        }
        return { centerPoint: centerPoint, isInvalid: isInvalid, needRevert: needRevert };
    };
    // Calculate all necessary information of a curve
    AnnCurve.prototype.calcArcBy3Points = function (startPoint, endPoint, middlePoint, needCheckArc) {
        var arcData = this.calcCenterBy3Points(startPoint, endPoint, middlePoint);
        if (needCheckArc && arcData.isInvalid)
            return false; //user may drag the point out of range
        var radius = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(arcData.centerPoint, startPoint);
        var dSinAB = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(startPoint, endPoint);
        var dCosAB = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(startPoint, endPoint);
        if (arcData.needRevert) {
            middlePoint.x = arcData.centerPoint.x + radius * dSinAB;
            middlePoint.y = arcData.centerPoint.y - radius * dCosAB;
        }
        else {
            middlePoint.x = arcData.centerPoint.x - radius * dSinAB;
            middlePoint.y = arcData.centerPoint.y + radius * dCosAB;
        }
        var arcStart = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcLineAngle(arcData.centerPoint, startPoint);
        var arcEnd = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcLineAngle(arcData.centerPoint, endPoint);
        if (arcEnd < arcStart) {
            arcEnd = arcEnd + 360.0;
        }
        return {
            centerPoint: arcData.centerPoint,
            startPoint: startPoint,
            endPoint: endPoint,
            middlePoint: middlePoint,
            radius: radius,
            startAngle: arcStart,
            endAngle: arcEnd,
            anticlockwise: !arcData.needRevert
        };
    };
    // Calcuate the curve angle of two lines that share the same point
    //private calcCurveAngle(startPoint: Point, endPoint: Point, centerPoint: Point): any {
    //    const arcStart = AnnPoint.calcLineAngle(centerPoint, startPoint);
    //    let arcEnd = AnnPoint.calcLineAngle(centerPoint, endPoint);
    //    if (arcEnd < arcStart) {
    //        arcEnd = arcEnd + 360.0;
    //    }
    //    return { startAngle: arcStart, endAngle: arcEnd };
    //}
    AnnCurve.prototype.onDragStartPoint = function (deltaX, deltaY) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        startPoint.x += deltaX;
        startPoint.y += deltaY;
        this.redraw(startPoint, endPoint, middlePoint);
    };
    AnnCurve.prototype.onDragEndPoint = function (deltaX, deltaY) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        endPoint.x += deltaX;
        endPoint.y += deltaY;
        this.redraw(startPoint, endPoint, middlePoint);
    };
    AnnCurve.prototype.onDragMiddlePoint = function (deltaX, deltaY) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        middlePoint.x += deltaX;
        middlePoint.y += deltaY;
        this.redraw(startPoint, endPoint, middlePoint);
    };
    // Redraw the curve
    AnnCurve.prototype.redraw = function (startPoint, endPoint, middlePoint) {
        var arcData = this.calcArcBy3Points(startPoint, endPoint, middlePoint, true);
        if (!arcData)
            return;
        if (this.annCurve) {
            this.annStartPoint.onMove(arcData.startPoint);
            this.annEndPoint.onMove(arcData.endPoint);
            this.annMiddlePoint.onMove(arcData.middlePoint);
            this.annCurve.onMove(arcData.centerPoint);
            this.annCurve.setRadius(arcData.radius);
            this.annCurve.setAngle(arcData.startAngle, arcData.endAngle);
            this.annCurve.setAnticlockwise(arcData.anticlockwise);
            this.annTextIndicator.setText(this.annCurve.getText());
        }
        else {
            this.annEndPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            this.annEndPoint.onCreate(endPoint);
            this.annMiddlePoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            this.annMiddlePoint.onCreate(middlePoint);
            this.annCurve = new _base_object_ann_base_curve__WEBPACK_IMPORTED_MODULE_4__["AnnBaseCurve"](this, arcData.centerPoint, arcData.radius, arcData.startAngle, arcData.endAngle, arcData.anticlockwise, this.imageViewer);
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(middlePoint, this.annCurve.getText());
            this.annCurve.onLevelDown();
        }
    };
    return AnnCurve;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-ellipse.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-ellipse.ts ***!
  \*********************************************************/
/*! exports provided: AnnEllipse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnEllipse", function() { return AnnEllipse; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_ellipse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-ellipse */ "./src/app/annotation/base-object/ann-base-ellipse.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnEllipse = /** @class */ (function (_super) {
    __extends(AnnEllipse, _super);
    function AnnEllipse(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.annPointList = new Array();
        _this.widthSet = false;
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnEllipse.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annCenterPoint) {
                this.annCenterPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
                this.annCenterPoint.onCreate(imagePoint);
            }
            else {
                if (!this.widthSet) {
                    this.widthSet = true;
                    return;
                }
                this.focusedObj = this.annEllipse;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annCenterPoint) {
                var centerPoint = this.annCenterPoint.getPosition();
                var topPoint = { x: centerPoint.x, y: centerPoint.y * 2 - imagePoint.y };
                var bottomPoint = { x: centerPoint.x, y: imagePoint.y };
                var leftPoint = { x: centerPoint.x * 2 - imagePoint.x, y: centerPoint.y };
                var rightPoint = { x: imagePoint.x, y: centerPoint.y };
                if (this.annEllipse) {
                    if (this.widthSet) {
                        var width = this.annEllipse.getWidth();
                        leftPoint.x = centerPoint.x - width;
                        rightPoint.x = centerPoint.x + width;
                    }
                    this.redraw(topPoint, bottomPoint, leftPoint, rightPoint);
                }
                else {
                    this.annEllipse = new _base_object_ann_base_ellipse__WEBPACK_IMPORTED_MODULE_3__["AnnBaseEllipse"](this, centerPoint, imagePoint.x - centerPoint.x, imagePoint.y - centerPoint.y, this.imageViewer);
                    var annTopPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
                    annTopPoint.onCreate(topPoint);
                    this.annPointList.push(annTopPoint);
                    var annRightPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
                    annRightPoint.onCreate(rightPoint);
                    this.annPointList.push(annRightPoint);
                    var annBottomPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
                    annBottomPoint.onCreate(bottomPoint);
                    this.annPointList.push(annBottomPoint);
                    var annLeftPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
                    annLeftPoint.onCreate(leftPoint);
                    this.annPointList.push(annLeftPoint);
                    this.annCenterPoint.onLevelUp();
                    this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
                    this.annTextIndicator.onCreate(topPoint, this.annEllipse.getAreaString());
                }
            }
        }
    };
    AnnEllipse.prototype.onDrag = function (deltaX, deltaY) {
        var _this = this;
        if (this.focusedObj === this.annCenterPoint || this.focusedObj === this.annEllipse) {
            this.onTranslate(deltaX, deltaY);
        }
        else if (this.annPointList.some(function (annObj) { return annObj === _this.focusedObj; })) {
            this.onPointDragged(this.focusedObj, deltaX, deltaY);
        }
        else if (this.annTextIndicator === this.focusedObj) {
            this.onTextDragged(deltaX, deltaY);
        }
    };
    AnnEllipse.prototype.getSurroundPointList = function () {
        var pointList = [];
        for (var i = 0; i < 4; i++) {
            pointList.push(this.annPointList[i].getPosition());
        }
        return pointList;
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnEllipse.prototype.redraw = function (topPoint, bottomPoint, leftPoint, rightPoint) {
        this.annEllipse.setWidth(rightPoint.x - topPoint.x);
        this.annEllipse.setHeight(topPoint.y - rightPoint.y);
        this.annPointList[0].onMove(topPoint);
        this.annPointList[1].onMove(rightPoint);
        this.annPointList[2].onMove(bottomPoint);
        this.annPointList[3].onMove(leftPoint);
        this.annTextIndicator.redrawArrow();
        this.annTextIndicator.setText(this.annEllipse.getAreaString());
    };
    AnnEllipse.prototype.onTextDragged = function (deltaX, deltaY) {
        this.annTextIndicator.onDrag(deltaX, deltaY);
    };
    AnnEllipse.prototype.onPointDragged = function (draggedObj, deltaX, deltaY) {
        var topPoint = this.annPointList[0].getPosition();
        var leftPoint = this.annPointList[3].getPosition();
        var rightPoint = this.annPointList[1].getPosition();
        var bottomPoint = this.annPointList[2].getPosition();
        if (draggedObj === this.annPointList[0]) {
            topPoint.y += deltaY;
            bottomPoint.y -= deltaY;
        }
        else if (draggedObj === this.annPointList[3]) {
            leftPoint.x += deltaX;
            rightPoint.x -= deltaX;
        }
        else if (draggedObj === this.annPointList[1]) {
            leftPoint.x -= deltaX;
            rightPoint.x += deltaX;
        }
        else if (draggedObj === this.annPointList[2]) {
            topPoint.y -= deltaY;
            bottomPoint.y += deltaY;
        }
        this.redraw(topPoint, bottomPoint, leftPoint, rightPoint);
    };
    return AnnEllipse;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_4__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-extend-object.ts":
/*!***************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-extend-object.ts ***!
  \***************************************************************/
/*! exports provided: AnnExtendObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnExtendObject", function() { return AnnExtendObject; });
/* harmony import */ var _ann_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-object */ "./src/app/annotation/ann-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnExtendObject = /** @class */ (function (_super) {
    __extends(AnnExtendObject, _super);
    function AnnExtendObject(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.annObjList = [];
        _this.guideNeeded = false;
        if (parentObj) {
            parentObj.onChildCreated(_this);
        }
        return _this;
    }
    AnnExtendObject.prototype.getTypeName = function () {
        return this.annTypeName;
    };
    AnnExtendObject.prototype.setGuideNeeded = function (guideNeeded) {
        this.guideNeeded = guideNeeded;
    };
    AnnExtendObject.prototype.isGuideNeeded = function () {
        return this.guideNeeded;
    };
    AnnExtendObject.prototype.selectChildByStepIndex = function (stepIndex) {
        if (!this.isGuideNeeded())
            return;
        var annChildList = this.annObjList.filter(function (annObj) { return annObj.getStepIndex() === stepIndex; });
        if (annChildList.length > 0) {
            this.focusedObj = annChildList[0];
            this.onSelect(true, true);
        }
    };
    AnnExtendObject.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        alert("Error in AnnExtendObject.onMouseEvent, this function must be overrided.");
    };
    AnnExtendObject.prototype.onSwitchFocus = function () {
        var _this = this;
        if (!this.focusedObj) {
            alert("No focus object set!");
            return;
        }
        var index = this.annObjList.findIndex(function (annObj) { return annObj === _this.focusedObj; });
        var nextIndex = index === this.annObjList.length - 1 ? 0 : index + 1;
        this.onChildSelected(this.annObjList[nextIndex]);
    };
    AnnExtendObject.prototype.onDeleteChild = function (annChildObj) {
        annChildObj.onDeleteChildren();
        var index = this.annObjList.findIndex(function (annObj) { return annObj === annChildObj; });
        if (index !== -1) {
            this.annObjList.splice(index, 1);
        }
        else {
            alert("Internal error!  AnnExtendObject.onDeleteChild() - Can NOT find child to be delete");
        }
    };
    AnnExtendObject.prototype.onChildCreated = function (annChildObj) {
        // A child annotation is created, add it to the children list
        this.addChildObj(annChildObj);
    };
    AnnExtendObject.prototype.onDrawEnded = function () {
        if (this.mouseResponsible) {
            this.annObjList.forEach(function (annObj) { return annObj.onDrawEnded(); });
        }
        this.created = true;
        if (!this.parentObj) {
            // Parent not set, this mean it is not a child of a parentObj annotion. 
            this.imageViewer.onAnnotationCreated(this);
        }
    };
    AnnExtendObject.prototype.onDrag = function (deltaX, deltaY) {
        this.onTranslate(deltaX, deltaY);
    };
    AnnExtendObject.prototype.onSelect = function (selected, focused) {
        var _this = this;
        this.selected = selected;
        this.annObjList.forEach(function (annObj) { return annObj.onSelect(selected, focused && annObj === _this.focusedObj); });
        if (!this.parentObj && this.selected) {
            this.imageViewer.selectAnnotation(this);
        }
    };
    AnnExtendObject.prototype.onRotate = function (angle) {
        this.annObjList.forEach(function (annObj) {
            // The text indicator is drawn in the separated layer, need to rotate it.
            if (annObj.constructor.name === "AnnTextIndicator") {
                annObj.onRotate(angle);
            }
        });
    };
    AnnExtendObject.prototype.onScale = function () {
        this.annObjList.forEach(function (annObj) { return annObj.onScale(); });
    };
    AnnExtendObject.prototype.onFlip = function (vertical) {
        this.annObjList.forEach(function (annObj) { return annObj.onFlip(vertical); });
    };
    AnnExtendObject.prototype.onTranslate = function (deltaX, deltaY) {
        this.annObjList.forEach(function (annObj) { return annObj.onTranslate(deltaX, deltaY); });
    };
    AnnExtendObject.prototype.onMove = function (point) {
        this.annObjList.forEach(function (annObj) { return annObj.onMove(point); });
    };
    AnnExtendObject.prototype.onDeleteChildren = function () {
        this.annObjList.forEach(function (annObj) { return annObj.onDeleteChildren(); });
    };
    AnnExtendObject.prototype.onLevelUp = function (level) {
        if (level === void 0) { level = 1; }
        this.annObjList.forEach(function (annObj) { return annObj.onLevelUp(level); });
    };
    AnnExtendObject.prototype.onLevelDown = function (level) {
        if (level === void 0) { level = 1; }
        this.annObjList.forEach(function (annObj) { return annObj.onLevelDown(level); });
    };
    AnnExtendObject.prototype.getPosition = function () {
        return { x: 0, y: 0 };
    };
    AnnExtendObject.prototype.getSurroundPointList = function () {
        alert("Internal error : AnnExtendObject.getSurroundPointList() should never be called.");
        return [];
    };
    AnnExtendObject.prototype.getRect = function () {
        alert("Internal error : AnnExtendObject.getRect() should never be called.");
        return undefined;
    };
    AnnExtendObject.prototype.setStepIndex = function (stepIndex) {
        _super.prototype.setStepIndex.call(this, stepIndex);
        this.annObjList.forEach(function (annObj) { return annObj.setStepIndex(stepIndex); });
    };
    AnnExtendObject.prototype.setVisible = function (visible) {
        this.annObjList.forEach(function (annObj) { return annObj.setVisible(visible); });
    };
    AnnExtendObject.prototype.addChildObj = function (annObj) {
        this.annObjList.push(annObj);
    };
    return AnnExtendObject;
}(_ann_object__WEBPACK_IMPORTED_MODULE_0__["AnnObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-image.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-image.ts ***!
  \*******************************************************/
/*! exports provided: AnnImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnImage", function() { return AnnImage; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../extend-object/ann-rectangle */ "./src/app/annotation/extend-object/ann-rectangle.ts");
/* harmony import */ var _base_object_ann_base_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-image */ "./src/app/annotation/base-object/ann-base-image.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnImage = /** @class */ (function (_super) {
    __extends(AnnImage, _super);
    function AnnImage(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnImage.prototype.onMouseEvent = function (mouseEventType, point) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            this.focusedObj = this.annBaseImage;
            if (!this.parentObj) {
                this.onDrawEnded();
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annBaseImage) {
                this.onMove(imagePoint);
            }
        }
    };
    AnnImage.prototype.onCreate = function (imageData, topLeftPoint) {
        this.annBaseImage = new _base_object_ann_base_image__WEBPACK_IMPORTED_MODULE_3__["AnnBaseImage"](this, imageData, topLeftPoint, this.imageViewer);
        var width = this.annBaseImage.getWidth();
        var height = this.annBaseImage.getHeight();
        this.annRectangle = new _extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_2__["AnnRectangle"](this, this.imageViewer);
        this.annRectangle.onCreate(topLeftPoint, width, height, false);
        this.annBaseImage.onLevelDown("bottom");
    };
    AnnImage.prototype.onSelect = function (selected, focused) {
        _super.prototype.onSelect.call(this, selected, focused);
        if (this.annRectangle) {
            this.annRectangle.setVisible(selected);
        }
    };
    AnnImage.prototype.onDrag = function (deltaX, deltaY) {
        if (this.annRectangle === this.focusedObj) {
            this.annRectangle.onDrag(deltaX, deltaY);
            var rect = this.annRectangle.getRect();
            rect = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].formatRect(rect);
            this.annBaseImage.onMove(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](rect.x, rect.y));
            this.annBaseImage.setWidth(rect.width);
            this.annBaseImage.setHeight(rect.height);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnImage.prototype.onMove = function (point) {
        this.annBaseImage.onMove(point);
        var width = this.annBaseImage.getWidth();
        var height = this.annBaseImage.getHeight();
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].pointListFrom(point, _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopLeft, width, height);
        this.annRectangle.redraw(pointList);
    };
    AnnImage.prototype.onSwitchFocus = function () {
        this.annRectangle.onSwitchFocus();
    };
    AnnImage.prototype.getRect = function () {
        return this.annBaseImage.getRect();
    };
    return AnnImage;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_1__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-line.ts":
/*!******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-line.ts ***!
  \******************************************************/
/*! exports provided: AnnLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnLine", function() { return AnnLine; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnLine = /** @class */ (function (_super) {
    __extends(AnnLine, _super);
    function AnnLine(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnLine.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annStartPoint) {
                this.annStartPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
                this.annStartPoint.onCreate(imagePoint);
            }
            else {
                this.focusedObj = this.annLine;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annStartPoint) {
                if (this.annLine) {
                    this.annLine.onMoveEndPoint(imagePoint);
                    this.annEndPoint.onMove(imagePoint);
                }
                else {
                    this.annEndPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
                    this.annEndPoint.onCreate(imagePoint);
                    this.annLine = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, this.annStartPoint.getPosition(), imagePoint, this.imageViewer);
                    // Make sure the start point is on the top the line So that we can easily select it for moving
                    this.annStartPoint.onLevelUp();
                }
            }
        }
    };
    AnnLine.prototype.onCreate = function (startPoint, endPoint) {
        this.onDeleteChildren();
        this.annLine = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, startPoint, endPoint, this.imageViewer);
        this.annStartPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        this.annStartPoint.onCreate(startPoint);
        this.annEndPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        this.annEndPoint.onCreate(endPoint);
        this.focusedObj = this.annLine;
    };
    AnnLine.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annStartPoint) {
            this.onDragStartPoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annEndPoint) {
            this.onDragEndPoint(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnLine.prototype.onMoveStartPoint = function (point) {
        this.annLine.onMoveStartPoint(point);
        this.annStartPoint.onMove(point);
    };
    AnnLine.prototype.onMoveEndPoint = function (point) {
        this.annLine.onMoveEndPoint(point);
        this.annEndPoint.onMove(point);
    };
    AnnLine.prototype.getStartPosition = function () {
        return this.annLine.getStartPosition();
    };
    AnnLine.prototype.getEndPosition = function () {
        return this.annLine.getEndPosition();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnLine.prototype.onDragStartPoint = function (deltaX, deltaY) {
        this.annStartPoint.onTranslate(deltaX, deltaY);
        var point = this.annStartPoint.getPosition();
        this.annLine.onMoveStartPoint(point);
    };
    AnnLine.prototype.onDragEndPoint = function (deltaX, deltaY) {
        this.annEndPoint.onTranslate(deltaX, deltaY);
        var point = this.annEndPoint.getPosition();
        this.annLine.onMoveEndPoint(point);
    };
    return AnnLine;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-mark-spot.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-mark-spot.ts ***!
  \***********************************************************/
/*! exports provided: AnnMarkSpot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnMarkSpot", function() { return AnnMarkSpot; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnMarkSpot = /** @class */ (function (_super) {
    __extends(AnnMarkSpot, _super);
    function AnnMarkSpot(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.annTypeName = "Mark Spot";
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnMarkSpot.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            this.createNewPoint(imagePoint);
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DblClick) {
            // ********** Mouse down was called two times before calling dbclick, need to delete the additional point
            var length_1 = this.annObjList.length;
            if (length_1 > 1) {
                this.onDeleteChild(this.annObjList[length_1 - 1]);
            }
            // Step the guide
            this.imageViewer.stepGuide();
            this.focusedObj = this.annObjList[0];
            if (!this.parentObj) {
                this.onDrawEnded();
            }
        }
    };
    AnnMarkSpot.prototype.onDrag = function (deltaX, deltaY) {
        this.focusedObj.onTranslate(deltaX, deltaY);
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnMarkSpot.prototype.createNewPoint = function (imagePoint) {
        var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
        annPoint.onCreate(imagePoint);
        annPoint.enableShowAlways(true);
        annPoint.setStepIndex(0);
    };
    return AnnMarkSpot;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-point.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-point.ts ***!
  \*******************************************************/
/*! exports provided: AnnPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnPoint", function() { return AnnPoint; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_circle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-circle */ "./src/app/annotation/base-object/ann-base-circle.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnPoint = /** @class */ (function (_super) {
    __extends(AnnPoint, _super);
    function AnnPoint(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.showAlways = false;
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnPoint.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.getTransformMatrix());
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            this.onCreate(imagePoint);
        }
    };
    AnnPoint.prototype.onCreate = function (position) {
        this.annCenterCircle = new _base_object_ann_base_circle__WEBPACK_IMPORTED_MODULE_2__["AnnBaseCircle"](this, position, this.pointRadius, this.imageViewer, true);
        this.annOuterCircle = new _base_object_ann_base_circle__WEBPACK_IMPORTED_MODULE_2__["AnnBaseCircle"](this, position, this.pointRadius * 2, this.imageViewer, false);
        this.annOuterCircle.setVisible(false);
        this.annOuterCircle.setMouseResponsible(false);
        this.annOuterCircle.onLevelDown("bottom");
        this.focusedObj = this.annCenterCircle;
    };
    AnnPoint.prototype.onScale = function () {
        var pointRadius = this.getPointRadius();
        this.setRadius(pointRadius);
        this.annOuterCircle.onScale();
    };
    AnnPoint.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
        var color = selected ? this.selectedColor : this.defaultColor;
        if (focused && !this.focusedObj) {
            this.focusedObj = this.annCenterCircle;
        }
        this.annCenterCircle.setVisible(selected || this.showAlways);
        this.annCenterCircle.setColor(color);
        this.annOuterCircle.setVisible(selected && focused);
    };
    AnnPoint.prototype.setRadius = function (radius) {
        this.annCenterCircle.setRadius(radius);
        this.annOuterCircle.setRadius(radius * 2);
    };
    AnnPoint.prototype.getPosition = function () {
        return this.annCenterCircle.getPosition();
    };
    AnnPoint.prototype.setVisible = function (visible) {
        this.annCenterCircle.setVisible(visible);
        this.annOuterCircle.setVisible(visible && this.parentObj.getFocusedObj() === this);
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnPoint.prototype.enableShowAlways = function (showAlways) {
        this.showAlways = showAlways;
    };
    return AnnPoint;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-rectangle.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-rectangle.ts ***!
  \***********************************************************/
/*! exports provided: AnnRectangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnRectangle", function() { return AnnRectangle; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base-object/ann-base-rectangle */ "./src/app/annotation/base-object/ann-base-rectangle.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnRectangle = /** @class */ (function (_super) {
    __extends(AnnRectangle, _super);
    function AnnRectangle(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        /*
             P0                                         P1
                --------------------------------------
                |                                    |
                |                                    |
                |                                    |
                --------------------------------------
             P3                                         P2
    
        */
        _this.annPointList = new Array();
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnRectangle.prototype.onMouseEvent = function (mouseEventType, point) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (this.annPointList.length === 0) {
                var annTopLeftPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
                annTopLeftPoint.onCreate(imagePoint);
                this.annPointList.push(annTopLeftPoint);
            }
            else {
                this.focusedObj = this.annBaseRectangle;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annPointList.length !== 0) {
                var pointList = [];
                var topLeftPoint = this.annPointList[0].getPosition();
                pointList.push(topLeftPoint);
                pointList.push({ x: imagePoint.x, y: topLeftPoint.y });
                pointList.push(imagePoint);
                pointList.push({ x: topLeftPoint.x, y: imagePoint.y });
                if (this.annBaseRectangle) {
                    this.redraw(pointList);
                }
                else {
                    for (var i = 1; i < 4; i++) {
                        var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
                        annPoint.onCreate(pointList[i]);
                        this.annPointList.push(annPoint);
                    }
                    this.annBaseRectangle = new _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_4__["AnnBaseRectangle"](this, topLeftPoint, imagePoint.x - topLeftPoint.x, imagePoint.y - topLeftPoint.y, this.imageViewer);
                    this.annBaseRectangle.onLevelDown("bottom");
                    this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
                    this.annTextIndicator.onCreate(topLeftPoint, this.annBaseRectangle.getAreaString());
                }
            }
        }
    };
    AnnRectangle.prototype.onCreate = function (topLeftPoint, width, height, showIndicator) {
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFrom(topLeftPoint, _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopLeft, width, height);
        this.createFromPointList(pointList, false);
        this.focusedObj = this.annBaseRectangle;
    };
    AnnRectangle.prototype.onDrag = function (deltaX, deltaY) {
        var _this = this;
        if (this.annBaseRectangle === this.focusedObj) {
            this.onTranslate(deltaX, deltaY);
        }
        else if (this.annPointList.some(function (annObj) { return annObj === _this.focusedObj; })) {
            this.focusedObj.onTranslate(deltaX, deltaY);
            this.onPointDragged(this.focusedObj, deltaX, deltaY);
        }
        else if (this.annTextIndicator === this.focusedObj) {
            this.onTextDragged(deltaX, deltaY);
        }
    };
    AnnRectangle.prototype.getSurroundPointList = function () {
        var pointList = [];
        for (var i = 0; i < 4; i++) {
            pointList.push(this.annPointList[i].getPosition());
        }
        return pointList;
    };
    AnnRectangle.prototype.getRect = function () {
        return this.annBaseRectangle.getRect();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnRectangle.prototype.redraw = function (pointList) {
        for (var i = 0; i < 4; i++) {
            this.annPointList[i].onMove(pointList[i]);
        }
        this.annBaseRectangle.redraw(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](pointList[0].x, pointList[0].y, pointList[2].x - pointList[0].x, pointList[2].y - pointList[0].y));
        if (this.annTextIndicator) {
            this.annTextIndicator.redrawArrow();
            this.annTextIndicator.setText(this.annBaseRectangle.getAreaString());
        }
    };
    AnnRectangle.prototype.showBorder = function (show) {
        this.annBaseRectangle.setVisible(show);
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnRectangle.prototype.onPointDragged = function (draggedObj, deltaX, deltaY) {
        var pointList = this.getSurroundPointList();
        if (draggedObj === this.annPointList[0]) {
            pointList[1].y = pointList[0].y;
            pointList[3].x = pointList[0].x;
        }
        else if (draggedObj === this.annPointList[1]) {
            pointList[0].y = pointList[1].y;
            pointList[2].x = pointList[1].x;
        }
        else if (draggedObj === this.annPointList[2]) {
            pointList[3].y = pointList[2].y;
            pointList[1].x = pointList[2].x;
        }
        else if (draggedObj === this.annPointList[3]) {
            pointList[2].y = pointList[3].y;
            pointList[0].x = pointList[3].x;
        }
        this.redraw(pointList);
    };
    AnnRectangle.prototype.onTextDragged = function (deltaX, deltaY) {
        this.annTextIndicator.onDrag(deltaX, deltaY);
    };
    AnnRectangle.prototype.createFromPointList = function (pointList, showIndicator) {
        for (var i = 0; i < 4; i++) {
            var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            annPoint.onCreate(pointList[i]);
            this.annPointList.push(annPoint);
        }
        this.annBaseRectangle = new _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_4__["AnnBaseRectangle"](this, pointList[0], pointList[2].x - pointList[0].x, pointList[2].y - pointList[0].y, this.imageViewer);
        this.annBaseRectangle.onLevelDown("bottom");
        if (showIndicator) {
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(pointList[0], this.annBaseRectangle.getAreaString());
        }
    };
    return AnnRectangle;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-ruler.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-ruler.ts ***!
  \*******************************************************/
/*! exports provided: AnnRuler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnRuler", function() { return AnnRuler; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
/* harmony import */ var _ann_line__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var AnnRuler = /** @class */ (function (_super) {
    __extends(AnnRuler, _super);
    function AnnRuler(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.rulerNode = 15;
        return _this;
    }
    AnnRuler.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annLine) {
                this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
                this.annLine.onMouseEvent(mouseEventType, point, null);
            }
            else {
                this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
                this.annMiddlePoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
                this.annMiddlePoint.onCreate(_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annLine.getStartPosition(), imagePoint));
                var text = this.getLength(this.annLine.getStartPosition(), this.annLine.getEndPosition());
                this.annTextIndicator.onCreate(this.annMiddlePoint.getPosition(), text);
                this.focusedObj = this.annLine;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annLine) {
                this.annLine.onMouseEvent(mouseEventType, point, null);
                this.CalNodePos(this.annLine.getStartPosition(), imagePoint);
            }
        }
    };
    AnnRuler.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annLine) {
            this.annLine.onDrag(deltaX, deltaY);
            this.CalNodePos(this.annLine.getStartPosition(), this.annLine.getEndPosition());
            this.annMiddlePoint.onMove(_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annLine.getStartPosition(), this.annLine.getEndPosition()));
            var text = this.getLength(this.annLine.getStartPosition(), this.annLine.getEndPosition());
            this.annTextIndicator.setText(text);
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnRuler.prototype.CalNodePos = function (ptStart, ptEnd) {
        var sineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(ptEnd, ptStart);
        var cosineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(ptEnd, ptStart);
        var ptStartA;
        var ptStartB;
        var ptEndA;
        var ptEndB;
        ptStartA = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptStartB = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptEndA = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptEndB = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptStartA.x = ptStart.x - this.rulerNode * sineTheta + 0.5;
        ptStartB.x = ptStart.x + this.rulerNode * sineTheta + 0.5;
        ptStartA.y = ptStart.y + this.rulerNode * cosineTheta + 0.5;
        ptStartB.y = ptStart.y - this.rulerNode * cosineTheta + 0.5;
        sineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(ptStart, ptEnd);
        cosineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(ptStart, ptEnd);
        ptEndA.x = ptEnd.x - this.rulerNode * sineTheta + 0.5;
        ptEndB.x = ptEnd.x + this.rulerNode * sineTheta + 0.5;
        ptEndA.y = ptEnd.y + this.rulerNode * cosineTheta + 0.5;
        ptEndB.y = ptEnd.y - this.rulerNode * cosineTheta + 0.5;
        if (!this.lineNodeA) {
            this.lineNodeA = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, ptStartA, ptStartB, this.imageViewer);
        }
        else {
            this.lineNodeA.onMoveStartPoint(ptStartA);
            this.lineNodeA.onMoveEndPoint(ptStartB);
        }
        if (!this.lineNodeB) {
            this.lineNodeB = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, ptEndA, ptEndB, this.imageViewer);
        }
        else {
            this.lineNodeB.onMoveStartPoint(ptEndA);
            this.lineNodeB.onMoveEndPoint(ptEndB);
        }
    };
    AnnRuler.prototype.getSurroundPointList = function () {
        _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annLine.getStartPosition(), this.annLine.getEndPosition());
        return [this.annMiddlePoint.getPosition()];
    };
    AnnRuler.prototype.getLength = function (ptStart, ptEnd) {
        var strDist;
        var dDistance = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(ptStart, ptEnd);
        if (!this.pixelSpacing) {
            strDist = dDistance.toFixed(2) + "pt";
        }
        else {
            strDist = dDistance.toFixed(2) + "mm";
        }
        return strDist;
    };
    return AnnRuler;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-text-indicator.ts":
/*!****************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-text-indicator.ts ***!
  \****************************************************************/
/*! exports provided: AnnTextIndicator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnTextIndicator", function() { return AnnTextIndicator; });
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-text */ "./src/app/annotation/extend-object/ann-text.ts");
/* harmony import */ var _ann_arrow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-arrow */ "./src/app/annotation/extend-object/ann-arrow.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnTextIndicator = /** @class */ (function (_super) {
    __extends(AnnTextIndicator, _super);
    function AnnTextIndicator(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    // The point is the coordinate of image layer, for text, need to convert to text layer coordinate
    AnnTextIndicator.prototype.onCreate = function (targetPoint, text) {
        this.onDeleteChildren();
        var delta = 30 / this.image.getScaleValue();
        var arrowStartPoint = { x: targetPoint.x + delta, y: targetPoint.y - delta };
        this.annArrow = new _ann_arrow__WEBPACK_IMPORTED_MODULE_3__["AnnArrow"](this, this.imageViewer);
        this.annArrow.onCreate(arrowStartPoint, targetPoint);
        this.annArrow.onLevelDown("bottom");
        this.annArrow.setMouseResponsible(false);
        this.annText = new _ann_text__WEBPACK_IMPORTED_MODULE_2__["AnnText"](this, this.imageViewer);
        this.annText.onCreate(arrowStartPoint, text);
        this.focusedObj = this.annText;
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    AnnTextIndicator.prototype.onDrag = function (deltaX, deltaY) {
        this.annText.onDrag(deltaX, deltaY);
        this.redrawArrow();
    };
    AnnTextIndicator.prototype.onTranslate = function (deltaX, deltaY) {
        this.annArrow.onTranslate(deltaX, deltaY);
        this.redrawText();
    };
    AnnTextIndicator.prototype.onFlip = function (vertical) {
        this.annArrow.onFlip(vertical);
        this.redrawText();
    };
    AnnTextIndicator.prototype.onRotate = function (angle) {
        this.redrawText();
    };
    AnnTextIndicator.prototype.onSwitchFocus = function () {
        this.focusedObj = this.annText;
        this.onChildSelected(this.annText);
    };
    AnnTextIndicator.prototype.redrawArrow = function () {
        // Draw the arrow, keep text position unchanged.
        var parentPosList = this.parentObj.getSurroundPointList();
        if (parentPosList.length === 0) {
            alert(this.parentObj.constructor.name +
                " did NOT implement function getSurroundPointList. For annotations contain text indicator, must implement it.");
            return;
        }
        var posList = this.getShortestDistancePoint(parentPosList, this.getTextPointList());
        this.annArrow.onMoveStartPoint(posList[1]);
        this.annArrow.onMoveEndPoint(posList[0]);
    };
    AnnTextIndicator.prototype.redrawText = function () {
        // Draw the text, keep the arrow position unchanged
        var arrowStartPoint = this.annArrow.getStartPosition();
        //const parentPosList = this.parentObj.getSurroundPointList();
        //const textRect = this.annText.getRect();
        //const posList = [PositionInRectangle.TopLeft, PositionInRectangle.TopRight, PositionInRectangle.BottomRight, PositionInRectangle.BottomLeft];
        //let i = 0;
        //for (; i < 4; i ++) {
        //    const textPointList = AnnTool.pointListFrom(arrowStartPoint, posList[i], textRect.width, textRect.height);
        //    const arrowPointList = this.getShortestDistancePoint(parentPosList, textPointList);
        //    if (AnnTool.equalPoint(arrowStartPoint, arrowPointList[1])) {
        //        break;
        //    }
        //}
        //if (i === 4) {
        //    alert("error!");
        //    return;
        //}
        //const textStartPoint = arrowStartPoint;
        //if (posList[i] === PositionInRectangle.TopLeft) {
        //    textStartPoint.y += textRect.height;
        //} else if (posList[i] === PositionInRectangle.TopRight) {
        //    textStartPoint.x -= textRect.width;
        //    textStartPoint.y += textRect.height;
        //} else if (posList[i] === PositionInRectangle.BottomRight) {
        //    textStartPoint.x -= textRect.width;
        //}
        this.annText.onMove(arrowStartPoint);
    };
    AnnTextIndicator.prototype.setText = function (text) {
        this.annText.setText(text);
        this.redrawArrow();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnTextIndicator.prototype.getShortestDistancePoint = function (destPointList, textPointList) {
        var lenDest = destPointList.length;
        var lenText = textPointList.length;
        var retPointList = [];
        retPointList.push(destPointList[0]);
        retPointList.push(textPointList[0]);
        var minLen = Number.MAX_VALUE;
        for (var i = 0; i < lenDest; i++) {
            for (var j = 0; j < lenText; j++) {
                var distance = _ann_tool__WEBPACK_IMPORTED_MODULE_0__["AnnTool"].countDistance(destPointList[i], textPointList[j]);
                if (distance < minLen) {
                    minLen = distance;
                    retPointList[0] = destPointList[i];
                    retPointList[1] = textPointList[j];
                }
            }
        }
        return retPointList;
    };
    AnnTextIndicator.prototype.getTextPointList = function () {
        return this.annText.getSurroundPointList();
    };
    return AnnTextIndicator;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_1__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-text.ts":
/*!******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-text.ts ***!
  \******************************************************/
/*! exports provided: AnnText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnText", function() { return AnnText; });
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base-object/ann-base-rectangle */ "./src/app/annotation/base-object/ann-base-rectangle.ts");
/* harmony import */ var _base_object_ann_base_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-text */ "./src/app/annotation/base-object/ann-base-text.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AnnText = /** @class */ (function (_super) {
    __extends(AnnText, _super);
    function AnnText(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnText.prototype.onCreate = function (position, text) {
        this.annText = new _base_object_ann_base_text__WEBPACK_IMPORTED_MODULE_2__["AnnBaseText"](this, " " + text + " ", position, this.imageViewer);
        var rect = this.annText.getRect();
        this.annRectangle = new _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_1__["AnnBaseRectangle"](this, { x: rect.x, y: rect.y }, rect.width, rect.height, this.imageViewer, true);
        this.annText.onLevelUp();
        this.focusedObj = this.annText;
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    AnnText.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
        this.annText.onSelect(selected, focused);
        this.annRectangle.setVisible(selected && focused);
    };
    AnnText.prototype.onScale = function () {
        _super.prototype.onScale.call(this);
        this.redrawRect();
        this.onLevelUp();
    };
    AnnText.prototype.onMove = function (point) {
        this.annText.onMove(point);
        this.redrawRect();
    };
    AnnText.prototype.getPosition = function () {
        return this.annRectangle.getPosition();
    };
    AnnText.prototype.getSurroundPointList = function () {
        return this.annRectangle.getSurroundPointList();
    };
    AnnText.prototype.setText = function (text) {
        this.annText.setText(text);
        this.redrawRect();
    };
    AnnText.prototype.getRect = function () {
        return this.annText.getRect();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnText.prototype.redrawRect = function () {
        var rect = this.annText.getRect();
        this.annRectangle.redraw(rect);
        this.annText.onLevelUp();
    };
    return AnnText;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_0__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-vertical-axis.ts":
/*!***************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-vertical-axis.ts ***!
  \***************************************************************/
/*! exports provided: AnnVerticalAxis */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnVerticalAxis", function() { return AnnVerticalAxis; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnVerticalAxis = /** @class */ (function (_super) {
    __extends(AnnVerticalAxis, _super);
    function AnnVerticalAxis(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnVerticalAxis.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (this.annLine) {
                var centerPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annLine.getStartPosition(), this.annLine.getEndPosition());
                this.annCenterPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
                this.annCenterPoint.onCreate(centerPoint);
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            var startPoint = { x: imagePoint.x, y: 0 };
            var endPoint = { x: imagePoint.x, y: this.image.height() };
            if (this.annLine) {
                this.annLine.onMoveStartPoint(startPoint);
                this.annLine.onMoveEndPoint(endPoint);
            }
            else {
                this.annLine = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, startPoint, endPoint, this.imageViewer);
            }
        }
    };
    AnnVerticalAxis.prototype.onDrag = function (deltaX, deltaY) {
        this.onTranslate(deltaX, 0);
    };
    return AnnVerticalAxis;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-guide.ts":
/*!******************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-guide.ts ***!
  \******************************************************/
/*! exports provided: AnnGuide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuide", function() { return AnnGuide; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");


var AnnGuide = /** @class */ (function () {
    function AnnGuide(imageViewer) {
        var _this = this;
        this.imageViewer = imageViewer;
        this.backgroundColor = "rgba(96,96,96,0.6)";
        this.borderColor = "#888";
        this.totalWidth = 605;
        this.totalHeight = 160;
        this.textAreaWidth = 420;
        this.tutorImageWidth = 125;
        this.tutorImageHeight = 150;
        this.stepButtonWidth = 20;
        this.stepButtonHeight = 20;
        this.actionButtonHeight = 40;
        this.interval = 5;
        this.annStepDataList = [];
        this.stepIndex = 0;
        this.showStepList = true;
        this.actionButtonLoaded = false;
        this.layerId = imageViewer.getAnnGuideLayerId();
        this.baseUrl = this.imageViewer.getBaseUrl();
        this.font = this.imageViewer.getTextFont();
        this.annGuideCloseButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "close", this.onClose);
        this.annGuideResetButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "reset", this.onReset);
        this.annGuideHideButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "hide", this.onHide);
        this.annGuideShowButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "show", this.onShow);
        var guideLayer = this.imageViewer.getAnnGuideLayer();
        guideLayer.click(function (arg) { return false; });
        guideLayer.dblclick(function (arg) { return false; });
        guideLayer.mousedown(function (arg) { return false; });
        guideLayer.mouseup(function (arg) { return false; });
        guideLayer.mousemove(function (arg) { return false; });
        guideLayer.mouseover(function (arg) {
            if (!_this.isHidden()) {
                _this.imageViewer.setCursor("default");
            }
            return false;
        });
        guideLayer.mouseout(function (arg) {
            if (!_this.isHidden()) {
                _this.imageViewer.setCursor(undefined);
            }
            return false;
        });
    }
    AnnGuide.createAnnGuideDataList = function () {
        var annGuideCervicalCurve = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("Cervical Curve", "ann_cervicalcurve");
        annGuideCervicalCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnCervicalCurve_01.png", "Step 1. Click to place a point on the center of the anterior tubercle of the anterior arch"));
        annGuideCervicalCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnCervicalCurve_02.png", "Step 2. Click to place a point on the top center of the first thoracic vertebrae"));
        annGuideCervicalCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnCervicalCurve_03.png", "Step 3. Click on either side of the line to flip the curve. Move center point to change radius of curve", "Step 3. Move center point to change radius of curve"));
        this.annGuideDataList.push(annGuideCervicalCurve);
        var annCardiothoracicRatio = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("Cardiothoracic Ratio", "ann_cervicalcurve");
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_01.png", "Step 1. Click to place a point on the highest point of the spine"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_02.png", "Step 2. Click to place a point on the lowest point of the spine"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_03.png", "Step 3. Click to place a point on the right side of the heart at its widest point"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_04.png", "Step 4. Click to place a point on the left side of the heart at its widest point"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_05.png", "Step 5. Click to place a point on the right side of the chest at its widest point"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_06.png", "Step 6. Click to place a point on the left side of the chest at its widest point"));
        this.annGuideDataList.push(annCardiothoracicRatio);
        var annGuideMarkSpot = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("Mark Spot", "ann_line");
        annGuideMarkSpot.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnMarkSpot_01.png", "Step 1.Click to place point(s) on the anatomy. Double Click when complete"));
        this.annGuideDataList.push(annGuideMarkSpot);
    };
    AnnGuide.findAnnGuideData = function (annName) {
        var result = AnnGuide.annGuideDataList.filter(function (guideData) { return guideData.annName === annName; });
        if (result.length === 0) {
            alert("AnnGuide.findAnnGuideData() - Can not find guide data for annotation " + annName + " in the list");
            return undefined;
        }
        else {
            if (result.length > 1) {
                alert("AnnGuide.findAnnGuideData() - There are more than one guide data for annotation " + annName + " in the list");
            }
            return result[0];
        }
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    // Show the guide
    AnnGuide.prototype.show = function (targetAnnName, stepIndex) {
        var _this = this;
        if (stepIndex === void 0) { stepIndex = 0; }
        // show the guide layer
        this.imageViewer.getAnnGuideLayer().visible(true);
        // Different annotation, need to lo
        if (this.targetAnnName !== targetAnnName) {
            this.targetAnnName = targetAnnName;
            this.stepIndex = stepIndex;
            this.delJcObj(false);
            var promiseList = [];
            var tutorImageAlreadyLoaded_1 = this.createStepDataList(targetAnnName);
            if (!tutorImageAlreadyLoaded_1) {
                // The tutor images of this annotation are NOT loaded
                for (var i = 0; i < this.annStepDataList.length; i++) {
                    promiseList.push(this.createPromiseForStepData(i));
                }
            }
            // Load action button images if NOT loaded
            if (!this.actionButtonLoaded) {
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideCloseButton));
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideResetButton));
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideHideButton));
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideShowButton));
            }
            if (promiseList.length !== 0) {
                // Draw the guide UI when all necessary data are loaded from server
                Promise.all(promiseList).then(function (arg) {
                    if (!tutorImageAlreadyLoaded_1) {
                        _this.cacheTutorImage(_this.targetAnnName);
                    }
                    _this.draw();
                    _this.actionButtonLoaded = true;
                }).catch(function (arg) {
                    console.error(arg);
                });
            }
            else {
                // All images are loaded, start to draw.
                this.draw();
            }
        }
        else {
            // Same annotation
            this.stepTo(stepIndex);
        }
    };
    // Hide the guide layer.
    AnnGuide.prototype.hide = function () {
        this.imageViewer.getAnnGuideLayer().visible(false);
        // Set the target annotation object to undefined
        this.annGuideTarget = undefined;
    };
    // Check if the guide layer is hidden
    AnnGuide.prototype.isHidden = function () {
        return !(this.imageViewer.getAnnGuideLayer()._visible);
    };
    // Set the target annotation object
    AnnGuide.prototype.setGuideTargetObj = function (guideTarget) {
        this.annGuideTarget = guideTarget;
        if (this.annGuideTarget && this.annGuideTarget.isCreated()) {
            // If the annotation is created, need to disable the Close and Reset button
            this.annGuideCloseButton.onDisabled();
            this.annGuideResetButton.onDisabled();
        }
        else {
            // No target annotation or the target annotation is creating, need to enable the 
            // Close and Reset button in case they were disabled before.
            this.annGuideCloseButton.onUp();
            this.annGuideResetButton.onUp();
        }
    };
    // Step the guide
    AnnGuide.prototype.step = function () {
        if (this.stepIndex < this.annStepDataList.length - 1) {
            this.stepTo(this.stepIndex + 1);
        }
        else {
            // If ended, hide the guide
            this.imageViewer.getAnnGuideLayer().visible(false);
        }
    };
    // Get current step index
    AnnGuide.prototype.getStepIndex = function () {
        return this.stepIndex;
    };
    // Check if the mouse is clicked in the guide area
    AnnGuide.prototype.hitTest = function (point) {
        return !this.isHidden() && this.jcBackground && _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInRect(point, this.jcBackground.getRect());
    };
    // Step to the given step index
    AnnGuide.prototype.stepTo = function (step) {
        if (step < 0 || step > this.annStepDataList.length) {
            alert("Invalid step number " + step);
            return;
        }
        // Step to end, close the guide
        if (step === this.annStepDataList.length) {
            this.onClose();
            return;
        }
        // De-highlight the step list that previous highlighted
        this.annStepDataList[this.stepIndex].jcBackgroundBorder.color("#FFF");
        this.annStepDataList[this.stepIndex].jcText.color("#FFF");
        this.stepIndex = step;
        // Highlight the step
        this.annStepDataList[this.stepIndex].jcBackgroundBorder.color("#F90");
        this.annStepDataList[this.stepIndex].jcText.color("#F90");
        // Update the text and image
        this.jcStepText.string(this.getTipText(this.annStepDataList[this.stepIndex]));
        this.jcTutorImage._img = this.annStepDataList[this.stepIndex].imageData;
        this.jcCurrentStep.string((this.stepIndex + 1).toString());
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    // Save the tutor image
    AnnGuide.prototype.cacheTutorImage = function (annName) {
        var annGuideData = AnnGuide.findAnnGuideData(annName);
        if (!annGuideData)
            return;
        annGuideData.guideStepImageList.length = 0;
        for (var i = 0; i < this.annStepDataList.length; i++) {
            annGuideData.guideStepImageList.push(this.annStepDataList[i].imageData);
        }
    };
    // Draw the guide
    AnnGuide.prototype.draw = function () {
        var width = this.showStepList ? this.totalWidth : this.totalWidth - this.textAreaWidth - this.interval;
        this.startX = (this.imageViewer.getCanvas().width - width) / 2;
        if (this.startX < 0)
            this.startX = 0;
        this.drawBackground();
        this.drawTutorImage();
        if (this.showStepList) {
            this.drawStepList();
        }
        this.drawActionButton();
    };
    // Create promise for loading the image of step button
    AnnGuide.prototype.createPromiseForStepData = function (index) {
        var _this = this;
        var promise = new Promise(function (resolve, reject) {
            _this.annStepDataList[index].imageData.onload = function (ev) {
                resolve();
            };
            _this.annStepDataList[index].imageData.onerror = function (ev) {
                reject(ev);
            };
            _this.annStepDataList[index].loadImage();
        });
        return promise;
    };
    // Create promise list for loading the image of action button
    AnnGuide.prototype.createPromiseListForActionButton = function (annGuideActionButton) {
        var promiseList = [];
        annGuideActionButton.imageDataList.forEach(function (imageData) {
            var promise = new Promise(function (resolve, reject) {
                imageData.onload = function (ev) {
                    resolve();
                };
                imageData.onerror = function (ev) {
                    reject(ev);
                };
                annGuideActionButton.loadImage();
            });
            promiseList.push(promise);
        });
        return promiseList;
    };
    // Draw the background of guide
    AnnGuide.prototype.drawBackground = function () {
        if (this.showStepList) {
            this.jcBackgroundBorder = jCanvaScript.rect(this.startX, this.interval, this.totalWidth, this.totalHeight, this.borderColor).layer(this.layerId);
            this.jcTextAreaBackground = jCanvaScript.rect(this.startX + this.tutorImageWidth + this.interval * 2, this.interval * 2, this.textAreaWidth, this.totalHeight - this.interval * 2, "#FFF").layer(this.layerId);
            this.jcBackground = jCanvaScript.rect(this.startX, this.interval, this.totalWidth, this.totalHeight, this.backgroundColor, true).layer(this.layerId);
        }
        else {
            this.jcBackgroundBorder = jCanvaScript.rect(this.startX, this.interval, this.totalWidth - this.textAreaWidth - this.interval, this.totalHeight, this.borderColor).layer(this.layerId);
            this.jcBackground = jCanvaScript.rect(this.startX, this.interval, this.totalWidth - this.textAreaWidth - this.interval, this.totalHeight, this.backgroundColor, true).layer(this.layerId);
        }
    };
    // Draw tutor image
    AnnGuide.prototype.drawTutorImage = function () {
        // The size of the pictures is always same : 125*150
        this.jcTutorImage = jCanvaScript.image(this.annStepDataList[this.stepIndex].imageData, this.startX + this.interval, this.interval * 2).layer(this.layerId);
    };
    // Step the step button list
    AnnGuide.prototype.drawStepList = function () {
        var count = this.annStepDataList.length;
        var totalWidth = this.stepButtonWidth * count + this.interval * (count - 1);
        var center = this.startX + this.tutorImageWidth + this.interval * 2 + this.textAreaWidth / 2;
        var start = center - totalWidth / 2;
        for (var i = 0; i < count; i++) {
            this.annStepDataList[i].jcBackground = jCanvaScript.rect(start + i * (this.stepButtonWidth + this.interval), this.interval * 4, this.stepButtonWidth, this.stepButtonHeight, "#111", true).layer(this.layerId);
            this.annStepDataList[i].jcText = jCanvaScript.text((i + 1).toString(), start + this.stepButtonWidth / 2 + i * (this.stepButtonWidth + this.interval), this.interval * 7)
                .color(this.font.color).font(this.font.getCanvasFontString()).align("center").layer(this.layerId);
            this.annStepDataList[i].jcBackgroundBorder = jCanvaScript.rect(start + i * (this.stepButtonWidth + this.interval), this.interval * 4, this.stepButtonWidth, this.stepButtonHeight, "#FFF").layer(this.layerId);
            this.setStepButtonEvent(this.annStepDataList[i]);
        }
        this.jcAnnotationName = jCanvaScript.text(this.targetAnnName, center, this.interval * 12).color("#F90").font(this.font.getCanvasFontString()).align("center").layer(this.layerId);
        this.jcStepText = jCanvaScript.text(this.getTipText(this.annStepDataList[this.stepIndex]), this.startX + this.tutorImageWidth + this.interval * 4, this.interval * 15, this.textAreaWidth - this.interval * 2)
            .color(this.font.color).font(this.font.getCanvasFontString()).align("left").layer(this.layerId);
        this.annStepDataList[this.stepIndex].jcBackgroundBorder.color("#F90");
        this.annStepDataList[this.stepIndex].jcText.color("#F90");
    };
    // Draw the action button
    AnnGuide.prototype.drawActionButton = function () {
        var startX = this.startX + this.tutorImageWidth + this.interval * 3 + (this.showStepList ? this.textAreaWidth : -this.interval);
        var startY = this.interval * 2;
        this.annGuideCloseButton.jcImage = jCanvaScript.image(this.getActionButtonImage(this.annGuideCloseButton), startX, startY).layer(this.layerId);
        this.annGuideResetButton.jcImage = jCanvaScript.image(this.getActionButtonImage(this.annGuideResetButton), startX, startY + this.actionButtonHeight + this.interval).layer(this.layerId);
        this.setActionButtonEvent(this.annGuideCloseButton);
        this.setActionButtonEvent(this.annGuideResetButton);
        if (this.showStepList) {
            this.annGuideHideButton.jcImage = jCanvaScript.image(this.annGuideHideButton.getUpImage(), startX, startY + (this.actionButtonHeight + this.interval) * 2).layer(this.layerId);
            this.setActionButtonEvent(this.annGuideHideButton);
        }
        else {
            this.annGuideShowButton.jcImage = jCanvaScript.image(this.annGuideShowButton.getUpImage(), startX, startY + (this.actionButtonHeight + this.interval) * 2).layer(this.layerId);
            this.setActionButtonEvent(this.annGuideShowButton);
        }
        this.jcCurrentStep = jCanvaScript.text((this.stepIndex + 1).toString(), startX + this.actionButtonHeight / 2, this.totalHeight - this.interval)
            .color(this.font.color).font(this.font.getCanvasFontString()).align("center").layer(this.layerId);
    };
    // Set step button mouse event
    AnnGuide.prototype.setStepButtonEvent = function (annGuideStepData) {
        var _this = this;
        annGuideStepData.jcBackgroundBorder._onmouseover = function (arg) {
            annGuideStepData.jcBackgroundBorder.color("#F90");
            _this.imageViewer.setCursor("pointer");
            _this.jcStepText.string(_this.getTipText(annGuideStepData));
            _this.jcTutorImage._img = annGuideStepData.imageData;
            if (_this.isTargetAnnCreated()) {
                _this.imageViewer.selectChildByStepIndex(annGuideStepData.stepIndex);
            }
        };
        annGuideStepData.jcBackgroundBorder._onmouseout = function (arg) {
            if (annGuideStepData !== _this.annStepDataList[_this.stepIndex]) {
                annGuideStepData.jcBackgroundBorder.color("#FFF");
            }
            _this.imageViewer.setCursor("default");
            _this.jcStepText.string(_this.getTipText(_this.annStepDataList[_this.stepIndex]));
            _this.jcTutorImage._img = _this.annStepDataList[_this.stepIndex].imageData;
        };
    };
    // Set action button mouse event
    AnnGuide.prototype.setActionButtonEvent = function (annGuideButton) {
        var _this = this;
        annGuideButton.jcImage._onmouseover = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return;
            annGuideButton.onHover();
            _this.imageViewer.setCursor("pointer");
        };
        annGuideButton.jcImage._onmouseout = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return;
            annGuideButton.onUp();
            _this.imageViewer.setCursor("default");
        };
        annGuideButton.jcImage._onmousedown = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return false;
            annGuideButton.onSelect();
            return false;
        };
        annGuideButton.jcImage._onmouseup = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return false;
            annGuideButton.onUp();
            if (annGuideButton.onButtonClick) {
                annGuideButton.onButtonClick.call(_this);
            }
            return false;
        };
    };
    // Check if need to ignore the mouse event
    AnnGuide.prototype.ignoreMouseEvent = function (annGuideButton) {
        return this.isHidden() || annGuideButton.isDisabled();
    };
    // Delete all jc object
    AnnGuide.prototype.delJcObj = function (onlyStepObj) {
        if (!onlyStepObj) {
            if (this.jcBackground)
                this.jcBackground.del();
            if (this.jcBackgroundBorder)
                this.jcBackgroundBorder.del();
            if (this.jcTextAreaBackground)
                this.jcTextAreaBackground.del();
            this.annGuideCloseButton.del();
            this.annGuideResetButton.del();
            this.annGuideHideButton.del();
            this.annGuideShowButton.del();
        }
        if (this.jcTutorImage)
            this.jcTutorImage.del();
        if (this.jcCurrentStep)
            this.jcCurrentStep.del();
        if (this.jcAnnotationName)
            this.jcAnnotationName.del();
        if (this.jcStepText)
            this.jcStepText.del();
        this.annStepDataList.forEach(function (stepObj) { return stepObj.del(); });
    };
    // Close the guide
    AnnGuide.prototype.onClose = function () {
        this.imageViewer.getAnnGuideLayer().visible(false);
        this.imageViewer.cancelCreate(false);
    };
    // Reset the guide
    AnnGuide.prototype.onReset = function () {
        this.stepTo(0);
        this.imageViewer.cancelCreate(true);
    };
    // Hide the step list
    AnnGuide.prototype.onHide = function () {
        this.delJcObj(false);
        this.showStepList = false;
        this.draw();
        this.imageViewer.setCursor(undefined);
    };
    // Show the step list
    AnnGuide.prototype.onShow = function () {
        this.delJcObj(false);
        this.showStepList = true;
        this.draw();
        this.imageViewer.setCursor("default");
    };
    // Create the step button list for the annotation
    AnnGuide.prototype.createStepDataList = function (annName) {
        var annGuideData = AnnGuide.findAnnGuideData(annName);
        if (!annGuideData)
            return;
        this.annStepDataList.length = 0;
        var stepConfigList = annGuideData.guideStepConfigList;
        for (var i = 0; i < stepConfigList.length; i++) {
            this.annStepDataList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepData"](i, this.baseUrl, stepConfigList[i]));
        }
        var stepImageList = annGuideData.guideStepImageList;
        if (stepImageList.length === stepConfigList.length) {
            // The images were alreay loaded before
            for (var i = 0; i < stepImageList.length; i++) {
                this.annStepDataList[i].imageData = stepImageList[i];
            }
            return true;
        }
        return false;
    };
    // If the target annotation is created or NOT
    AnnGuide.prototype.isTargetAnnCreated = function () {
        return this.annGuideTarget ? this.annGuideTarget.isCreated() : false;
    };
    // Get the tip text. The tip text for creating and viewing might be different
    AnnGuide.prototype.getTipText = function (annGuideStepData) {
        var annCreated = this.isTargetAnnCreated();
        return annGuideStepData.getTipText(annCreated);
    };
    // Get the action button image based on current target annotation. If created, the Close/Reset button should be disabled
    AnnGuide.prototype.getActionButtonImage = function (annGuideActionButton) {
        var annCreated = this.isTargetAnnCreated();
        return annCreated ? annGuideActionButton.getDisabledImage() : annGuideActionButton.getUpImage();
    };
    AnnGuide.annGuideDataList = [];
    return AnnGuide;
}());



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-image-ruler.ts":
/*!************************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-image-ruler.ts ***!
  \************************************************************/
/*! exports provided: AnnImageRuler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnImageRuler", function() { return AnnImageRuler; });
var AnnImageRuler = /** @class */ (function () {
    function AnnImageRuler(imageViewer) {
        this.imageViewer = imageViewer;
        this.textColor = "#FFF";
        this.textFontSize = 17;
        this.FONTOFFSET = 5;
        this.LINEOFFSET = 1;
        this.RULERLINEWIDTH = 2;
        this.RULERCELLPERCENT = 0.33;
        this.RULERCELLSPACING = 5;
        this.RULERUNITLENGTH = 5;
        this.TEXTRULERSPACING = 5;
        this.linesVertical = [];
        this.linesHorizontal = [];
    }
    AnnImageRuler.prototype.reDraw = function (imageViewer) {
        this.layerId = imageViewer.getAnnImageRulerLayerId();
        this.baseUrl = this.imageViewer.getBaseUrl();
        this.font = this.imageViewer.getTextFont();
        var image = imageViewer.getImage();
        var canvas = imageViewer.getCanvas();
        var fontHeight = this.textFontSize;
        var font = "{0}px {1}".format(this.textFontSize, this.font);
        var pixelSpacing = image.getPixelSpacing();
        var lineUnit = '';
        var squareUnit = '';
        var unitPerPixelX, unitPerPixelY;
        var curScale = image.getScaleValue();
        // If pixel spacing is undefined, use 'pt'.
        if (!pixelSpacing) {
            lineUnit = squareUnit = 'pt';
            unitPerPixelX = 1 / curScale;
            unitPerPixelY = 1 / curScale;
        }
        else {
            lineUnit = 'cm';
            squareUnit = 'cm2';
            unitPerPixelX = pixelSpacing.cx / curScale / 10;
            unitPerPixelY = pixelSpacing.cy / curScale / 10;
        }
        var canvasWidth = canvas.width;
        var canvasHeight = canvas.height;
        this.linesVertical.forEach(function (line) { line.del(); });
        this.linesHorizontal.forEach(function (line) { line.del(); });
        this.linesVertical = [];
        this.linesHorizontal = [];
        var strRulerInfo = '';
        this.reset(imageViewer);
        // horizontal ruler
        {
            var unitsToDraw = Math.round(unitPerPixelX * this.RULERCELLPERCENT * canvasWidth);
            if (unitsToDraw == 0) {
                unitsToDraw = 1;
            }
            strRulerInfo = unitsToDraw + lineUnit;
            var hRulerStartX = Math.round((canvasWidth - unitsToDraw / unitPerPixelX) / 2);
            if (!pixelSpacing) {
                var lineStart = Math.round(hRulerStartX);
                var lineStop = Math.round(hRulerStartX + unitsToDraw / unitPerPixelX);
                var line = jCanvaScript.line([
                    [lineStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET],
                    [lineStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesHorizontal.push(line);
                var pt1 = [lineStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET];
                var pt2 = [lineStop + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET];
                if (!this.baseLineH) {
                    this.baseLineH = jCanvaScript.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineH.points([pt1, pt2]);
                }
                line = jCanvaScript.line([
                    [lineStop + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET],
                    [lineStop + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesHorizontal.push(line);
            }
            else {
                var unitStart = void 0;
                for (var i = 0; i < unitsToDraw; i++) {
                    unitStart = Math.round(hRulerStartX + i / unitPerPixelX);
                    var line = jCanvaScript.line([
                        [unitStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET],
                        [unitStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesHorizontal.push(line);
                    line = jCanvaScript.line([
                        [unitStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET],
                        [Math.round(unitStart + this.LINEOFFSET + 1 / unitPerPixelX), canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesHorizontal.push(line);
                }
                var pt1 = [Math.round(unitStart + this.LINEOFFSET + 1 / unitPerPixelX), canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET];
                var pt2 = [Math.round(hRulerStartX + unitsToDraw / unitPerPixelX + this.LINEOFFSET), canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET];
                if (!this.baseLineH) {
                    this.baseLineH = jCanvaScript.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineH.points([pt1, pt2]);
                }
            }
            var ptTextX = Math.round(hRulerStartX + unitsToDraw / unitPerPixelX + this.FONTOFFSET);
            var ptTextY = canvasHeight - this.RULERCELLSPACING;
            if (!this.lblHorizontal) {
                this.lblHorizontal = jCanvaScript.text(strRulerInfo, ptTextX, ptTextY).layer(this.layerId).color(this.textColor).font(font).align('left');
            }
            else {
                this.lblHorizontal._x = ptTextX;
                this.lblHorizontal._y = ptTextY;
                this.lblHorizontal.string(strRulerInfo);
            }
        }
        // vertical ruler
        {
            var iUnitsToDraw = Math.round(unitPerPixelY * this.RULERCELLPERCENT * canvasHeight);
            if (iUnitsToDraw == 0) {
                iUnitsToDraw = 1;
            }
            strRulerInfo = iUnitsToDraw + lineUnit;
            var iRulerStartY = Math.round((canvasHeight - iUnitsToDraw / unitPerPixelY) / 2);
            if (!pixelSpacing) {
                var iLineStart = Math.round(iRulerStartY);
                var iLineStop = Math.round(iRulerStartY + iUnitsToDraw / unitPerPixelY);
                var line = jc.line([
                    [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, iLineStart + this.LINEOFFSET],
                    [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStart + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesVertical.push(line);
                var pt1 = [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStart + this.LINEOFFSET];
                var pt2 = [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStop + this.LINEOFFSET];
                if (!this.baseLineV) {
                    this.baseLineV = jc.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineV.points([pt1, pt2]);
                }
                line = jc.line([
                    [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStop + this.LINEOFFSET],
                    [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, iLineStop + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesVertical.push(line);
            }
            else {
                var iUnitStart = void 0;
                for (var i = 0; i < iUnitsToDraw; i++) {
                    iUnitStart = Math.round(iRulerStartY + i / unitPerPixelY);
                    var line = jc.line([
                        [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, iUnitStart + this.LINEOFFSET],
                        [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iUnitStart + this.LINEOFFSET]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesVertical.push(line);
                    line = jc.line([
                        [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iUnitStart + this.LINEOFFSET],
                        [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, Math.round(iUnitStart + this.LINEOFFSET + 1 / unitPerPixelY)]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesVertical.push(line);
                }
                var pt1 = [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, Math.round(iUnitStart + this.LINEOFFSET + 1 / unitPerPixelY)];
                var pt2 = [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, Math.round(iRulerStartY + iUnitsToDraw / unitPerPixelY + this.LINEOFFSET)];
                if (!this.baseLineV) {
                    this.baseLineV = jc.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineV.points([pt1, pt2]);
                }
            }
            var ptTextX = canvasWidth - this.RULERCELLSPACING - strRulerInfo.length * fontHeight / 2;
            var ptTextY = Math.round(iRulerStartY + iUnitsToDraw / unitPerPixelY + 2 * this.FONTOFFSET + this.TEXTRULERSPACING);
            if (!this.lblVertical) {
                this.lblVertical = jc.text(strRulerInfo, ptTextX, ptTextY).layer(this.layerId).color(this.textColor).font(font).align('left');
            }
            else {
                this.lblVertical._x = ptTextX;
                this.lblVertical._y = ptTextY;
                this.lblVertical.string(strRulerInfo);
            }
        }
    };
    AnnImageRuler.prototype.reset = function (imageViewer) {
        var annImageRuler = imageViewer.annImageRuler;
        if (!annImageRuler)
            return;
        if (annImageRuler.lblHorizontal) {
            annImageRuler.lblHorizontal.del();
            annImageRuler.lblHorizontal = undefined;
        }
        if (annImageRuler.lblVertical) {
            annImageRuler.lblVertical.del();
            annImageRuler.lblVertical = undefined;
        }
        if (annImageRuler.baseLineH) {
            annImageRuler.baseLineH.del();
            annImageRuler.baseLineH = undefined;
        }
        if (annImageRuler.baseLineV) {
            annImageRuler.baseLineV.del();
            annImageRuler.baseLineV = undefined;
        }
        if (annImageRuler.linesVertical) {
            annImageRuler.linesVertical.forEach(function (line) { line.del(); });
            annImageRuler.linesVertical = [];
        }
        if (annImageRuler.linesHorizontal) {
            annImageRuler.linesHorizontal.forEach(function (line) { line.del(); });
            annImageRuler.linesHorizontal = [];
        }
    };
    return AnnImageRuler;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/worklist-shell/worklist-shell.component */ "./src/app/components/worklist-shell/worklist-shell.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/viewer-shell/viewer-shell.component */ "./src/app/components/viewer-shell/viewer-shell.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var routes = [
    { path: "", redirectTo: "/worklist", pathMatch: "full" },
    { path: "worklist", component: _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_2__["WorklistShellComponent"] },
    { path: "viewer", component: _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_3__["ViewerShellComponent"] }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*#DivTop\r\n{\r\n  width:976px;\r\n  margin: 0px;\r\n  padding: 12px 12px 12px 16px;\r\n  border-bottom: solid 4px #FFFFFF;\r\n  background-color: #000000;\r\n  color: #cccccc;\r\n  height: 20px;\r\n}*/\r\n\r\n/*#DivTop .navbar-fixed-top{\r\n  border-width: 0 0 2px 0;\r\n  -webkit-border-image: -webkit-linear-gradient(left, #ff9900, #5c492c) 100% 1;\r\n  border-color: #ff9900;\r\n  border-image: linear-gradient(left, #ff9900, #5c492c) 100% 1;\r\n  border-style: solid;\r\n}*/\r\n\r\n\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztFQVNFOztBQUVGOzs7Ozs7RUFNRSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyojRGl2VG9wXHJcbntcclxuICB3aWR0aDo5NzZweDtcclxuICBtYXJnaW46IDBweDtcclxuICBwYWRkaW5nOiAxMnB4IDEycHggMTJweCAxNnB4O1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNjY2NjY2M7XHJcbiAgaGVpZ2h0OiAyMHB4O1xyXG59Ki9cclxuXHJcbi8qI0RpdlRvcCAubmF2YmFyLWZpeGVkLXRvcHtcclxuICBib3JkZXItd2lkdGg6IDAgMCAycHggMDtcclxuICAtd2Via2l0LWJvcmRlci1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgI2ZmOTkwMCwgIzVjNDkyYykgMTAwJSAxO1xyXG4gIGJvcmRlci1jb2xvcjogI2ZmOTkwMDtcclxuICBib3JkZXItaW1hZ2U6IGxpbmVhci1ncmFkaWVudChsZWZ0LCAjZmY5OTAwLCAjNWM0OTJjKSAxMDAlIDE7XHJcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxufSovXHJcblxyXG5cclxuIl19 */"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<body id=\"bodyLayout\">\r\n\r\n<div class=\"navbar navbar-inverse navbar-fixed-top\">\r\n    <app-header-bar></app-header-bar>\r\n</div>\r\n\r\n<div class=\"container body-content\">\r\n    <!--<app-worklist-shell></app-worklist-shell>-->\r\n    <template #shellContainer></template>\r\n    <!--<router-outlet></router-outlet>-->\r\n</div>\r\n\r\n</body>\r\n\r\n<!--<div style=\"text-align:center\">\r\n    <h1>\r\n        Welcome to {{ title }}!\r\n    </h1>\r\n    <img width=\"300\" alt=\"Angular Logo\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\">\r\n</div>\r\n<h2>Here are some links to help you start: </h2>\r\n<ul>\r\n    <li>\r\n        <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/tutorial\">Tour of Heroes</a></h2>\r\n    </li>\r\n    <li>\r\n        <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/angular/angular-cli/wiki\">CLI Documentation</a></h2>\r\n    </li>\r\n    <li>\r\n        <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.angular.io/\">Angular blog</a></h2>\r\n    </li>\r\n</ul>-->\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/worklist-shell/worklist-shell.component */ "./src/app/components/worklist-shell/worklist-shell.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/viewer-shell/viewer-shell.component */ "./src/app/components/viewer-shell/viewer-shell.component.ts");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
/* harmony import */ var _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/viewer-shell-data */ "./src/app/models/viewer-shell-data.ts");
/* harmony import */ var _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/viewer-group-data */ "./src/app/models/viewer-group-data.ts");
/* harmony import */ var _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./models/viewer-image-data */ "./src/app/models/viewer-image-data.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var AppComponent = /** @class */ (function () {
    function AppComponent(resolver, shellNavigatorService, dicomImageService, worklistService, logService) {
        var _this = this;
        this.resolver = resolver;
        this.shellNavigatorService = shellNavigatorService;
        this.dicomImageService = dicomImageService;
        this.worklistService = worklistService;
        this.logService = logService;
        this.title = "AngularPacsDemo";
        this.createComponents = [];
        this.shellDataList = [];
        this.subscriptionShellCreated = shellNavigatorService.shellCreated$.subscribe(function (viewerShellData) {
            _this.shellDataList.push(viewerShellData);
            _this.createViewerShell(viewerShellData);
        });
        this.subscriptionShellDeleted = shellNavigatorService.shellDeleted$.subscribe(function (viewerShellData) {
            _this.deleteViewerShell(viewerShellData);
            var index = _this.shellDataList.indexOf(viewerShellData, 0);
            if (index > -1) {
                _this.shellDataList.splice(index, 1);
            }
        });
        _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"].logService = this.logService;
        _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_5__["ViewerGroupData"].logService = this.logService;
        _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__["ViewerImageData"].logService = this.logService;
    }
    AppComponent.prototype.ngOnInit = function () {
        this.createWorklistShell();
        this.initConerstone();
    };
    AppComponent.prototype.createWorklistShell = function () {
        var componentFactory = this.resolver.resolveComponentFactory(_components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_1__["WorklistShellComponent"]);
        var componentRef = this.container.createComponent(componentFactory);
        componentRef.instance.hideMe = false;
    };
    AppComponent.prototype.createViewerShell = function (viewerShellData) {
        var _this = this;
        this.logService.seperator();
        this.logService.info('User: Open study - ' + viewerShellData.getName());
        viewerShellData.patientList.forEach(function (patient) {
            return patient.studyList.forEach(function (study) {
                return study.seriesList.forEach(function (series) {
                    return series.imageList.forEach(function (image) {
                        return _this.worklistService.isUsingLocalTestData() ? image.cornerStoneImage = null :
                            _this.dicomImageService.getCornerStoneImage(image);
                    });
                });
            });
        });
        var componentFactory = this.resolver.resolveComponentFactory(_components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_2__["ViewerShellComponent"]);
        var componentRef = this.container.createComponent(componentFactory);
        componentRef.instance.hideMe = false;
        componentRef.instance.viewerShellData = viewerShellData;
        this.createComponents.push(componentRef);
    };
    AppComponent.prototype.deleteViewerShell = function (viewerShellData) {
        var studyCom = this.createComponents.filter(function (value, index, array) { return value.instance.viewerShellData.getId() === viewerShellData.getId(); });
        if (studyCom.length !== 0) {
            studyCom[0].destroy();
        }
        this.createComponents =
            this.createComponents.filter(function (value, index, array) { return value.instance.viewerShellData.getId() !== viewerShellData.getId(); });
    };
    AppComponent.prototype.initConerstone = function () {
        cornerstoneWADOImageLoader.external.cornerstone = cornerstone;
        cornerstoneTools.external.cornerstone = cornerstone;
        //var baseUrl = dicom.baseUrl;
        var config = {
            webWorkerPath: "./assets/script/cornerstoneWADOImageLoaderWebWorker.js",
            taskConfiguration: {
                'decodeTask': {
                    codecsPath: "./cornerstoneWADOImageLoaderCodecs.js"
                }
            }
        };
        cornerstoneWADOImageLoader.webWorkerManager.initialize(config);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("shellContainer", { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "container", void 0);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-root",
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"], _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_3__["ShellNavigatorService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_7__["DicomImageService"], _services_worklist_service__WEBPACK_IMPORTED_MODULE_8__["WorklistService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_9__["LogService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _components_header_bar_header_bar_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/header-bar/header-bar.component */ "./src/app/components/header-bar/header-bar.component.ts");
/* harmony import */ var _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/worklist-shell/worklist-shell.component */ "./src/app/components/worklist-shell/worklist-shell.component.ts");
/* harmony import */ var _components_worklist_shell_query_shortcut_query_shortcut_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/worklist-shell/query-shortcut/query-shortcut.component */ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts");
/* harmony import */ var _components_worklist_shell_worklist_worklist_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/worklist-shell/worklist/worklist.component */ "./src/app/components/worklist-shell/worklist/worklist.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/viewer-shell/viewer-shell.component */ "./src/app/components/viewer-shell/viewer-shell.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_toolbar_viewer_toolbar_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/viewer-shell/viewer-toolbar/viewer-toolbar.component */ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts");
/* harmony import */ var _components_viewer_shell_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/viewer-shell/navigation/navigation.component */ "./src/app/components/viewer-shell/navigation/navigation.component.ts");
/* harmony import */ var _components_viewer_shell_navigation_thumbnail_thumbnail_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/viewer-shell/navigation/thumbnail/thumbnail.component */ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts");
/* harmony import */ var _components_viewer_shell_group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/viewer-shell/group-viewer/group-viewer.component */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts");
/* harmony import */ var _components_viewer_shell_group_viewer_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/viewer-shell/group-viewer/image-viewer/image-viewer.component */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts");
/* harmony import */ var _components_worklist_shell_query_toolbar_query_toolbar_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/worklist-shell/query-toolbar/query-toolbar.component */ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts");
/* harmony import */ var _components_worklist_shell_operate_toolbar_operate_toolbar_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/worklist-shell/operate-toolbar/operate-toolbar.component */ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts");
/* harmony import */ var _components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/common/message-box/message-box.component */ "./src/app/components/common/message-box/message-box.component.ts");
/* harmony import */ var _components_common_dropdown_button_menu_dropdown_button_menu_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/common/dropdown-button-menu/dropdown-button-menu.component */ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts");
/* harmony import */ var _components_common_dropdown_button_menu_button_dropdown_button_menu_button_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/common/dropdown-button-menu-button/dropdown-button-menu-button.component */ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts");
/* harmony import */ var _components_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/dialog/manual-wl-dialog/manual-wl-dialog.component */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/esm5/menu.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm5/icon.es5.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/esm5/card.es5.js");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/esm5/tabs.es5.js");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/dialog/select-studydate-dialog/select-studydate-dialog.component */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts");
/* harmony import */ var _components_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/dialog/select-marker-dialog/select-marker-dialog.component */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"],
                _components_header_bar_header_bar_component__WEBPACK_IMPORTED_MODULE_7__["HeaderBarComponent"],
                _components_worklist_shell_query_shortcut_query_shortcut_component__WEBPACK_IMPORTED_MODULE_9__["QueryShortcutComponent"],
                _components_worklist_shell_worklist_worklist_component__WEBPACK_IMPORTED_MODULE_10__["WorklistComponent"],
                _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_8__["WorklistShellComponent"],
                _components_viewer_shell_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_13__["NavigationComponent"],
                _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_11__["ViewerShellComponent"],
                _components_viewer_shell_viewer_toolbar_viewer_toolbar_component__WEBPACK_IMPORTED_MODULE_12__["ViewerToolbarComponent"],
                _components_viewer_shell_navigation_thumbnail_thumbnail_component__WEBPACK_IMPORTED_MODULE_14__["ThumbnailComponent"],
                _components_viewer_shell_group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_15__["GroupViewerComponent"],
                _components_viewer_shell_group_viewer_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_16__["ImageViewerComponent"],
                _components_worklist_shell_query_toolbar_query_toolbar_component__WEBPACK_IMPORTED_MODULE_17__["QueryToolbarComponent"],
                _components_worklist_shell_operate_toolbar_operate_toolbar_component__WEBPACK_IMPORTED_MODULE_18__["OperateToolbarComponent"],
                _components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_19__["MessageBoxComponent"],
                _components_common_dropdown_button_menu_dropdown_button_menu_component__WEBPACK_IMPORTED_MODULE_20__["DropdownButtonMenuComponent"],
                _components_common_dropdown_button_menu_button_dropdown_button_menu_button_component__WEBPACK_IMPORTED_MODULE_21__["DropdownButtonMenuButtonComponent"],
                _components_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_22__["ManualWlDialogComponent"],
                _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_30__["SelectStudydateDialogComponent"],
                _components_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_31__["SelectMarkerDialogComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_4__["AppRoutingModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_material_menu__WEBPACK_IMPORTED_MODULE_24__["MatMenuModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_25__["MatButtonModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_26__["MatIconModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_27__["MatCardModule"],
                _angular_material_tabs__WEBPACK_IMPORTED_MODULE_28__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatDialogModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_4__["AppRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_29__["MatMomentDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatDatepickerModule"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]],
            entryComponents: [_components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_19__["MessageBoxComponent"], _components_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_22__["ManualWlDialogComponent"], _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_30__["SelectStudydateDialogComponent"], _components_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_31__["SelectMarkerDialogComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css":
/*!*********************************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".dropdown-button-menu-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    height: 33px;\r\n    outline: none;\r\n    width: 33px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vZHJvcGRvd24tYnV0dG9uLW1lbnUtYnV0dG9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51LWJ1dHRvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tbW9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51LWJ1dHRvbi9kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMzcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html":
/*!**********************************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button class=\"dropdown-button-menu-button\" [style.background-image]=\"backgroundUrl\" role=\"button\" [title]=\"buttonData.tip\" [style.margin-top]=\"getDefaultMarginTop()\"\r\n        (click)=\"onClick()\" (mouseover)=\"onMouseOver($event)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n</button>\r\n"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts":
/*!********************************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts ***!
  \********************************************************************************************************/
/*! exports provided: DropdownButtonMenuButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropdownButtonMenuButtonComponent", function() { return DropdownButtonMenuButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_dropdown_button_menu_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/dropdown-button-menu-data */ "./src/app/models/dropdown-button-menu-data.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DropdownButtonMenuButtonComponent = /** @class */ (function () {
    function DropdownButtonMenuButtonComponent(viewContext, configurationService) {
        var _this = this;
        this.viewContext = viewContext;
        this.configurationService = configurationService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.buttonStyleToken = { normal: "normal", over: "focus", down: "down", disable: "disable" };
        this.baseUrl = this.configurationService.getBaseUrl();
        this.subscriptionViewContextChange = viewContext.viewContextChanged$.subscribe(function (context) {
            _this.setContext(context);
        });
        this.defaultStyle = this.buttonStyleToken.normal;
    }
    Object.defineProperty(DropdownButtonMenuButtonComponent.prototype, "buttonData", {
        get: function () {
            return this._buttonData;
        },
        set: function (value) {
            this._buttonData = value;
            if (this.isTopButton && this.isCheckStyle) {
                if (this._buttonData.operationData.type === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext) {
                    this.defaultStyle = this.buttonStyleToken.down;
                }
                else {
                    this.defaultStyle = this.buttonStyleToken.normal;
                }
            }
            this.backgroundUrl = this.createBackgroundUrl(this.defaultStyle);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DropdownButtonMenuButtonComponent.prototype, "isChecked", {
        get: function () {
            return this._isChecked;
        },
        set: function (value) {
            this._isChecked = value;
            if (this.isCheckStyle) {
                this.defaultStyle = this.getDefaultStyle();
                this.backgroundUrl = this.createBackgroundUrl(this.defaultStyle);
            }
        },
        enumerable: true,
        configurable: true
    });
    DropdownButtonMenuButtonComponent.prototype.ngOnInit = function () {
        this.isCheckStyle = this.viewContext.isImageToolBarButtonCheckStyle(this.buttonData);
        this.isChecked = this.viewContext.isImageToolBarButtonChecked(this.buttonData);
    };
    DropdownButtonMenuButtonComponent.prototype.getDefaultStyle = function () {
        return this.isChecked ? this.buttonStyleToken.down : this.buttonStyleToken.normal;
    };
    DropdownButtonMenuButtonComponent.prototype.getDefaultMarginTop = function () {
        return this.isTopButton ? "-20px" : "0";
    };
    DropdownButtonMenuButtonComponent.prototype.createBackgroundUrl = function (styleToken) {
        var arrowToken = this.showArrow ? "_h" : "";
        var backgroundUrl = "url(" + this.baseUrl + "assets/img/Toolbar/" + this.buttonData.name + "/" + styleToken + "/bitmap" + arrowToken + ".gif)";
        return backgroundUrl;
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseOver = function (event) {
        this.setBackgroundImage(this.buttonStyleToken.over);
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseOut = function (event) {
        this.setBackgroundImage(this.defaultStyle);
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseDown = function (event) {
        if (this.isCheckStyle && this.isChecked) {
            this.setBackgroundImage(this.buttonStyleToken.normal);
        }
        else {
            this.setBackgroundImage(this.buttonStyleToken.down);
        }
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseUp = function (event) {
        this.setBackgroundImage(this.defaultStyle);
    };
    DropdownButtonMenuButtonComponent.prototype.setBackgroundImage = function (style) {
        this.backgroundUrl = this.createBackgroundUrl(style);
    };
    DropdownButtonMenuButtonComponent.prototype.onClick = function () {
        if (!this.isTopButton) {
            this.selected.emit(this.buttonData);
        }
        if (this.buttonData.operationData.type === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext) {
            if (this.buttonData.operationData.data instanceof _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"]) {
                var viewContext = this.buttonData.operationData.data;
                this.viewContext.setContext(viewContext.action, viewContext.data);
            }
            else {
                this.viewContext.setContext(this.buttonData.operationData.data, null);
            }
        }
        else {
            this.viewContext.onOperation(this.buttonData.operationData);
            if (this.isCheckStyle && this.isTopButton && !this.showArrow) {
                this.isChecked = !this.isChecked;
            }
        }
    };
    DropdownButtonMenuButtonComponent.prototype.setContext = function (viewContext) {
        if (this.buttonData.operationData.type === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext) {
            if (this.buttonData.operationData.data instanceof _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"]) {
                var myViewContext = this.buttonData.operationData.data;
                this.isChecked = (viewContext.action === myViewContext.action && viewContext.data === myViewContext.data);
            }
            else {
                this.isChecked = (viewContext.action === this.buttonData.operationData.data);
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DropdownButtonMenuButtonComponent.prototype, "selected", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DropdownButtonMenuButtonComponent.prototype, "isTopButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DropdownButtonMenuButtonComponent.prototype, "showArrow", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_dropdown_button_menu_data__WEBPACK_IMPORTED_MODULE_1__["SelectedButtonData"]),
        __metadata("design:paramtypes", [_models_dropdown_button_menu_data__WEBPACK_IMPORTED_MODULE_1__["SelectedButtonData"]])
    ], DropdownButtonMenuButtonComponent.prototype, "buttonData", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], DropdownButtonMenuButtonComponent.prototype, "isChecked", null);
    DropdownButtonMenuButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-dropdown-button-menu-button",
            template: __webpack_require__(/*! ./dropdown-button-menu-button.component.html */ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html"),
            styles: [__webpack_require__(/*! ./dropdown-button-menu-button.component.css */ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css")]
        }),
        __metadata("design:paramtypes", [_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextService"], _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__["ConfigurationService"]])
    ], DropdownButtonMenuButtonComponent);
    return DropdownButtonMenuButtonComponent;
}());



/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "li.dropdown.open {\r\n    margin: -20px 0 0;\r\n    width: 35px;\r\n}\r\n\r\nli.dropdown {\r\n    margin: -20px 0 0;\r\n    width: 35px;\r\n}\r\n\r\n.dropdown-button-menu {\r\n    background-color: transparent;\r\n    margin: -24px 0 0;\r\n    min-width: 33px;\r\n    padding-bottom: 0;\r\n}\r\n\r\n.dropdown-button-menu-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    height: 33px;\r\n    outline: none;\r\n    width: 33px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vZHJvcGRvd24tYnV0dG9uLW1lbnUvZHJvcGRvd24tYnV0dG9uLW1lbnUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tbW9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51L2Ryb3Bkb3duLWJ1dHRvbi1tZW51LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsaS5kcm9wZG93bi5vcGVuIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbmxpLmRyb3Bkb3duIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1idXR0b24tbWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIG1hcmdpbjogLTI0cHggMCAwO1xyXG4gICAgbWluLXdpZHRoOiAzM3B4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDA7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMzcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<li class=\"dropdown\">\r\n    <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"false\" aria-expanded=\"false\">\r\n        <app-dropdown-button-menu-button [buttonData]=\"selectedButton\" [isTopButton]=\"true\" [showArrow]=\"true\">\r\n        </app-dropdown-button-menu-button>\r\n    </a>\r\n    <ul class=\"dropdown-menu dropdown-button-menu\">\r\n        <li *ngFor=\"let menuButton of menuButtonList\">\r\n            <app-dropdown-button-menu-button [buttonData]=\"menuButton\" [isTopButton]=\"false\" [showArrow]=\"false\" [isChecked]=\"selectedButton == menuButton\" (selected)=\"onSelectChanged($event)\"></app-dropdown-button-menu-button>\r\n        </li>\r\n    </ul>\r\n</li>\r\n"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts ***!
  \******************************************************************************************/
/*! exports provided: DropdownButtonMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropdownButtonMenuComponent", function() { return DropdownButtonMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DropdownButtonMenuComponent = /** @class */ (function () {
    function DropdownButtonMenuComponent(viewContext) {
        this.viewContext = viewContext;
    }
    DropdownButtonMenuComponent.prototype.ngOnInit = function () {
        this.selectedButton = this.menuButtonList[0];
        var $dropdownLi = $("li.dropdown");
        $dropdownLi.mouseover(function () {
            $(this).addClass("open");
        }).mouseout(function () {
            $(this).removeClass("open");
        }).click(function () {
            $(this).addClass("open");
        });
    };
    DropdownButtonMenuComponent.prototype.onSelectChanged = function (menuButton) {
        this.selectedButton = menuButton;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], DropdownButtonMenuComponent.prototype, "menuButtonList", void 0);
    DropdownButtonMenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-dropdown-button-menu",
            template: __webpack_require__(/*! ./dropdown-button-menu.component.html */ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html"),
            styles: [__webpack_require__(/*! ./dropdown-button-menu.component.css */ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css")]
        }),
        __metadata("design:paramtypes", [_services_view_context_service__WEBPACK_IMPORTED_MODULE_1__["ViewContextService"]])
    ], DropdownButtonMenuComponent);
    return DropdownButtonMenuComponent;
}());



/***/ }),

/***/ "./src/app/components/common/message-box/message-box.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/components/common/message-box/message-box.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 18px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 400px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 16px;\r\n    height: 80px;\r\n    min-width: 400px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-form-field { min-width: 400px; }\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    margin-left: 6px;\r\n    padding: 3px;\r\n    width: 100px;\r\n}\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element { caret-color: #F90; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vbWVzc2FnZS1ib3gvbWVzc2FnZS1ib3guY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLGtCQUFrQixnQkFBZ0IsRUFBRTs7QUFFcEM7SUFDSSxzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBLG9DQUFvQyxXQUFXLEVBQUU7O0FBRWpELDJCQUEyQixXQUFXLEVBQUU7O0FBRXhDLHNCQUFzQiwyQkFBMkIsRUFBRTs7QUFFbkQ7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQSxxQkFBcUIsaUJBQWlCLEVBQUUiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2NvbW1vbi9tZXNzYWdlLWJveC9tZXNzYWdlLWJveC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1kaWFsb2ctdGl0bGUge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNGRjk5MDA7XHJcbiAgICBjb2xvcjogI2Y5MDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIG1hcmdpbjogLTI0cHggLTI0cHggMHB4IC0yNHB4O1xyXG4gICAgbWluLXdpZHRoOiA0MDBweDtcclxuICAgIHBhZGRpbmc6IDFweCAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIG1pbi13aWR0aDogNDAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZGlhbG9nLWFjdGlvbnMgeyBtYXJnaW4tcmlnaHQ6IC0xMnB4OyB9XHJcblxyXG4ubWF0LWZvcm0tZmllbGQgeyBtaW4td2lkdGg6IDQwMHB4OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246ZGlzYWJsZWQ6aG92ZXIgeyBjb2xvcjogIzk5OTsgfVxyXG5cclxuLm1hdC1yYWlzZWQtYnV0dG9uOmhvdmVyIHsgY29sb3I6ICNmOTA7IH1cclxuXHJcbi5tYXQtZGlhbG9nLWFjdGlvbnMgeyBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7IH1cclxuXHJcbi5tYXRJbnB1dCB7XHJcbiAgICBjYXJldC1jb2xvcjogI0Y5MDtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLm1hdC1pbnB1dC1lbGVtZW50IHsgY2FyZXQtY29sb3I6ICNGOTA7IH1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/common/message-box/message-box.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/components/common/message-box/message-box.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h5 mat-dialog-title>{{content.title}}</h5>\r\n\r\n\r\n<mat-dialog-content [formGroup]=\"form\">\r\n\r\n    <i *ngIf=\"content.messageType === 0\" class=\"glyphicon glyphicon-info-sign\" style=\"padding-right: 8px\"></i>\r\n    <i *ngIf=\"content.messageType === 1\" class=\"glyphicon glyphicon-question-sign\" style=\"padding-right: 8px\"></i>\r\n    <i *ngIf=\"content.messageType === 2\" class=\"glyphicon glyphicon-warning-sign\" style=\"color: #F90; padding-right: 8px;\"></i>\r\n    <i *ngIf=\"content.messageType === 3\" class=\"glyphicon glyphicon-remove\" style=\"color: #F90; padding-right: 8px;\"></i>\r\n    <span *ngIf=\"content.messageType !== 4\" style=\"color: white\">{{content.messageText}}</span>\r\n    <mat-form-field *ngIf=\"content.messageType === 4\">\r\n        <input matInput\r\n               placeholder=\"{{content.messageText}}\"\r\n               formControlName=\"valueInput\"\r\n               (change)=\"onInput($event)\">\r\n    </mat-form-field>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions>\r\n\r\n    <button *ngIf=\"needShowYesNoButton()\" class=\"mat-raised-button\"\r\n            (click)=\"onNo()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>No\r\n    </button>\r\n\r\n    <button *ngIf=\"needShowYesNoButton()\" class=\"mat-raised-button\"\r\n            (click)=\"onYes()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Yes\r\n    </button>\r\n\r\n    <button *ngIf=\"needShowCancelButton()\" class=\"mat-raised-button\"\r\n            (click)=\"onCancel()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n\r\n    <button *ngIf=\"needShowOkButton()\" class=\"mat-raised-button\" [disabled]=\"needDisableYesButton\"\r\n            (click)=\"onOk()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/common/message-box/message-box.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/components/common/message-box/message-box.component.ts ***!
  \************************************************************************/
/*! exports provided: MessageBoxComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBoxComponent", function() { return MessageBoxComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var MessageBoxComponent = /** @class */ (function () {
    function MessageBoxComponent(fb, dialogRef, messageBoxContent) {
        this.fb = fb;
        this.dialogRef = dialogRef;
        this.needDisableYesButton = false;
        this.content = messageBoxContent;
        this.form = fb.group({
            dialogResult: [_models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Yes],
            valueInput: [this.valueInput, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]
        });
    }
    MessageBoxComponent.prototype.ngOnInit = function () {
        this.needDisableYesButton = this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
    };
    MessageBoxComponent.prototype.onYes = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Yes;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.onNo = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].No;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.onOk = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Ok;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.onCancel = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Cancel;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.needShowYesNoButton = function () {
        return this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Question;
    };
    MessageBoxComponent.prototype.needShowOkButton = function () {
        return this.content.messageType !== _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Question;
    };
    MessageBoxComponent.prototype.needShowCancelButton = function () {
        return this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
    };
    MessageBoxComponent.prototype.onInput = function (event) {
        this.needDisableYesButton = this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input &&
            (this.form.value.valueInput === null ||
                this.form.value.valueInput === undefined ||
                this.form.value.valueInput === "");
        //if (!this.needDisableYesButton && event.code === "Enter") {
        //  this.onOk();
        //}
    };
    MessageBoxComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-message-box",
            template: __webpack_require__(/*! ./message-box.component.html */ "./src/app/components/common/message-box/message-box.component.html"),
            styles: [__webpack_require__(/*! ./message-box.component.css */ "./src/app/components/common/message-box/message-box.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxContent"]])
    ], MessageBoxComponent);
    return MessageBoxComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 15px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 200px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 15px;\r\n    height: 100px;\r\n    min-width: 200px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\r\n    padding-bottom: 2px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-infix {\r\n    padding: 0;\r\n}\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element {\r\n    caret-color: #F90;\r\n    padding-left: 5px;\r\n}\r\n\r\n.mat-form-field-label-wrapper {\r\n    padding-top: 3px;\r\n}\r\n\r\n.mat-form-field-infix {\r\n    border-top: 0;\r\n}\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-left: 6px;\r\n    padding: 1px;\r\n    width: 90px;\r\n    height: 30px;\r\n    line-height: 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvbWFudWFsLXdsLWRpYWxvZy9tYW51YWwtd2wtZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQ0FBZ0M7SUFDaEMsV0FBVztJQUNYLGVBQWU7SUFDZiw2QkFBNkI7SUFDN0IsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0lBQ2YsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBLHNCQUFzQixtQkFBbUIsRUFBRTs7QUFFM0Msb0NBQW9DLFdBQVcsRUFBRTs7QUFFakQsMkJBQTJCLFdBQVcsRUFBRTs7QUFFeEMsc0JBQXNCLDJCQUEyQixFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvbWFudWFsLXdsLWRpYWxvZy9tYW51YWwtd2wtZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWRpYWxvZy10aXRsZSB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0ZGOTkwMDtcclxuICAgIGNvbG9yOiAjZjkwO1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgbWFyZ2luOiAtMjRweCAtMjRweCAwcHggLTI0cHg7XHJcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgcGFkZGluZzogMXB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLWxlZ2FjeSAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1sZWdhY3kgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5tYXRJbnB1dCB7XHJcbiAgICBjYXJldC1jb2xvcjogI0Y5MDtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIHtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG59XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgcGFkZGluZzogMXB4O1xyXG4gICAgd2lkdGg6IDkwcHg7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfSJdfQ== */"

/***/ }),

/***/ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Manual WL\r\n</h1>\r\n<mat-dialog-content>\r\n    <table>\r\n        <tr>\r\n            <td style=\"padding-left: 5px\">Window Center</td>\r\n            <td style=\"width: 10px\"></td>\r\n            <td style=\"padding-left: 5px\">Window Width</td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input type=\"number\" matInput [(ngModel)]=\"data.windowWidth\" cdkFocusInitial>\r\n                </mat-form-field>\r\n            </td>\r\n            <td></td>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input type=\"number\" matInput [(ngModel)]=\"data.windowCenter\">\r\n                </mat-form-field>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n    <button class=\"mat-raised-button\" (click)=\"onOkClick()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts ***!
  \**********************************************************************************/
/*! exports provided: ManualWlDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManualWlDialogComponent", function() { return ManualWlDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/dailog-data/image-process */ "./src/app/models/dailog-data/image-process.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ManualWlDialogComponent = /** @class */ (function () {
    function ManualWlDialogComponent(dialogRef, data, dialogService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.dialogService = dialogService;
    }
    ManualWlDialogComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    ManualWlDialogComponent.prototype.onOkClick = function () {
        var windowCenter = Number(this.data.windowCenter);
        var windowWidth = Number(this.data.windowWidth);
        if (isNaN(windowCenter) || isNaN(windowWidth)) {
            var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxContent"]();
            content.title = "Input error";
            content.messageText = "Only number is allowed for window center and width!";
            content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxType"].Warning;
            this.dialogService.showMessageBox(content);
            return;
        }
        this.dialogRef.close(this.data);
    };
    ManualWlDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-manual-wl-dialog",
            template: __webpack_require__(/*! ./manual-wl-dialog.component.html */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html"),
            styles: [__webpack_require__(/*! ./manual-wl-dialog.component.css */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_2__["WindowLevelData"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], ManualWlDialogComponent);
    return ManualWlDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 15px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 200px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 15px;\r\n    min-width: 200px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\r\n    padding-bottom: 2px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-infix {\r\n    padding: 0;\r\n}\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element {\r\n    caret-color: #F90;\r\n    padding-left: 5px;\r\n}\r\n\r\n.mat-form-field-label-wrapper {\r\n    padding-top: 3px;\r\n}\r\n\r\n.mat-form-field-infix {\r\n    border-top: 0;\r\n}\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-left: 6px;\r\n    padding: 1px;\r\n    width: 90px;\r\n    height: 30px;\r\n    line-height: 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n\r\n.marker-image {\r\n    border: 1px solid #808080;\r\n}\r\n\r\n.marker-image:hover {\r\n    border: 1px solid #F90;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LW1hcmtlci1kaWFsb2cvc2VsZWN0LW1hcmtlci1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksVUFBVTtBQUNkOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtJQUNaLGlCQUFpQjtBQUNyQjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLG9DQUFvQyxXQUFXLEVBQUU7O0FBRWpELDJCQUEyQixXQUFXLEVBQUU7O0FBRXhDLHNCQUFzQiwyQkFBMkIsRUFBRTs7QUFFbkQ7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZy9zZWxlY3QtbWFya2VyLWRpYWxvZy9zZWxlY3QtbWFya2VyLWRpYWxvZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1kaWFsb2ctdGl0bGUge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNGRjk5MDA7XHJcbiAgICBjb2xvcjogI2Y5MDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIG1hcmdpbjogLTI0cHggLTI0cHggMHB4IC0yNHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDFweCAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLWxlZ2FjeSAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1sZWdhY3kgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5tYXRJbnB1dCB7XHJcbiAgICBjYXJldC1jb2xvcjogI0Y5MDtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIHtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG59XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgcGFkZGluZzogMXB4O1xyXG4gICAgd2lkdGg6IDkwcHg7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfVxyXG5cclxuLm1hcmtlci1pbWFnZSB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjODA4MDgwO1xyXG59XHJcblxyXG4ubWFya2VyLWltYWdlOmhvdmVyIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNGOTA7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Select Marker\r\n</h1>\r\n<mat-dialog-content>\r\n    <mat-tab-group>\r\n        <mat-tab *ngFor=\"let markerGroup of markerGroupList\" [label]=\"markerGroup.groupName\">\r\n            <table style=\"background-color: #808080\">\r\n                <tr *ngFor=\"let markerRow of markerGroup.markerDataTable\" >\r\n                    <td *ngFor=\"let markerData of markerRow\" style=\"border: 1px solid white\">\r\n                        <img [src]=\"getImageUrl(markerData)\" [alt]=\"markerData.displayText\" (click)=\"onOkClick(markerData)\" class=\"marker-image\"/>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts ***!
  \******************************************************************************************/
/*! exports provided: SelectMarkerDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectMarkerDialogComponent", function() { return SelectMarkerDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SelectMarkerDialogComponent = /** @class */ (function () {
    function SelectMarkerDialogComponent(dialogRef, dialogService, configService) {
        this.dialogRef = dialogRef;
        this.dialogService = dialogService;
        this.configService = configService;
        this.markerGroupList = [];
        this.baseUrl = this.configService.getBaseUrl();
        this.markerGroupList = this.configService.getMarkerConfig();
    }
    SelectMarkerDialogComponent.prototype.ngOnInit = function () {
    };
    SelectMarkerDialogComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    SelectMarkerDialogComponent.prototype.onOkClick = function (markerData) {
        this.dialogRef.close(this.getImageUrl(markerData));
    };
    SelectMarkerDialogComponent.prototype.getImageUrl = function (markerData) {
        return this.baseUrl + "assets/img/Stamp/" + markerData.imageName;
    };
    SelectMarkerDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-select-marker-dialog',
            template: __webpack_require__(/*! ./select-marker-dialog.component.html */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.html"),
            styles: [__webpack_require__(/*! ./select-marker-dialog.component.css */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__["ConfigurationService"]])
    ], SelectMarkerDialogComponent);
    return SelectMarkerDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css":
/*!*************************************************************************************************!*\
  !*** ./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 15px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 200px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 15px;\r\n    height: 100px;\r\n    min-width: 200px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-form-field { }\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-left: 6px;\r\n    padding: 1px;\r\n    width: 100px;\r\n}\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element { caret-color: #F90; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLGtCQUFrQjs7QUFFbEI7SUFDSSxzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSxvQ0FBb0MsV0FBVyxFQUFFOztBQUVqRCwyQkFBMkIsV0FBVyxFQUFFOztBQUV4QyxzQkFBc0IsMkJBQTJCLEVBQUU7O0FBRW5EO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7O0FBRUEscUJBQXFCLGlCQUFpQixFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLXRpdGxlIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkY5OTAwO1xyXG4gICAgY29sb3I6ICNmOTA7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBtYXJnaW46IC0yNHB4IC0yNHB4IDBweCAtMjRweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtZm9ybS1maWVsZCB7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICBwYWRkaW5nOiAxcHg7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbn1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfVxyXG5cclxuLm1hdElucHV0IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgY29sb3I6IGdyZWVuO1xyXG59XHJcblxyXG4ubWF0LWlucHV0LWVsZW1lbnQgeyBjYXJldC1jb2xvcjogI0Y5MDsgfVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html":
/*!**************************************************************************************************!*\
  !*** ./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Select Study Date Range\r\n</h1>\r\n<mat-dialog-content>\r\n    <table>\r\n        <tr>\r\n            <td></td>\r\n            <td style=\"width: 10px\"></td>\r\n            <td></td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"picker1\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"From\" (dateChange)=\"fromDateChanged('change', $event)\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker1></mat-datepicker>\r\n                </mat-form-field>\r\n            </td>\r\n            <td></td>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"picker2\" [min]=\"toMinDate\" [max]=\"toMaxDate\" placeholder=\"To\" (dateChange)=\"toDateChanged('change', $event)\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker2></mat-datepicker>\r\n                </mat-form-field>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n    <button class=\"mat-raised-button\" (click)=\"onOkClick()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts ***!
  \************************************************************************************************/
/*! exports provided: MY_FORMATS, SelectStudydateDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MY_FORMATS", function() { return MY_FORMATS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectStudydateDialogComponent", function() { return SelectStudydateDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/dailog-data/date-range */ "./src/app/models/dailog-data/date-range.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/esm5/core.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




// Import DatePicker format


var MY_FORMATS = {
    parse: {
        dateInput: "LL",
    },
    display: {
        dateInput: "LL",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY",
    },
};
var SelectStudydateDialogComponent = /** @class */ (function () {
    function SelectStudydateDialogComponent(dialogRef, dateRange, dialogService) {
        this.dialogRef = dialogRef;
        this.dateRange = dateRange;
        this.dialogService = dialogService;
        this.fromMinDate = new Date(1900, 1, 1);
        this.fromMaxDate = new Date();
        this.toMinDate = new Date();
        this.toMaxDate = new Date();
    }
    SelectStudydateDialogComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    SelectStudydateDialogComponent.prototype.onOkClick = function () {
        this.dialogRef.close(this.dateRange);
    };
    SelectStudydateDialogComponent.prototype.fromDateChanged = function (type, event) {
        this.toMinDate = event.value;
        this.dateRange.dateFrom = event.value;
    };
    SelectStudydateDialogComponent.prototype.toDateChanged = function (type, event) {
        this.fromMaxDate = event.value;
        this.dateRange.dateTo = event.value;
    };
    SelectStudydateDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-select-studydate-dialog',
            template: __webpack_require__(/*! ./select-studydate-dialog.component.html */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html"),
            providers: [
                // i18n
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"], useValue: "zh-CN" },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["DateAdapter"], useClass: _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__["MomentDateAdapter"], deps: [_angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"]] },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_FORMATS"], useValue: MY_FORMATS },
            ],
            styles: [__webpack_require__(/*! ./select-studydate-dialog.component.css */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_2__["DateRange"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], SelectStudydateDialogComponent);
    return SelectStudydateDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/header-bar/header-bar.component.css":
/*!****************************************************************!*\
  !*** ./src/app/components/header-bar/header-bar.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".nav-button {\r\n    /*display: inline-block;*/\r\n    background-color: #555555;\r\n    border-radius: 1px;\r\n    border-width: 1px;\r\n    color: white;\r\n    margin-left: 2px;\r\n    margin-right: 2px;\r\n    text-decoration: none;\r\n}\r\n\r\n/*.nav-button:visited {\r\n  color: #607D8B;\r\n}*/\r\n\r\n.nav-button:hover { color: #ff9900; }\r\n\r\n/*.nav-button:active {\r\n  color: #039be5;\r\n}*/\r\n\r\n.company-name {\r\n    color: white;\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n}\r\n\r\n.product-name {\r\n    color: white;\r\n    font-size: 12px;\r\n    padding: 15px 2px;\r\n}\r\n\r\n.div-headerbar-nav {\r\n    /*display: inline-block;*/\r\n    background-color: #555555;\r\n    border-radius: 1px;\r\n    border-width: 1px;\r\n    color: white;\r\n    margin-left: 2px;\r\n    margin-right: 2px;\r\n    text-decoration: none;\r\n}\r\n\r\n.div-headerbar-button {\r\n    background-color: #555555;\r\n    border-radius: 2px;\r\n    border-width: 0px;\r\n    color: white;\r\n    height: 28px;\r\n    padding-top: 3px;\r\n    text-decoration: none;\r\n}\r\n\r\n.div-headerbar-button:hover { color: #ff9900; }\r\n\r\n.div-headerbar-button:focus { outline: none; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXItYmFyL2hlYWRlci1iYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixxQkFBcUI7QUFDekI7O0FBRUE7O0VBRUU7O0FBRUYsb0JBQW9CLGNBQWMsRUFBRTs7QUFFcEM7O0VBRUU7O0FBRUY7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLHFCQUFxQjtBQUN6Qjs7QUFFQSw4QkFBOEIsY0FBYyxFQUFFOztBQUU5Qyw4QkFBOEIsYUFBYSxFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXItYmFyL2hlYWRlci1iYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtYnV0dG9uIHtcclxuICAgIC8qZGlzcGxheTogaW5saW5lLWJsb2NrOyovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi8qLm5hdi1idXR0b246dmlzaXRlZCB7XHJcbiAgY29sb3I6ICM2MDdEOEI7XHJcbn0qL1xyXG5cclxuLm5hdi1idXR0b246aG92ZXIgeyBjb2xvcjogI2ZmOTkwMDsgfVxyXG5cclxuLyoubmF2LWJ1dHRvbjphY3RpdmUge1xyXG4gIGNvbG9yOiAjMDM5YmU1O1xyXG59Ki9cclxuXHJcbi5jb21wYW55LW5hbWUge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnByb2R1Y3QtbmFtZSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBwYWRkaW5nOiAxNXB4IDJweDtcclxufVxyXG5cclxuLmRpdi1oZWFkZXJiYXItbmF2IHtcclxuICAgIC8qZGlzcGxheTogaW5saW5lLWJsb2NrOyovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5kaXYtaGVhZGVyYmFyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBoZWlnaHQ6IDI4cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogM3B4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4uZGl2LWhlYWRlcmJhci1idXR0b246aG92ZXIgeyBjb2xvcjogI2ZmOTkwMDsgfVxyXG5cclxuLmRpdi1oZWFkZXJiYXItYnV0dG9uOmZvY3VzIHsgb3V0bGluZTogbm9uZTsgfVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/header-bar/header-bar.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/header-bar/header-bar.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n    <div class=\"navbar-header\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <!--<div class=\"navbar-brand\" href=\"#\">\r\n                        <img src=\"../../../assets/img/Carestream.svg\">\r\n                    </div>-->\r\n                    <div class=\"company-name\">Carestream</div>\r\n                </td>\r\n                <td>\r\n                    <div class=\"product-name\">Image Suite</div>\r\n                </td>\r\n                <td>\r\n                    <div class=\"nav-button\" style=\"padding-left: 4px; padding-right: 4px\">\r\n                        <button id=\"headerButton-worklist\" class=\"div-headerbar-button\" (click)=\"showViewerShell(null)\">Worklist</button>\r\n                    </div>\r\n                </td>\r\n                <td *ngFor=\"let viewerShellData of getViewerShellDataList()\">\r\n                    <div class=\"nav-button\">\r\n                        <button [id]=\"getId(viewerShellData)\" class=\"div-headerbar-button\" (click)=\"showViewerShell(viewerShellData)\">{{viewerShellData.getName()}}</button>\r\n                        <button class=\"div-headerbar-button\" (click)=\"closeViewerShell(viewerShellData)\">x</button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/header-bar/header-bar.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/header-bar/header-bar.component.ts ***!
  \***************************************************************/
/*! exports provided: HeaderBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderBarComponent", function() { return HeaderBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HeaderBarComponent = /** @class */ (function () {
    // Do NOT need to subscribe on shellCreated message, since when a new ViewerShell is created, 
    // shellNavigatorService.viewerShellDataList will updated, and this will update the UI of 
    // header-bar page
    function HeaderBarComponent(shellNavigatorService) {
        var _this = this;
        this.shellNavigatorService = shellNavigatorService;
        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(function (viewerShellData) { _this.highlightStudyButton(viewerShellData); });
    }
    HeaderBarComponent.prototype.ngOnInit = function () {
    };
    HeaderBarComponent.prototype.ngAfterContentInit = function () {
    };
    HeaderBarComponent.prototype.ngAfterViewInit = function () {
    };
    HeaderBarComponent.prototype.ngOnChanges = function (changes) {
    };
    HeaderBarComponent.prototype.ngAfterViewChecked = function () {
        this.highlightStudyButton(this.shellNavigatorService.viewerShellDataHighlighted);
    };
    HeaderBarComponent.prototype.getViewerShellDataList = function () {
        return this.shellNavigatorService.viewerShellDataList;
    };
    HeaderBarComponent.prototype.showViewerShell = function (viewerShellData) {
        this.shellNavigatorService.shellNavigate(viewerShellData);
    };
    HeaderBarComponent.prototype.closeViewerShell = function (viewerShellData) {
        this.shellNavigatorService.shellDelete(viewerShellData);
    };
    HeaderBarComponent.prototype.highlightStudyButton = function (viewerShellData) {
        var highlightedId;
        if (viewerShellData === null || viewerShellData === undefined) {
            highlightedId = "headerButton-worklist";
        }
        else {
            highlightedId = viewerShellData.getId();
        }
        var o = document.getElementById("headerButton-worklist");
        if (o !== undefined && o !== null) {
            o.style.color = (highlightedId === "headerButton-worklist") ? "#ff9900" : "white";
        }
        var len = this.getViewerShellDataList().length;
        for (var i = 0; i < len; i++) {
            var id = "headerButton" + this.getViewerShellDataList()[i].getId();
            o = document.getElementById(id);
            if (o !== undefined && o !== null) {
                o.style.color = (this.getViewerShellDataList()[i].getId() === highlightedId) ? "#ff9900" : "white";
            }
        }
    };
    HeaderBarComponent.prototype.getId = function (viewerShellData) {
        return "headerButton" + viewerShellData.getId();
    };
    HeaderBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-header-bar",
            template: __webpack_require__(/*! ./header-bar.component.html */ "./src/app/components/header-bar/header-bar.component.html"),
            styles: [__webpack_require__(/*! ./header-bar.component.css */ "./src/app/components/header-bar/header-bar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__["ShellNavigatorService"]])
    ], HeaderBarComponent);
    return HeaderBarComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/group-viewer.component.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".DivLayoutViewer {\r\n    background-color: #555555;\r\n    /*border-top: solid 2px #FFFFFF;\r\n  border-bottom: solid 2px #FFFFFF;\r\n  border-left: solid 2px #FFFFFF;\r\n  border-right: solid 2px #FFFFFF;*/\r\n    border: 1px solid #555555;\r\n    color: #F5F5F5;\r\n    display: flex;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    width: 100%;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2dyb3VwLXZpZXdlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCOzs7bUNBRytCO0lBQy9CLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLFlBQVk7SUFDWixjQUFjO0lBQ2QsV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2dyb3VwLXZpZXdlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkRpdkxheW91dFZpZXdlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgLypib3JkZXItdG9wOiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItbGVmdDogc29saWQgMnB4ICNGRkZGRkY7XHJcbiAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAycHggI0ZGRkZGRjsqL1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzU1NTU1NTtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/group-viewer.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"DivLayoutViewer\" [id]=\"getId()\" (click)=\"onSelected()\" [style.border]=\"getBorderStyle()\">\r\n    <div class=\"div-flex-column\" *ngFor=\"let a of Arr(groupData.imageMatrix.colCount).fill(1); let colIndex = index\">\r\n        <div class=\"div-flex-row\" *ngFor=\"let a of Arr(groupData.imageMatrix.rowCount).fill(1); let rowIndex = index\">\r\n            <app-image-viewer [imageData]=\"getImageData(rowIndex,colIndex)\" class=\"div-flex-row\">\r\n            </app-image-viewer>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts ***!
  \********************************************************************************/
/*! exports provided: GroupViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupViewerComponent", function() { return GroupViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/hanging-protocol */ "./src/app/models/hanging-protocol.ts");
/* harmony import */ var _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/viewer-group-data */ "./src/app/models/viewer-group-data.ts");
/* harmony import */ var _image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-viewer/image-viewer.component */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var GroupViewerComponent = /** @class */ (function () {
    function GroupViewerComponent(imageSelectorService, hangingProtocolService, logService) {
        var _this = this;
        this.imageSelectorService = imageSelectorService;
        this.hangingProtocolService = hangingProtocolService;
        this.logService = logService;
        this.Arr = Array; //Array type captured in a variable
        this.selected = false;
        this.subscriptionImageSelection = imageSelectorService.imageSelected$.subscribe(function (viewerImageData) {
            _this.doSelectGroup(viewerImageData);
        });
        this.subscriptionThumbnailSelection = imageSelectorService.thumbnailSelected$.subscribe(function (image) {
            _this.doSelectGroupByThumbnail(image);
        });
        this.subscriptionImageLayoutChange = imageSelectorService.imageLayoutChanged$.subscribe(function (imageLayoutStyle) {
            _this.onChangeImageLayout(imageLayoutStyle);
        });
        this.logService.debug("Group: a new GroupViewerComponent is created!");
    }
    Object.defineProperty(GroupViewerComponent.prototype, "groupData", {
        get: function () {
            return this._groupData;
        },
        set: function (groupData) {
            this.logPrefix = "Group" + groupData.getId() + ": ";
            var log = this.logPrefix + "set groupData, protocol is " + _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"][groupData.imageHangingProtocol];
            this.logService.debug(log);
            this._groupData = groupData;
            this.setImageLayout(this.groupData.imageHangingProtocol);
        },
        enumerable: true,
        configurable: true
    });
    GroupViewerComponent.prototype.ngOnInit = function () {
    };
    GroupViewerComponent.prototype.ngAfterContentInit = function () {
    };
    GroupViewerComponent.prototype.ngAfterViewChecked = function () {
        if (this.childImages) {
            this.setHeight(this.childImages.first.canvas.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.clientHeight);
            this.childImages.forEach(function (child) { return child.adjustHeight(); });
        }
    };
    GroupViewerComponent.prototype.onSelected = function () {
    };
    GroupViewerComponent.prototype.doSelectGroup = function (viewerImageData) {
        this.selected = (this._groupData === viewerImageData.groupData);
    };
    GroupViewerComponent.prototype.doSelectGroupByThumbnail = function (image) {
        var find = this._groupData.imageDataList.find(function (imageData) { return imageData.image === image; });
        this.selected = (find !== undefined);
    };
    GroupViewerComponent.prototype.getBorderStyle = function () {
        return this.selected ? "1px solid green" : "1px solid #555555";
    };
    //doSelectById(id: string, selected: boolean): void {
    //  const o = document.getElementById(id);
    //  if (o !== undefined && o !== null) {
    //    o.style.border = selected ? '1px solid yellow' : '1px solid #555555';
    //  }
    //}
    //doSelectByImageViewerId(imageViewerId: string): void {
    //  const id = this.groupData.getId();
    //  this.selected = imageViewerId.startsWith(id);
    //  var divId = 'DivLayoutViewer' + id;
    //  this.doSelectById(divId, this.selected);
    //}
    GroupViewerComponent.prototype.onChangeImageLayout = function (imageLayoutStyle) {
        if (this.selected) {
            this.setImageLayout(imageLayoutStyle);
        }
    };
    GroupViewerComponent.prototype.setImageLayout = function (imageLayoutStyle) {
        if (this.childImages) {
            this.childImages.forEach(function (child) { return child.setHeight(0); });
        }
        this.hangingProtocolService.applyImageHangingProtocol(this.groupData, imageLayoutStyle);
        this.imageDataList = this.groupData.imageDataList;
        this.onResize();
    };
    GroupViewerComponent.prototype.getId = function () {
        return "DivLayoutViewer" + this.groupData.getId();
    };
    GroupViewerComponent.prototype.onResize = function () {
        if (!this.childImages)
            return;
        this.logService.debug("Group: onResize()");
        this.childImages.forEach(function (imageViewer, index) {
            imageViewer.onResize();
        });
    };
    GroupViewerComponent.prototype.getImageData = function (rowIndex, colIndex) {
        var imageIndex = rowIndex * this.groupData.imageMatrix.colCount + colIndex;
        return this.imageDataList[imageIndex];
        // return this.groupData.getImage(rowIndex, colIndex);
    };
    GroupViewerComponent.prototype.setHeight = function (height) {
        var o = document.getElementById(this.getId());
        if (o !== undefined && o !== null) {
            if (this.childImages) {
                this.childImages.forEach(function (child) { return child.setHeight(0); });
            }
            o.style.height = height.toString() + "px";
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])(_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_5__["ImageViewerComponent"]),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], GroupViewerComponent.prototype, "childImages", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_4__["ViewerGroupData"]),
        __metadata("design:paramtypes", [_models_viewer_group_data__WEBPACK_IMPORTED_MODULE_4__["ViewerGroupData"]])
    ], GroupViewerComponent.prototype, "groupData", null);
    GroupViewerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-group-viewer",
            template: __webpack_require__(/*! ./group-viewer.component.html */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.html"),
            styles: [__webpack_require__(/*! ./group-viewer.component.css */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__["ImageSelectorService"],
            _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__["HangingProtocolService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_6__["LogService"]])
    ], GroupViewerComponent);
    return GroupViewerComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css":
/*!**********************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".DivImageViewer {\r\n    align-items: right;\r\n    background-color: #000000;\r\n    /*border-top: solid 2px #FFFFFF;\r\n  border-bottom: solid 2px #FFFFFF;\r\n  border-left: solid 2px #FFFFFF;\r\n  border-right: solid 2px #FFFFFF;*/\r\n    border: 1px solid #555555;\r\n    color: #F5F5F5;\r\n    display: flex;\r\n    flex: 1;\r\n    height: 100%;\r\n    justify-content: normal;\r\n    overflow: hidden;\r\n    width: 100%;\r\n}\r\n\r\n.DivImageViewer .viewerCanvas {\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    -o-user-select: none;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n\r\n    background-color: black;\r\n    flex: 1;\r\n    height: auto;\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    user-select: none;\r\n    width: auto;\r\n}\r\n\r\n.helpElement {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    visibility: hidden;\r\n    z-index: -10000000;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2ltYWdlLXZpZXdlci9pbWFnZS12aWV3ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekI7OzttQ0FHK0I7SUFDL0IseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxhQUFhO0lBQ2IsT0FBTztJQUNQLFlBQVk7SUFDWix1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixzQkFBc0I7SUFDdEIscUJBQXFCO0lBQ3JCLG9CQUFvQjtJQUNwQiwyQkFBMkI7SUFDM0IseUJBQXlCOztJQUV6Qix1QkFBdUI7SUFDdkIsT0FBTztJQUNQLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3ZpZXdlci1zaGVsbC9ncm91cC12aWV3ZXIvaW1hZ2Utdmlld2VyL2ltYWdlLXZpZXdlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkRpdkltYWdlVmlld2VyIHtcclxuICAgIGFsaWduLWl0ZW1zOiByaWdodDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgICAvKmJvcmRlci10b3A6IHNvbGlkIDJweCAjRkZGRkZGO1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCAjRkZGRkZGO1xyXG4gIGJvcmRlci1sZWZ0OiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItcmlnaHQ6IHNvbGlkIDJweCAjRkZGRkZGOyovXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNTU1NTU1O1xyXG4gICAgY29sb3I6ICNGNUY1RjU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogbm9ybWFsO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uRGl2SW1hZ2VWaWV3ZXIgLnZpZXdlckNhbnZhcyB7XHJcbiAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIG1heC1oZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG59XHJcblxyXG4uaGVscEVsZW1lbnQge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgIHotaW5kZXg6IC0xMDAwMDAwMDtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html":
/*!***********************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"DivImageViewer\" [id]=\"getId()\" (click)=\"onSelected()\" [style.border]=\"getBorderStyle()\">\r\n    <!--<div *ngIf=\"worklistService.isUsingLocalTestData() && imageData!== null && imageData.image !== null\" style=\"width: 500px\">\r\n        <p>\r\n            **************************************\r\n            Name : {{imageData.image.series.study.patient.patientName}} | \r\n            AccNo : {{imageData.image.series.study.accessionNo}} | \r\n            Modality : {{imageData.image.series.modality}} | \r\n            ImageID : {{imageData.image.id}}\r\n        </p>\r\n    </div>-->\r\n    <canvas [id]=\"getCanvasId()\" #viewerCanvas class=\"viewerCanvas\" (keyup)=\"onKeyUp($event)\" (keydown)=\"onKeyDown($event)\" tabindex=\"0\"></canvas>\r\n</div>\r\n\r\n<div #helpElement class=\"helpElement\"></div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: ImageViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerComponent", function() { return ImageViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
/* harmony import */ var _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../models/viewer-image-data */ "./src/app/models/viewer-image-data.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../services/log.service */ "./src/app/services/log.service.ts");
/* harmony import */ var _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../models/dailog-data/image-process */ "./src/app/models/dailog-data/image-process.ts");
/* harmony import */ var _dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../dialog/manual-wl-dialog/manual-wl-dialog.component */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts");
/* harmony import */ var _dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../dialog/select-marker-dialog/select-marker-dialog.component */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts");
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../annotation/ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-guide */ "./src/app/annotation/layer-object/ann-guide.ts");
/* harmony import */ var _annotation_layer_object_ann_image_ruler__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-image-ruler */ "./src/app/annotation/layer-object/ann-image-ruler.ts");
/* harmony import */ var _annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../annotation/extend-object/ann-image */ "./src/app/annotation/extend-object/ann-image.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var ImageViewerComponent = /** @class */ (function () {
    function ImageViewerComponent(imageSelectorService, dicomImageService, configurationService, viewContext, worklistService, dialogService, logService, ngZone) {
        var _this = this;
        this.imageSelectorService = imageSelectorService;
        this.dicomImageService = dicomImageService;
        this.configurationService = configurationService;
        this.viewContext = viewContext;
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.logService = logService;
        this.ngZone = ngZone;
        this.needResize = true;
        this.selected = false;
        this.mouseEventHelper = {};
        this.eventHandlers = {};
        this.annObjList = [];
        this.ctrlKeyPressed = false;
        this.jcTextOverlayList = [];
        this.subscriptionImageSelection = imageSelectorService.imageSelected$.subscribe(function (viewerImageData) {
            _this.doSelectImage(viewerImageData);
        });
        this.subscriptionThumbnailSelection = imageSelectorService.thumbnailSelected$.subscribe(function (image) {
            _this.doSelectImageByThumbnail(image);
        });
        this.subscriptionViewContextChange = viewContext.viewContextChanged$.subscribe(function (context) {
            if (!(_this._imageData.groupData.viewerShellData.hide) && _this.selected) {
                _this.setContext(context);
            }
        });
        this.subscriptionOperation = viewContext.onOperation$.subscribe(function (operation) {
            _this.onOperation(operation);
        });
        this.logService.debug("Image: a new ImageViewerComponent is created!");
    }
    Object.defineProperty(ImageViewerComponent.prototype, "imageData", {
        get: function () {
            return this._imageData;
        },
        set: function (imageData) {
            this.logPrefix = "Image" + imageData.getId() + ": ";
            var log = this.logPrefix + "set imageData, image " + (imageData.image === null ? 'is null' : 'id is ' + imageData.image.id);
            this.logService.debug(log);
            if (this._imageData !== imageData) {
                this._imageData = imageData;
                this.image = this._imageData.image;
                this.checkLoadImage();
            }
        },
        enumerable: true,
        configurable: true
    });
    ImageViewerComponent.prototype.ngOnInit = function () {
        this.logService.debug(this.logPrefix + "ngOnInit");
        this.baseUrl = this.configurationService.getBaseUrl();
    };
    ImageViewerComponent.prototype.ngAfterContentInit = function () {
        this.logService.debug(this.logPrefix + "ngAfterContentInit");
    };
    ImageViewerComponent.prototype.ngAfterViewInit = function () {
        this.logService.debug(this.logPrefix + "ngAfterViewInit");
        this.canvas = this.canvasRef.nativeElement;
        this.helpElement = this.helpElementRef.nativeElement;
        var canvasId = this.getCanvasId();
        jCanvaScript.start(canvasId, true);
        this.jcanvas = jCanvaScript.canvas(canvasId);
        var parent = this.canvas.parentElement;
        this.canvas.width = parent.clientWidth;
        this.canvas.height = parent.clientHeight;
        this.jcanvas.width(this.canvas.width);
        this.jcanvas.height(this.canvas.height);
        this.createLayers(canvasId);
        this.registerCanvasEvents();
        this.registerImgLayerEvents();
        if (this.image) {
            this.showWaitingText();
        }
        this.annGuide = new _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_15__["AnnGuide"](this);
        this.annImageRuler = new _annotation_layer_object_ann_image_ruler__WEBPACK_IMPORTED_MODULE_16__["AnnImageRuler"](this);
        this.isViewInited = true;
    };
    ImageViewerComponent.prototype.adjustHeight = function () {
        var parent = this.canvas.parentElement.parentElement;
        this.setHeight(parent.clientHeight);
    };
    ImageViewerComponent.prototype.ngAfterViewChecked = function () {
        if (this.needResize && this.isImageLoaded) {
            var parent_1 = this.canvas.parentElement.parentElement;
            var curWidth = parent_1.clientWidth;
            var curHeight = parent_1.clientHeight;
            this.canvas.width = curWidth;
            this.canvas.height = curHeight;
            this.jcanvas.width(this.canvas.width);
            this.jcanvas.height(this.canvas.height);
            this.jcanvas.restart();
            this.logService.debug(this.logPrefix + 'ngAfterViewChecked() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
            if (this.image) {
                this.fitWindow();
                if (this.olLayer) {
                    this.showTextOverlay();
                }
                this.annImageRuler.reDraw(this);
            }
            else {
                this.jcanvas.clear();
            }
            this.needResize = false;
        }
    };
    ImageViewerComponent.prototype.ngOnDestroy = function () {
        if (this.jcanvas) {
            this.jcanvas.del();
        }
        if (this.helpElement) {
            cornerstone.disable(this.helpElement);
        }
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Implementation of interface IImageViewer
    ImageViewerComponent.prototype.isCtrlKeyPressed = function () {
        return this.ctrlKeyPressed;
    };
    ImageViewerComponent.prototype.getAnnotationLayerId = function () {
        return this.annLayerId;
    };
    ImageViewerComponent.prototype.getAnnLabelLayerId = function () {
        return this.annLabelLayerId;
    };
    ImageViewerComponent.prototype.getAnnGuideLayerId = function () {
        return this.tooltipLayerId;
    };
    ImageViewerComponent.prototype.getAnnImageRulerLayerId = function () {
        return this.imgRulerLayerId;
    };
    ImageViewerComponent.prototype.getImageLayer = function () {
        return this.imgLayer;
    };
    ImageViewerComponent.prototype.getAnnLabelLayer = function () {
        return this.annLabelLayer;
    };
    ImageViewerComponent.prototype.getAnnGuideLayer = function () {
        return this.tooltipLayer;
    };
    ImageViewerComponent.prototype.getImage = function () {
        return this.image;
    };
    ImageViewerComponent.prototype.getCanvas = function () {
        return this.canvas;
    };
    ImageViewerComponent.prototype.getContext = function () {
        return this.viewContext.curContext;
    };
    ImageViewerComponent.prototype.getBaseUrl = function () {
        return this.baseUrl;
    };
    ImageViewerComponent.prototype.getTextFont = function () {
        return this.configurationService.getOverlayFont();
    };
    ImageViewerComponent.prototype.selectAnnotation = function (annObj) {
        if (annObj) {
            if (this.curSelectObj !== annObj) {
                if (this.curSelectObj) {
                    this.curSelectObj.onSelect(false, false);
                }
                this.curSelectObj = annObj;
                this.curSelectObj.onSelect(true, true);
            }
        }
        else {
            if (this.curSelectObj) {
                if (!this.curSelectObj.isCreated()) {
                    this.deleteAnnotation(this.curSelectObj);
                }
                else {
                    this.curSelectObj.onSelect(false, false);
                }
            }
            this.curSelectObj = undefined;
        }
        if (this.curSelectObj && this.curSelectObj.isGuideNeeded()) {
            var stepIndex = this.curSelectObj.getFocusedObj().getStepIndex();
            if (stepIndex !== -1) {
                this.annGuide.setGuideTargetObj(this.curSelectObj);
                this.annGuide.show(this.curSelectObj.getTypeName(), stepIndex);
            }
        }
    };
    ImageViewerComponent.prototype.selectNextAnnotation = function (backward) {
        var len = this.annObjList.length;
        if (len === 0)
            return;
        if (!this.curSelectObj) {
            this.selectAnnotation(this.annObjList[0]);
            return;
        }
        var i = 0;
        for (; i < len; i++) {
            if (this.curSelectObj === this.annObjList[i])
                break;
        }
        var nextIndex = i;
        if (backward) {
            nextIndex = (i === 0) ? len - 1 : i - 1;
        }
        else {
            nextIndex = (i === len - 1) ? 0 : i + 1;
        }
        this.selectAnnotation(this.annObjList[nextIndex]);
    };
    ImageViewerComponent.prototype.onAnnotationCreated = function (annObj) {
        if (this.curSelectObj !== annObj) {
            alert("error in onAnnotationCreated");
            return;
        }
        if (annObj.isCreated()) {
            this.annObjList.push(this.curSelectObj);
        }
        this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].SelectAnn);
    };
    ImageViewerComponent.prototype.stepGuide = function () {
        this.annGuide.step();
    };
    ImageViewerComponent.prototype.getCurrentStepIndex = function () {
        return this.annGuide.getStepIndex();
    };
    ImageViewerComponent.prototype.cancelCreate = function (needRecreate) {
        this.deleteAnnotation(this.curSelectObj);
        this.curSelectObj = undefined;
        this.annGuide.stepTo(0);
        if (!needRecreate) {
            this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].SelectAnn);
        }
    };
    ImageViewerComponent.prototype.selectChildByStepIndex = function (stepIndex) {
        if (this.curSelectObj) {
            this.curSelectObj.selectChildByStepIndex(stepIndex);
        }
    };
    ImageViewerComponent.prototype.getCursor = function () {
        this.logService.debug("Get cursor return " + this.canvas.style.cursor);
        return this.canvas.style.cursor;
    };
    ImageViewerComponent.prototype.setCursor = function (cursor) {
        if (!cursor) {
            cursor = this.getCursorFromContext();
        }
        this.logService.debug("Set cursor to " + cursor);
        this.canvas.style.cursor = cursor;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'
    ImageViewerComponent.prototype.onKeyUp = function (event) {
        if (event.code === "Delete") {
            this.deleteSelectedAnnotation();
        }
        else if (event.code === "KeyA") {
            this.selectNextAnnotation(event.shiftKey);
        }
        else if (event.code === "KeyF") {
            if (this.curSelectObj) {
                this.curSelectObj.onSwitchFocus();
            }
        }
        else if (event.code === "ArrowUp" || event.code === "ArrowDown" || event.code === "ArrowLeft" || event.code === "ArrowRight") {
            if (this.curSelectObj) {
                this.curSelectObj.onKeyDown(event);
            }
        }
        else if (event.code === "ControlLeft" || event.code === "ControlRight") {
            this.ctrlKeyPressed = false;
        }
    };
    ImageViewerComponent.prototype.onKeyDown = function (event) {
        if (event.code === "ControlLeft" || event.code === "ControlRight") {
            this.ctrlKeyPressed = true;
        }
    };
    ImageViewerComponent.prototype.getId = function () {
        //TODO: make sure the viewid is unique, even two viewer opened the same image
        return "DivImageViewer" + this.imageData.getId();
    };
    ImageViewerComponent.prototype.getCanvasId = function () {
        //TODO: make sure the canvas is unique, even two viewer opened the same image
        return "viewerCanvas_" + this.imageData.getId();
    };
    ImageViewerComponent.prototype.checkLoadImage = function () {
        var _this = this;
        if (!this.isViewInited || (this.image && this.image.cornerStoneImage === undefined)) {
            this.logService.debug(this.logPrefix + 'view not inited or image not loaded, wait...');
            setTimeout(function () {
                _this.checkLoadImage();
            }, 100);
        }
        else {
            if (!this.image) {
                if (this.jcanvas) {
                    this.jcanvas.clear();
                }
                this.logService.debug(this.logPrefix + 'image is null, clear the canvas.');
            }
            else {
                this.initHelpElement();
                this.ctImage = this.image.cornerStoneImage;
                if (this.ctImage) {
                    this.canvas = this.canvasRef.nativeElement;
                    var canvasId = this.getCanvasId();
                    jCanvaScript.start(canvasId, true);
                    this.jcanvas = jCanvaScript.canvas(canvasId);
                    var parent_2 = this.canvas.parentElement.parentElement;
                    this.canvas.width = parent_2.clientWidth;
                    this.canvas.height = parent_2.clientHeight;
                    this.jcanvas.width(this.canvas.width);
                    this.jcanvas.height(this.canvas.height);
                    this.logService.debug(this.logPrefix + 'checkLoadImage() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
                    this.isImageLoaded = false;
                    cornerstone.displayImage(this.helpElement, this.ctImage);
                    this.logService.debug(this.logPrefix + 'image is loaded, displaying it...');
                }
                else {
                    this.logService.debug(this.logPrefix + 'local test data, no image to show.');
                }
            }
        }
    };
    ImageViewerComponent.prototype.initHelpElement = function () {
        var _this = this;
        this.ngZone.runOutsideAngular(function () {
            if (!_this.hasInitedHelpElement) {
                _this.helpElement = _this.helpElementRef.nativeElement;
                //TODO: the init canvas's height and width may too big, should scale to a smaller when first load
                $(_this.helpElement).width(_this.image.imageColumns).height(_this.image.imageRows);
                cornerstone.enable(_this.helpElement);
                var comp = _this;
                $(_this.helpElement).on("cornerstoneimagerendered", function (e, data) {
                    if (comp.isImageLoaded) { //rendering, or invert
                        comp.onImageRendered(e, data);
                    }
                    else { //first load
                        comp.isImageLoaded = true;
                        comp.onImageLoaded(e, data); //this will set w/l, which will call Rendered again
                    }
                });
                _this.hasInitedHelpElement = true;
            }
        });
    };
    ImageViewerComponent.prototype.onImageRendered = function (e, data) {
        this.logService.debug(this.logPrefix + 'onImageRendered() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
    };
    ImageViewerComponent.prototype.onImageLoaded = function (e, data) {
        this.logService.debug(this.logPrefix + 'onImageLoaded() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        var ctCanvas = cornerstone.getEnabledElement(this.helpElement).canvas;
        this.jcImage = jCanvaScript.image(ctCanvas).layer(this.imgLayerId);
        this.setContext(this.viewContext.curContext);
        //fit window
        this.fitWindow();
        // Save the original window center/width for later reset.
        this.originalWindowCenter = this.ctImage.windowCenter;
        this.originalWindowWidth = this.ctImage.windowWidth;
        this.hideWaitingText();
        // No need to show text overlay here, since ngAfterViewChecked will call it.
        //this.showTextOverlay();
    };
    ImageViewerComponent.prototype.showWaitingText = function () {
        this.olLayer.visible(true);
        var font = this.configurationService.getOverlayFont();
        this.waitingLabel = jCanvaScript.text("Loading.....", this.canvas.width / 2, this.canvas.height / 2).layer(this.olLayerId)
            .color(font.color).font(font.getCanvasFontString()).align('center');
        //jc.arc(60, 100, 60, 90, 180, 1, 'rgb(25,99,253)', 0).draggable();
        //var imgData = jc.imageData(100, 100); //
        //for (var i = 0; i < 100; i++) {
        //    for (var j = 0; j < 100; j++) {
        //        imgData.setPixel(i, j, 'rgba(' + i + ',' + j + ',' + (i + j) + ',' + (i / 100) + ')');
        //        //i,j
        //    }
        //}
        //imgData.putData(0, 0).draggable(); //
    };
    ImageViewerComponent.prototype.hideWaitingText = function () {
        if (this.waitingLabel) {
            this.waitingLabel.del();
            this.waitingLabel = null;
        }
    };
    ImageViewerComponent.prototype.showTextOverlay = function () {
        var _this = this;
        this.olLayer.visible(true);
        var font = this.configurationService.getOverlayFont();
        var canvasContext = this.canvas.getContext("2d");
        canvasContext.font = font.getCanvasFontString();
        var overlayList = this.dicomImageService.getOverlayDisplayList(this.image, this.canvas.width, this.canvas.height, canvasContext);
        this.jcTextOverlayList.forEach(function (jcText) { return jcText.del(); });
        this.jcTextOverlayList.length = 0;
        overlayList.forEach(function (overlay) {
            var label = jCanvaScript.text(overlay.text, overlay.posX, overlay.posY).layer(_this.olLayerId)
                .color(font.color).font(font.getCanvasFontString()).align(overlay.align);
            if (overlay.id === "9003") {
                _this.wlLabel = label;
                _this.wlLabelFormat = overlay.text;
                _this.updateWlTextOverlay(_this.image.cornerStoneImage.windowWidth, _this.image.cornerStoneImage.windowCenter);
            }
            else if (overlay.id === "9004") {
                _this.zoomRatioLabel = label;
                _this.zoomRatioFormat = overlay.text;
                _this.updateZoomRatioTextOverlay(_this.getScale());
            }
            _this.jcTextOverlayList.push(label);
        });
        //this.configurationService.overlayList.forEach(overlay => {
        //    var overlayValue = this.dicomImageService.getTextOverlayValue(this.image, overlay);
        //    var displayText = overlay.prefix + overlayValue + overlay.suffix;
        //    jCanvaScript.text(displayText, 5, 15+line*20).id(idLbl).layer(this.olLayerId).color("#ffffff").font(font).align("left");
        //    line++;
        //});
        //jCanvaScript.text("Test", 5, 15).id(idLbl).layer(this.olLayerId).color("#ffffff").font(font).align("left");
        //this.label = jCanvaScript(`#${idLbl}`);
        //this.label._x = 5;
        //this.label._y = 34;
        //this.label.align('left');
        //this.label.string('aaaaa');
    };
    ImageViewerComponent.prototype.createLayers = function (canvasId) {
        //create layers
        var self = this;
        this.imgLayerId = canvasId + "_imgLayer";
        this.imgLayer = jCanvaScript.layer(this.imgLayerId).level(0); //layer to hold the image
        this.imgLayer.id = this.imgLayerId;
        self.annLayerId = canvasId + "_annLayer";
        self.annLayer = jc.layer(self.annLayerId).level(1); //layer to draw annotations
        self.annLayer.onBeforeDraw = function () { self.onBeforeDrawAnnLayer.call(self); };
        self.annLayer.id = self.annLayerId;
        self.annLabelLayerId = canvasId + "_annLabelLayer";
        self.annLabelLayer = jc.layer(self.annLabelLayerId).level(2); //layer to draw annotations label.
        self.annLabelLayer.id = self.annLabelLayerId;
        self.mgLayerId = canvasId + "_mgLayer";
        self.mgLayer = jc.layer(self.mgLayerId).level(4); //layer to show magnified image
        self.mgLayer.visible(false);
        self.mgLayer.id = self.mgLayerId;
        self.olLayerId = canvasId + "_overlayLayer";
        self.olLayer = jCanvaScript.layer(self.olLayerId).level(10); //layer to show overlay
        self.olLayer.id = self.olLayerId;
        self.imgRulerLayerId = canvasId + "_imgRulerLayer"; // layer to show ruler
        self.imgRulerLayer = jc.layer(self.imgRulerLayerId).level(9);
        self.imgRulerLayer.id = self.imgRulerLayerId;
        self.tooltipLayerId = canvasId + "_tooltipLayer"; // layer to show tooltip dialog
        self.tooltipLayer = jc.layer(self.tooltipLayerId).draggable(true).level(20);
        self.tooltipLayer.id = self.tooltipLayerId;
    };
    ImageViewerComponent.prototype.onBeforeDrawAnnLayer = function () {
        if (!this.isImageLoaded)
            return;
        //apply transform
        this.annLayer.transform(1, 0, 0, 1, 0, 0, true);
        this.annLayer.optns.scaleMatrix = this.imgLayer.optns.scaleMatrix;
        this.annLayer.optns.rotateMatrix = this.imgLayer.optns.rotateMatrix;
        this.annLayer.optns.translateMatrix = this.imgLayer.optns.translateMatrix;
        this.annLayer.scale(1);
        this.annLabelLayer.transform(1, 0, 0, 1, 0, 0, true);
        this.annLabelLayer.optns.scaleMatrix = this.imgLayer.optns.scaleMatrix;
        this.annLabelLayer.optns.translateMatrix = this.imgLayer.optns.translateMatrix;
        this.annLabelLayer.scale(1);
    };
    ImageViewerComponent.prototype.onSelected = function () {
        this.imageSelectorService.selectImage(this.imageData);
    };
    ImageViewerComponent.prototype.getBorderStyle = function () {
        return this.selected ? "1px solid #F90" : "1px solid #555555";
    };
    ImageViewerComponent.prototype.doSelectImage = function (viewerImageData) {
        this.selected = (this._imageData === viewerImageData);
    };
    ImageViewerComponent.prototype.doSelectImageByThumbnail = function (image) {
        this.selected = (this.image === image);
    };
    ImageViewerComponent.prototype.setHeight = function (height) {
        var o = document.getElementById(this.getId());
        if (o !== undefined && o !== null) {
            o.style.height = height.toString() + "px";
        }
    };
    //private doSelectById(id: string, selected: boolean): void {
    //    const o = document.getElementById(id);
    //    if (o !== undefined && o !== null) {
    //        o.style.border = selected ? '1px solid green' : '1px solid #555555';
    //    }
    //}
    //private doSelectByImageViewerId(imageViewerId: string): void {
    //    var selectedDivId = "DivImageViewer" + imageViewerId;
    //    var divId = 'DivImageViewer' + this.imageData.getId();
    //    this.selected = selectedDivId === divId;
    //    this.doSelectById(divId, this.selected);
    //}
    ImageViewerComponent.prototype.setContext = function (context) {
        //const draggable = (context.action == ViewContextEnum.Pan) ||
        //    (context.action == ViewContextEnum.Select && this.curSelectObj == undefined);
        var draggable = context.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Pan;
        this.draggable(draggable);
        //each time context changed, we should unselect cur selected object
        this.selectAnnotation(undefined);
        this.annGuide.hide();
        //if (previousCtx == contextEnum.create && ctx != contextEnum.create && this.tooltips) {
        //    //hide all tooltips
        //    var theObj = this.tooltips;
        //    var propertys = Object.getOwnPropertyNames(theObj);
        //    propertys.forEach(function (prop) {
        //        var obj = theObj[prop];
        //        if (obj instanceof annTooltip) {
        //            log('hide tooltip');
        //            obj.show(false);
        //        }
        //    });
        //}
        this.setCursorFromContext();
    };
    ImageViewerComponent.prototype.onOperation = function (operation) {
        if (!this.isImageLoaded)
            return;
        if (!this.selected)
            return;
        switch (operation.type) {
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].Rotate:
                {
                    this.rotate(operation.data.angle);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].Flip:
                {
                    this.flip(operation.data);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].Invert:
                {
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitWidth:
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitHeight:
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitOriginal:
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitWindow:
                {
                    this.doFit(operation.type);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].Reset:
                {
                    this.doReset();
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].ShowOverlay:
                {
                    this.olLayer.visible(operation.data.show);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].ShowRuler:
                {
                    this.imgRulerLayer.visible(operation.data.show);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].Reset:
                {
                    this.doReset();
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].ShowOverlay:
                {
                    this.olLayer.visible(operation.data.show);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].ShowAnnotation:
                {
                    this.annLayer.visible(operation.data.show);
                    break;
                }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].ManualWL:
                {
                    this.doManualWl();
                    break;
                }
        }
    };
    ImageViewerComponent.prototype.getCursorFromContext = function () {
        var curContext = this.viewContext.curContext;
        var cursorUrl = "url(" + this.baseUrl + "/assets/img/cursor/{0}.cur),move";
        var cursor = "default";
        if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].WL) {
            cursor = cursorUrl.format("adjustwl");
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Pan) {
            cursor = cursorUrl.format("hand");
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Select) {
            cursor = "default";
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Zoom) {
            cursor = cursorUrl.format("zoom");
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Magnifier) {
            cursor = cursorUrl.format("zoom");
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].ROIZoom) {
            cursor = cursorUrl.format("rectzoom");
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].SelectAnn) {
            cursor = cursorUrl.format("select");
        }
        else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
            cursor = cursorUrl.format(curContext.data.cursorName);
        }
        return cursor;
    };
    ImageViewerComponent.prototype.setCursorFromContext = function () {
        var cursor = this.getCursorFromContext();
        this.setCursor(cursor);
        var curContext = this.viewContext.curContext;
        if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
            if (curContext.data.needGuide) {
                this.annGuide.show(curContext.data.className);
            }
            else if (curContext.data.cursorName === "ann_stamp") {
                this.selectMarker();
            }
        }
    };
    ImageViewerComponent.prototype.rotate = function (angle) {
        if (angle == 0) //rotate 0 will cause the transform messed
            return;
        this.imgLayer.rotate(angle, "center");
        this.updateImageTransform();
        this.annObjList.forEach(function (obj) { return obj.onRotate(angle); });
    };
    ImageViewerComponent.prototype.flip = function (flipVertical) {
        var viewPort = cornerstone.getViewport(this.helpElement);
        var rotateAngle = this.getRotate();
        if (Math.abs(rotateAngle % 180) === 90) {
            flipVertical = !flipVertical;
        }
        if (flipVertical) {
            viewPort.vflip = !viewPort.vflip;
        }
        else {
            viewPort.hflip = !viewPort.hflip;
        }
        cornerstone.setViewport(this.helpElement, viewPort);
        this.annObjList.forEach(function (annObj) { return annObj.onFlip(flipVertical); });
    };
    ImageViewerComponent.prototype.scale = function (value) {
        if (value > 0) {
            this.imgLayer.scale(value);
            this.updateImageTransform();
            //var totalScale = this.getScale();
            ////adjust objects' size
            //this.annObjList.forEach(function (obj) {
            //    if (obj.onScale) {
            //        obj.onScale(totalScale);
            //    }
            //});
            //this.updateTag(dicomTag.customScale, totalScale.toPrecision(2));
            //if (value !== 1) {
            //    this.refreshRuler();
            //}
        }
    };
    ImageViewerComponent.prototype.translate = function (x, y) {
        this.imgLayer.translate(x, y);
        this.updateImageTransform();
        //this.annObjList.forEach(function (obj) {
        //    if (obj.onTranslate) {
        //        obj.onTranslate();
        //    }
        //});
    };
    ImageViewerComponent.prototype.getScale = function () {
        if (this.image)
            return this.image.getScaleValue();
        return 1;
    };
    ImageViewerComponent.prototype.getRotate = function () {
        if (this.image)
            return this.image.getRotateAngle();
        return 0;
    };
    ImageViewerComponent.prototype.updateImageTransform = function () {
        if (this.image) {
            this.image.transformMatrix = this.imgLayer.transform();
        }
    };
    ImageViewerComponent.prototype.onResize = function () {
        var _this = this;
        this.logService.debug("Image: onResize()");
        setTimeout(function () {
            _this.needResize = true;
        }, 1);
    };
    ImageViewerComponent.prototype.fitWindow = function () {
        if (!this.isImageLoaded)
            return;
        var curRotate = 0 - this.getRotate(); //get rotate return the minus value
        var width = this.image.width();
        var height = this.image.height();
        var canvasWidth = this.canvas.width;
        var canvasHeight = this.canvas.height;
        var widthScale = canvasWidth / width;
        var heightScale = canvasHeight / height;
        this.logService.debug(this.logPrefix + 'fitWindow() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        //log('bestfit, canvas width:' + canvasWidth + ",height:" + canvasHeight);
        //this.trueSize();//each time bestfit, need to reset the transform, then apply the scale value.
        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);
        if (widthScale < heightScale) {
            this.scale(widthScale);
            this.translate(0, (canvasHeight - height * widthScale) / 2);
        }
        else {
            this.scale(heightScale);
            this.translate((canvasWidth - width * heightScale) / 2, 0);
        }
        this.rotate(curRotate);
        this.refreshUi();
    };
    ImageViewerComponent.prototype.doReset = function () {
        if (!this.isImageLoaded)
            return;
        var width = this.image.width();
        var height = this.image.height();
        var canvasWidth = this.canvas.width;
        var canvasHeight = this.canvas.height;
        var widthScale = canvasWidth / width;
        var heightScale = canvasHeight / height;
        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);
        if (widthScale < heightScale) {
            this.scale(widthScale);
            this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);
        }
        else {
            this.scale(heightScale);
            this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);
        }
        // Reset W/L
        this.ctImage.windowWidth = this.originalWindowWidth;
        this.ctImage.windowCenter = this.originalWindowCenter;
        var viewPort = cornerstone.getViewport(this.helpElement);
        viewPort.voi.windowCenter = this.originalWindowCenter;
        viewPort.voi.windowWidth = this.originalWindowWidth;
        // Reset Flip status
        viewPort.vflip = false;
        viewPort.hflip = false;
        cornerstone.setViewport(this.helpElement, viewPort);
        this.updateWlTextOverlay(this.originalWindowWidth, this.originalWindowCenter);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.deleteAllAnnotation();
        this.curSelectObj = undefined;
        this.refreshUi();
    };
    ImageViewerComponent.prototype.doFit = function (fitType) {
        if (!this.isImageLoaded)
            return;
        var width = this.image.width();
        var height = this.image.height();
        var canvasWidth = this.canvas.width;
        var canvasHeight = this.canvas.height;
        var widthScale = canvasWidth / width;
        var heightScale = canvasHeight / height;
        this.logService.debug(this.logPrefix + 'doFit() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        var curRotate = 0 - this.getRotate(); //get rotate return the minus value
        // Sail : currently ignore the free rotate, since free rotate will change both width and height,
        // rotate 90 only switch width and height
        if (Math.abs(curRotate % 180) === 90) {
            widthScale = canvasWidth / height;
            heightScale = canvasHeight / width;
        }
        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);
        if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitWindow) {
            if (widthScale < heightScale) {
                this.scale(widthScale);
                this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);
            }
            else {
                this.scale(heightScale);
                this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);
            }
        }
        else if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitHeight) {
            this.scale(heightScale);
            this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);
        }
        else if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitWidth) {
            this.scale(widthScale);
            this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);
        }
        else if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["OperationEnum"].FitOriginal) {
            this.translate((canvasWidth - width) / 2, (canvasHeight - height) / 2);
        }
        this.rotate(curRotate);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.refreshUi();
    };
    ImageViewerComponent.prototype.showOverlay = function (visible) {
        if (!this.isImageLoaded) {
            return;
        }
        if (visible === undefined) {
            visible = false;
        }
        this.olLayer.visible(visible);
    };
    ImageViewerComponent.prototype.showAnnotation = function (visible) {
        if (!this.isImageLoaded) {
            return;
        }
        if (visible === undefined) {
            visible = false;
        }
        this.annLayer.visible(visible);
        this.annLabelLayer.visible(visible);
    };
    ImageViewerComponent.prototype.showRuler = function (visible) {
        if (!this.isImageLoaded) {
            return;
        }
        if (visible === undefined) {
            visible = false;
        }
        this.imgRulerLayer.visible(visible);
    };
    ImageViewerComponent.prototype.draggable = function (draggable) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        var canvas = this.canvas;
        var curContext = this.viewContext.curContext;
        this.imgLayer.draggable({
            disabled: !draggable,
            start: function (arg) {
                if (curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Select || curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
                    canvas.style.cursor = "move";
                }
            },
            stop: function (arg) {
                if (curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Select || curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
                    canvas.style.cursor = "auto";
                }
            },
            drag: function (arg) {
                self.annObjList.forEach(function (obj) {
                    //if (obj.onTranslate) {
                    //    obj.onTranslate.call(obj);
                    //}
                });
            }
        });
    };
    ImageViewerComponent.prototype.doWL = function (deltaX, deltaY) {
        if (!this.isImageLoaded)
            return;
        var self = this;
        var dcmImg = self.ctImage;
        if (deltaX != 0 || deltaY != 0) {
            var maxVOI = dcmImg.maxPixelValue * dcmImg.slope + dcmImg.intercept;
            var minVOI = dcmImg.minPixelValue * dcmImg.slope + dcmImg.intercept;
            var imageDynamicRange = maxVOI - minVOI;
            var multiplier = imageDynamicRange / 1024;
            var width = dcmImg.windowWidth + Math.round(deltaX * multiplier);
            var center = dcmImg.windowCenter + Math.round(deltaY * multiplier);
            this.doWlByValue(center, width);
            //dcmImg.render(width, center, function () {
            //    //update window level values
            //    self.updateTag(dicomTag.windowWidth, dcmImg.windowWidth);
            //    self.updateTag(dicomTag.windowCenter, dcmImg.windowCenter);
            //});
        }
    };
    ImageViewerComponent.prototype.doZoom = function (delta) {
        if (!this.isImageLoaded)
            return;
        var scaleValue = 1;
        if (delta > 0) {
            scaleValue = 1.05;
        }
        else {
            scaleValue = 0.95;
        }
        var preWidth = this.imgLayer.getRect().width;
        this.scale(scaleValue);
        var afterWidth = this.imgLayer.getRect().width;
        delta = (afterWidth - preWidth) / 2;
        this.translate(-delta, -delta);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.refreshUi();
    };
    ImageViewerComponent.prototype.refreshUi = function () {
        var _this = this;
        this.annObjList.forEach(function (annObject) { return annObject.onScale(_this.getScale()); });
        this.annImageRuler.reDraw(this);
    };
    ImageViewerComponent.prototype.registerImgLayerEvents = function () {
        var self = this;
        //register imglayer events, note the arg.x/y is screen (canvas) coordinates
        self.imgLayer.mousedown(function (arg) {
            self.onMouseDown(arg);
            return false;
        });
        self.imgLayer.mousemove(function (arg) {
            self.onMouseMove(arg);
        });
        self.imgLayer.mouseup(function (arg) {
            self.onMouseUp(arg);
        });
        self.imgLayer.mouseout(function (arg) {
            self.onMouseOut(arg);
        });
        self.imgLayer.click(function (arg) {
            //self.onClick(arg);
        });
        self.imgLayer.dblclick(function (arg) {
            //log('imglayer dblclick ' + self.canvas.id);
        });
    };
    ImageViewerComponent.prototype.onMouseDown = function (evt) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        var viewContext = self.viewContext;
        //log('viwer mouse down: ' + this.canvasId);
        //if in select context, and not click any object, will unselect all objects.
        if (viewContext.curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Select) {
            if (!evt.event.cancelBubble) {
                //if (self.curSelectObj && self.curSelectObj.select) {
                //    self.curSelectObj.onSelect(false);
                //    self.curSelectObj = undefined;
                //}
                self.selectAnnotation(null);
                self.draggable(true);
            }
            else { //an annobject has been selected
                self.draggable(false);
            }
        }
        else if (viewContext.curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
            var parm = viewContext.curContext.data;
            if (parm && parm.type && !parm.objCreated) {
                var newObj = new parm.type();
                //               self.createAnnObject(newObj, parm);
                parm.objCreated = true; //stop create the annObject again
            }
        }
        self.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseDown, "onMouseDown");
    };
    ImageViewerComponent.prototype.onMouseMove = function (evt) {
        this.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseMove, "onMouseMove");
    };
    ImageViewerComponent.prototype.onMouseOut = function (evt) {
        //log('viwer mouse out: ' + this.canvasId);
        this.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseOut, "onMouseOut");
    };
    ImageViewerComponent.prototype.onMouseUp = function (evt) {
        //log('viwer mouse up: ' +this.canvasId);
        this.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseUp, "onMouseUp");
    };
    //image layer events
    ImageViewerComponent.prototype.registerEvent = function (obj, type) {
        if (!this.eventHandlers[type]) {
            this.eventHandlers[type] = [];
        }
        var handlers = this.eventHandlers[type];
        var len = handlers.length;
        var i;
        for (i = 0; i < len; i++) {
            if (handlers[i] === obj) {
                return; //exists already
            }
        }
        handlers.push(obj);
    };
    ImageViewerComponent.prototype.unRegisterEvent = function (obj, type) {
        if (!this.eventHandlers[type]) {
            return;
        }
        var handlers = this.eventHandlers[type];
        var len = handlers.length;
        var i;
        var found = false;
        for (i = 0; i < len; i++) {
            if (handlers[i] === obj) {
                found = true;
                break;
            }
        }
        if (found) {
            handlers.splice(i, 1);
        }
    };
    ImageViewerComponent.prototype.emitEvent = function (arg, type, handler) {
        if (!this.isImageLoaded) {
            return;
        }
        var handlers = this.eventHandlers[type];
        if (!handlers || handlers.length == 0) {
            return;
        }
        //covert screen point to image point
        if (arg.x) {
            arg = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_14__["AnnTool"].screenToImage(arg, this.imgLayer.transform());
        }
        handlers.forEach(function (obj) {
            if (obj[handler]) {
                obj[handler](arg);
            }
        });
    };
    ImageViewerComponent.prototype.registerCanvasEvents = function () {
        var self = this;
        self.canvas.addEventListener("contextmenu", function (evt) {
            self.onCanvasContextMenu(evt);
        });
        //$(self.canvas).on("DOMMouseScroll mousewheel", function (evt) {
        //    self.onCanvasMouseWheel(evt);
        //});
        $(self.canvas).on("dblclick", function (evt) {
            self.onCanvasDblClick(evt);
        });
        //TODO: keyup not work any more
        var parent = self.canvas.parentElement;
        $(parent).on("keyup", function (key) {
            self.onCanvasKeyUp(key);
        });
        $(self.canvas).on("mousemove", function (evt) {
            self.onCanvasMouseMove(evt);
        });
        $(self.canvas).on("mousedown", function (evt) {
            self.onCanvasMouseDown(evt);
        });
        $(self.canvas).on("mouseup", function (evt) {
            self.onCanvasMouseUp(evt);
        });
        $(self.canvas).on("mouseover", function (evt) {
            self.onCanvasMouseOver(evt);
        });
        $(self.canvas).on("mouseout", function (evt) {
            self.onCanvasMouseOut(evt);
        });
    };
    ImageViewerComponent.prototype.onCanvasKeyUp = function (key) {
        if (!this.isImageLoaded) {
            return;
        }
        //console.log(key.keyCode);
        //if (key.keyCode == 46) {//user press Delete
        //    this.deleteCurObject();
        //    if (viewContext.curContext == contextEnum.create) {//delete under creating object
        //        viewContext.setContext(contextEnum.select);
        //    }
        //} else if (key.keyCode == 82) { //r
        //    this.rotate(30);
        //} else if (key.keyCode == 90) {//z
        //    this.scale(1.1);
        //}
    };
    ImageViewerComponent.prototype.onCanvasDblClick = function (evt) {
        //the imagelayer's double click events fires mousedown=>mouseup=>mousedown, which missed the last mosueup event, so we manually fire the mouseup here
        if (!this.isImageLoaded) {
            return;
        }
        var point = { x: evt.offsetX, y: evt.offsetY };
        if (this.annGuide.hitTest(point)) {
            return;
        }
        this.mouseEventHelper._mouseWhich = evt.which; //_mouseWhich has value means current is mouse down
        this.mouseEventHelper._mouseDownPosCvs = point;
        if (this.mouseEventHelper._mouseWhich === 1) {
            if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
                if (this.curSelectObj && !this.curSelectObj.isCreated()) {
                    this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].DblClick, point, null);
                }
            }
        }
        this.canvas.onmouseup(evt); //cause jc to trigger mouseup event, which will stop the drag (imglayer)
        //log('canvas dblclick: ' + this.canvas.id);
    };
    ImageViewerComponent.prototype.onCanvasContextMenu = function (evt) {
        if (!this.isViewInited) {
            return;
        }
        //todo: add context menus
        evt.stopImmediatePropagation();
        evt.stopPropagation();
        evt.preventDefault();
    };
    ImageViewerComponent.prototype.onCanvasMouseDown = function (evt) {
        if (!this.isImageLoaded) {
            return;
        }
        var point = { x: evt.offsetX, y: evt.offsetY };
        if (this.annGuide.hitTest(point)) {
            return;
        }
        this.mouseEventHelper._mouseWhich = evt.which; //_mouseWhich has value means current is mouse down
        this.mouseEventHelper._mouseDownPosCvs = point;
        if (this.mouseEventHelper._mouseWhich === 3) { //right mouse
            if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
                // Right click to cancel the creation of an annotation.
                this.cancelCreate(true);
            }
            else {
                this.mouseEventHelper._lastContext = this.viewContext.curContext;
                this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].WL);
            }
        }
        else if (this.mouseEventHelper._mouseWhich === 1) {
            if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Magnifier) {
                //this._startMagnifier(evt);
            }
            else if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
                if (this.curSelectObj) {
                    // There is annotation selected
                    if (!this.curSelectObj.isCreated()) {
                        // The selected annotation is creating
                        this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseDown, point, null);
                    }
                    else {
                        // The selected annotation is created
                        this.selectAnnotation(null);
                        // Start to create a new annotation and assign it as selected.
                        this.startCreateAnnAtPoint(point);
                    }
                }
                else {
                    // There is no annotation selected
                    this.startCreateAnnAtPoint(point);
                }
            }
            else if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].SelectAnn) {
            }
        }
    };
    ImageViewerComponent.prototype.onCanvasMouseMove = function (evt) {
        var self = this;
        if (!this.isImageLoaded) {
            return;
        }
        //console.log(evt.offsetX + "," + evt.offsetY);
        var curContext = this.viewContext.curContext;
        if (!self.mouseEventHelper._lastPosCvs) {
            self.mouseEventHelper._lastPosCvs = { x: evt.offsetX, y: evt.offsetY };
        }
        var deltaX = evt.offsetX - self.mouseEventHelper._lastPosCvs.x;
        var deltaY = evt.offsetY - self.mouseEventHelper._lastPosCvs.y;
        if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) {
            if (this.curSelectObj && !this.curSelectObj.isCreated()) {
                var point = { x: evt.offsetX, y: evt.offsetY };
                this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseMove, point, null);
            }
        }
        else {
            if (self.mouseEventHelper._mouseWhich === 3) {
                if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].WL) {
                    self.doWL(deltaX, deltaY);
                }
            }
            else if (self.mouseEventHelper._mouseWhich === 1) {
                if (curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Magnifier) {
                    //if (self._magnifying) {
                    //    self._loadMagnifierData(evt);
                    //}
                }
                else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].WL) {
                    self.doWL(deltaX, deltaY);
                }
                else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Zoom) {
                    var delta = Math.abs(deltaX) > Math.abs(deltaY) ? deltaX : deltaY;
                    if (Math.abs(delta) > 0) {
                        self.doZoom(delta);
                    }
                }
                else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].ROIZoom) {
                    var curPosCvs = {
                        x: evt.offsetX,
                        y: evt.offsetY
                    };
                    //self.drawROIZoom(self.mouseEventHelper._mouseDownPosCvs, curPosCvs);
                }
            }
        }
        self.mouseEventHelper._lastPosCvs = { x: evt.offsetX, y: evt.offsetY };
    };
    ImageViewerComponent.prototype.onCanvasMouseUp = function (evt) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        var curContext = this.viewContext.curContext;
        if (self.mouseEventHelper._mouseWhich == 3) {
            if (curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].WL) {
                if (self.mouseEventHelper._lastContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].CreateAnn) { //cancel create
                    this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextEnum"].Select);
                }
                else {
                    this.viewContext.setContext(self.mouseEventHelper._lastContext.action, self.mouseEventHelper._lastContext.data);
                }
            }
        }
        else if (self.mouseEventHelper._mouseWhich === 1) {
            //if (curContext.action == contextEnum.magnifier && self._magnifying) {
            //    self._endMagnifier();
            //} else if (curContext.action == contextEnum.roizoom) {
            //    var endPosCvs = {
            //        x: evt.offsetX,
            //        y: evt.offsetY
            //    }
            //    self._applyROIZoom(self._mouseDownPosCvs, endPosCvs);
            //}
        }
        self.mouseEventHelper._mouseWhich = 0;
    };
    ImageViewerComponent.prototype.onCanvasMouseOut = function (evt) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        self.canvas.onmouseup(evt); //cause jc to trigger mouseup event, which will stop the drag (imglayer)
        if (self.mouseEventHelper._mouseWhich != 0) {
            self.onCanvasMouseUp(evt); //call mouseup to end the action
        }
        ////log('mouse out ' + self.id);
        //if (viewContext.curContext == contextEnum.create) {
        //    var parm = viewContext.curContextParam;
        //    if (parm && parm.type && parm.tooltip && !parm.objCreated) {
        //        var tooltip = self.getTooltip(parm.type);
        //        tooltip.show(false);
        //    }
        //}
    };
    ImageViewerComponent.prototype.onCanvasMouseOver = function (evt) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        //log('mouse over ' + self.id + ', contex:' + viewContext.curContext);
        //if (viewContext.curContext == contextEnum.create) {
        //    var parm = viewContext.curContextParam;
        //    if (parm && parm.type && !parm.objCreated && parm.tooltip) {//show tooltip before the object is created
        //        log('mouse over: show tooltip');
        //        var tooltip = self.getTooltip(parm.type);
        //        tooltip.setParentCreated(false);
        //        tooltip.setStep(stepEnum.step1);
        //        tooltip.show(true);
        //    }
        //}
    };
    //private createAnnObject(annObj: AnnObject, param: any) {
    //    if (!this.isImageLoaded)
    //        return;
    //    var self = this;
    //    if (annObj.hasToolTip()) {
    //        //show tooltip
    //    }
    //    self.showAnnotation(true); //in case user closed the annotation
    //    if (self.curSelectObj) {
    //        self.selectObject(undefined);
    //    }
    //    self.curSelectObj = annObj;
    //    annObj.startCreate(self,
    //        function() {
    //            const newObj = this;
    //            if (newObj && newObj.isCreated) {
    //                //finish create
    //                if (self.annObjList.indexOf(newObj) < 0) {
    //                    self.annObjList.push(newObj);
    //                }
    //                self.viewContext.setContext(ViewContextEnum.Select);
    //                self.selectObject(newObj);
    //            }
    //        },
    //        param);
    //    return annObj;
    //}
    ImageViewerComponent.prototype.deleteAllAnnotation = function () {
        this.annObjList.forEach(function (annObj) { return annObj.onDeleteChildren(); });
        this.annObjList.length = 0;
    };
    ImageViewerComponent.prototype.deleteAnnotation = function (annObj) {
        if (!annObj)
            return;
        if (annObj.isCreated()) {
            // If this annotation is already created, need to remove it from the list
            var len = this.annObjList.length;
            var i = 0;
            for (; i < len; i++) {
                if (this.annObjList[i] === annObj) {
                    break;
                }
            }
            if (i !== len) {
                this.annObjList.splice(i, 1);
            }
        }
        annObj.onDeleteChildren();
    };
    ImageViewerComponent.prototype.doManualWl = function () {
        var _this = this;
        var windowLevelData = new _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_10__["WindowLevelData"]();
        windowLevelData.windowCenter = this.ctImage.windowCenter;
        windowLevelData.windowWidth = this.ctImage.windowWidth;
        this.dialogService.showDialog(_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_11__["ManualWlDialogComponent"], windowLevelData).subscribe(function (val) {
            _this.doWlByValue(val.windowCenter, val.windowWidth);
        });
    };
    ImageViewerComponent.prototype.doWlByValue = function (center, width) {
        var viewPort = cornerstone.getViewport(this.helpElement);
        viewPort.voi.windowCenter = center;
        viewPort.voi.windowWidth = width;
        cornerstone.setViewport(this.helpElement, viewPort);
        this.ctImage.windowWidth = width;
        this.ctImage.windowCenter = center;
        this.updateWlTextOverlay(width, center);
    };
    ImageViewerComponent.prototype.updateWlTextOverlay = function (width, center) {
        this.wlLabel.string(this.wlLabelFormat.format(width, center));
    };
    ImageViewerComponent.prototype.updateZoomRatioTextOverlay = function (roomRatio) {
        this.zoomRatioLabel.string(this.zoomRatioFormat.format(roomRatio.toFixed(2)));
    };
    ImageViewerComponent.prototype.startCreateAnnAtPoint = function (point) {
        this.updateImageTransform();
        var annType = this.viewContext.curContext.data.classType;
        this.curSelectObj = new annType(undefined, this);
        if (this.viewContext.curContext.data.needGuide) {
            this.curSelectObj.setGuideNeeded(true);
            this.annGuide.setGuideTargetObj(this.curSelectObj);
        }
        this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_13__["MouseEventType"].MouseDown, point, null);
    };
    ImageViewerComponent.prototype.deleteSelectedAnnotation = function () {
        this.deleteAnnotation(this.curSelectObj);
        this.curSelectObj = undefined;
        this.annGuide.hide();
    };
    ImageViewerComponent.prototype.selectMarker = function () {
        var _this = this;
        this.dialogService.showDialog(_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_12__["SelectMarkerDialogComponent"], undefined).subscribe(function (val) {
            if (val) {
                var imageData_1 = new Image();
                imageData_1.onload = function (ev) {
                    _this.updateImageTransform();
                    var annImage = new _annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_17__["AnnImage"](undefined, _this);
                    annImage.onCreate(imageData_1, new _models_annotation__WEBPACK_IMPORTED_MODULE_13__["Point"](0, 0));
                    _this.curSelectObj = annImage;
                };
                imageData_1.src = val;
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("viewerCanvas"),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ImageViewerComponent.prototype, "canvasRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("helpElement"),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ImageViewerComponent.prototype, "helpElementRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_5__["ViewerImageData"]),
        __metadata("design:paramtypes", [_models_viewer_image_data__WEBPACK_IMPORTED_MODULE_5__["ViewerImageData"]])
    ], ImageViewerComponent.prototype, "imageData", null);
    ImageViewerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-image-viewer",
            template: __webpack_require__(/*! ./image-viewer.component.html */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html"),
            providers: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"], { provide: _angular_common__WEBPACK_IMPORTED_MODULE_1__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_1__["PathLocationStrategy"] }],
            styles: [__webpack_require__(/*! ./image-viewer.component.css */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_2__["ImageSelectorService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_3__["DicomImageService"],
            _services_configuration_service__WEBPACK_IMPORTED_MODULE_7__["ConfigurationService"],
            _services_view_context_service__WEBPACK_IMPORTED_MODULE_4__["ViewContextService"],
            _services_worklist_service__WEBPACK_IMPORTED_MODULE_6__["WorklistService"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_8__["DialogService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_9__["LogService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], ImageViewerComponent);
    return ImageViewerComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/navigation.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/navigation.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#main-nav { margin-left: 1px; }\r\n\r\n.hangingProtocol-div {\r\n    background-color: #333;\r\n    border-radius: 2px;\r\n    height: 44px;\r\n    margin-bottom: 3px;\r\n    padding: 2px;\r\n}\r\n\r\n/*.open>.hangingProtocol-menu {\r\n    display: block;\r\n}*/\r\n\r\nli.dropdown.open {\r\n    margin: -20px 0 0;\r\n    width: 44px;\r\n}\r\n\r\nli.dropdown {\r\n    margin: -20px 0 0;\r\n    width: 44px;\r\n}\r\n\r\n.hangingProtocol-menu {\r\n    background-color: #333;\r\n    margin: -24px 0 0;\r\n    min-width: 40px;\r\n    padding-bottom: 0;\r\n}\r\n\r\n.hangingProtocol-menu-button {\r\n    background-color: #333;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.patient-div {\r\n    background-color: #333;\r\n    border-radius: 2px;\r\n    margin-bottom: 3px;\r\n    padding: 2px;\r\n}\r\n\r\n.patient-header {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 48px;\r\n    padding: 4px;\r\n    width: 184px;\r\n}\r\n\r\n.patient-header:hover { color: #F90; }\r\n\r\n.patient-header:hover .patient-button { background: url('Patient_N2.gif') no-repeat left top; }\r\n\r\n.patient-header:hover .patient-button:active { background: url('Patient_N3.gif') no-repeat left top; }\r\n\r\n.patient-button {\r\n    background: url('Patient_N1.gif') no-repeat left top;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.patient-info {\r\n    height: 40px;\r\n    margin-left: 6px;\r\n    width: 100%;\r\n}\r\n\r\n.study-header {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 48px;\r\n    margin-left: 10px;\r\n    padding: 4px;\r\n    width: 174px;\r\n}\r\n\r\n.study-header:hover { color: #F90; }\r\n\r\n.study-header:hover .study-button { background: url('Study_N2.gif') no-repeat left top; }\r\n\r\n.study-header:hover .study-button:active { background: url('Study_N3.gif') no-repeat left top; }\r\n\r\n.study-button {\r\n    background: url('Study_N1.gif') no-repeat left top;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.study-info {\r\n    height: 40px;\r\n    margin-left: 6px;\r\n    overflow: hidden;\r\n    width: 100%;\r\n}\r\n\r\n.series-header {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 48px;\r\n    margin-left: 20px;\r\n    padding: 4px;\r\n    width: 164px;\r\n}\r\n\r\n.series-header:hover { color: #F90; }\r\n\r\n.series-header:hover .series-button { background: url('Series_N2.gif') no-repeat left top; }\r\n\r\n.series-header:hover .series-button:active { background: url('Series_N3.gif') no-repeat left top; }\r\n\r\n.series-button {\r\n    background: url('Series_N1.gif') no-repeat left top;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.series-info {\r\n    height: 40px;\r\n    margin-left: 6px;\r\n    width: 100%;\r\n}\r\n\r\n.image-list {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    margin-left: 30px;\r\n    padding: 4px;\r\n    width: 154px;\r\n}\r\n\r\n.image-button {\r\n    background-color: #555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 80px;\r\n    margin-left: 30px;\r\n    padding: 4px;\r\n    width: 154px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxnQkFBZ0IsRUFBRTs7QUFFOUI7SUFDSSxzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjs7QUFFQTs7RUFFRTs7QUFFRjtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7SUFDWixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSx3QkFBd0IsV0FBVyxFQUFFOztBQUVyQyx3Q0FBd0Msb0RBQXFGLEVBQUU7O0FBRS9ILCtDQUErQyxvREFBcUYsRUFBRTs7QUFFdEk7SUFDSSxvREFBcUY7SUFDckYsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2IsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFlBQVk7QUFDaEI7O0FBRUEsc0JBQXNCLFdBQVcsRUFBRTs7QUFFbkMsb0NBQW9DLGtEQUFtRixFQUFFOztBQUV6SCwyQ0FBMkMsa0RBQW1GLEVBQUU7O0FBRWhJO0lBQ0ksa0RBQW1GO0lBQ25GLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixhQUFhO0lBQ2IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSx1QkFBdUIsV0FBVyxFQUFFOztBQUVwQyxzQ0FBc0MsbURBQW9GLEVBQUU7O0FBRTVILDZDQUE2QyxtREFBb0YsRUFBRTs7QUFFbkk7SUFDSSxtREFBb0Y7SUFDcEYsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2IsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFpbi1uYXYgeyBtYXJnaW4tbGVmdDogMXB4OyB9XHJcblxyXG4uaGFuZ2luZ1Byb3RvY29sLWRpdiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgaGVpZ2h0OiA0NHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogM3B4O1xyXG4gICAgcGFkZGluZzogMnB4O1xyXG59XHJcblxyXG4vKi5vcGVuPi5oYW5naW5nUHJvdG9jb2wtbWVudSB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufSovXHJcblxyXG5saS5kcm9wZG93bi5vcGVuIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuXHJcbmxpLmRyb3Bkb3duIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuXHJcbi5oYW5naW5nUHJvdG9jb2wtbWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgbWFyZ2luOiAtMjRweCAwIDA7XHJcbiAgICBtaW4td2lkdGg6IDQwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMDtcclxufVxyXG5cclxuLmhhbmdpbmdQcm90b2NvbC1tZW51LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ucGF0aWVudC1kaXYge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDNweDtcclxuICAgIHBhZGRpbmc6IDJweDtcclxufVxyXG5cclxuLnBhdGllbnQtaGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogNDhweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxODRweDtcclxufVxyXG5cclxuLnBhdGllbnQtaGVhZGVyOmhvdmVyIHsgY29sb3I6ICNGOTA7IH1cclxuXHJcbi5wYXRpZW50LWhlYWRlcjpob3ZlciAucGF0aWVudC1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9QYXRpZW50X04yLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucGF0aWVudC1oZWFkZXI6aG92ZXIgLnBhdGllbnQtYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1BhdGllbnRfTjMuZ2lmKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5wYXRpZW50LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9QYXRpZW50X04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ucGF0aWVudC1pbmZvIHtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnN0dWR5LWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxNzRweDtcclxufVxyXG5cclxuLnN0dWR5LWhlYWRlcjpob3ZlciB7IGNvbG9yOiAjRjkwOyB9XHJcblxyXG4uc3R1ZHktaGVhZGVyOmhvdmVyIC5zdHVkeS1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9TdHVkeV9OMi5naWYpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnN0dWR5LWhlYWRlcjpob3ZlciAuc3R1ZHktYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1N0dWR5X04zLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uc3R1ZHktYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1N0dWR5X04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4uc3R1ZHktaW5mbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uc2VyaWVzLWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxNjRweDtcclxufVxyXG5cclxuLnNlcmllcy1oZWFkZXI6aG92ZXIgeyBjb2xvcjogI0Y5MDsgfVxyXG5cclxuLnNlcmllcy1oZWFkZXI6aG92ZXIgLnNlcmllcy1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9TZXJpZXNfTjIuZ2lmKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5zZXJpZXMtaGVhZGVyOmhvdmVyIC5zZXJpZXMtYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1Nlcmllc19OMy5naWYpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnNlcmllcy1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvRGljb21WaWV3ZXIvU2VyaWVzX04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4uc2VyaWVzLWluZm8ge1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uaW1hZ2UtbGlzdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgd2lkdGg6IDE1NHB4O1xyXG59XHJcblxyXG4uaW1hZ2UtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgd2lkdGg6IDE1NHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/navigation.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/navigation.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n    <div class=\"row hangingProtocol-div\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <li class=\"dropdown\">\r\n                        <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(selectedGroupHangingData.name)\" role=\"button\" [title]=\"selectedGroupHangingData.tip\" style=\"margin-top: -20px;\"\r\n                                    (mouseover)=\"onMouseOver($event, true)\" (mouseout)=\"onMouseOut($event)\">\r\n                            </button>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu hangingProtocol-menu\">\r\n                            <li *ngFor=\"let groupHangingData of hangingProtocolService.getGroupHangingDataList()\">\r\n                                <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(groupHangingData.name)\" role=\"button\" [title]=\"groupHangingData.tip\"\r\n                                        (click)=\"onSelectGroupHangingProtocol(groupHangingData)\" (mouseover)=\"onMouseOver($event, false)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </td>\r\n                <td>\r\n                    <li class=\"dropdown\">\r\n                        <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(selectedGroupLayoutData.name)\" role=\"button\" [title]=\"selectedGroupLayoutData.tip\" style=\"margin-top: -20px;\"\r\n                                    (mouseover)=\"onMouseOver($event, true)\" (mouseout)=\"onMouseOut($event)\">\r\n                            </button>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu hangingProtocol-menu\">\r\n                            <li *ngFor=\"let groupLayoutData of hangingProtocolService.getGroupLayoutDataList()\">\r\n                                <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(groupLayoutData.name)\" role=\"button\" [title]=\"groupLayoutData.tip\"\r\n                                        (click)=\"onSelectGroupLayout(groupLayoutData)\" (mouseover)=\"onMouseOver($event, false)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </td>\r\n                <td>\r\n                    <li class=\"dropdown\">\r\n                        <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(selectedImageLayoutData.name)\" role=\"button\" [title]=\"selectedImageLayoutData.tip\" style=\"margin-top: -20px;\"\r\n                                    (mouseover)=\"onMouseOver($event, true)\" (mouseout)=\"onMouseOut($event)\">\r\n                            </button>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu hangingProtocol-menu\">\r\n                            <li *ngFor=\"let imageLayoutData of hangingProtocolService.getImageLayoutDataList()\">\r\n                                <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(imageLayoutData.name)\" role=\"button\" [title]=\"imageLayoutData.tip\"\r\n                                        (click)=\"onSelectImageLayout(imageLayoutData)\" (mouseover)=\"onMouseOver($event, false)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n    <div *ngFor=\"let patient of viewerShellData.patientList\" class=\"row patient-div\">\r\n        <div class=\"patient-header\">\r\n            <div>\r\n                <button class=\"patient-button\" (click)=\"onClickPssi(patient)\" title=\"Toggle to show/hide patient images\"></button>\r\n            </div>\r\n            <table class=\"patient-info\">\r\n                <tr>{{patient.patientName}}</tr>\r\n                <tr>{{patient.patientId}}</tr>\r\n            </table>\r\n        </div>\r\n        <div *ngFor=\"let study of patient.studyList\"\r\n             [style.visibility]=\"getPssiVisibility(patient)\" [style.height]=\"getPssiHeight(patient)\">\r\n            <div class=\"study-header\">\r\n                <div>\r\n                    <button class=\"study-button\" (click)=\"onClickPssi(study)\" title=\"Toggle to show/hide study images\"></button>\r\n                </div>\r\n                <table class=\"study-info\">\r\n                    <tr>{{study.studyDate}}</tr>\r\n                    <tr>{{study.studyDescription}}</tr>\r\n                </table>\r\n            </div>\r\n            <div *ngFor=\"let series of study.seriesList\"\r\n                 [style.visibility]=\"getPssiVisibility(study)\" [style.height]=\"getPssiHeight(study)\">\r\n                <div class=\"series-header\">\r\n                    <div>\r\n                        <button class=\"series-button\" (click)=\"onClickPssi(series)\" title=\"Toggle to show/hide series images\"></button>\r\n                    </div>\r\n                    <table class=\"series-info\">\r\n                        <tr>{{series.modality}}</tr>\r\n                        <tr>{{series.imageCount}} image</tr>\r\n                    </table>\r\n                </div>\r\n                <div *ngFor=\"let a of Arr(getThumbnailListRowCount(series)).fill(1); let imageIndex = index\"\r\n                     [style.visibility]=\"getPssiVisibility(series)\" [style.height]=\"getPssiHeight(series)\">\r\n                    <div class=\"image-button\">\r\n                        <app-thumbnail [image]=\"series.imageList[imageIndex*2]\"></app-thumbnail>\r\n                        <app-thumbnail *ngIf=\"imageIndex*2+1 < series.imageList.length\" [image]=\"series.imageList[imageIndex*2+1]\"></app-thumbnail>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/navigation.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/navigation.component.ts ***!
  \****************************************************************************/
/*! exports provided: NavigationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationComponent", function() { return NavigationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/viewer-shell-data */ "./src/app/models/viewer-shell-data.ts");
/* harmony import */ var _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var NavigationComponent = /** @class */ (function () {
    function NavigationComponent(hangingProtocolService, imageSelectorService, locationStrategy, logService) {
        this.hangingProtocolService = hangingProtocolService;
        this.imageSelectorService = imageSelectorService;
        this.locationStrategy = locationStrategy;
        this.logService = logService;
        this.Arr = Array; //Array type captured in a variable
        this.layout = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.groupLayoutList = ["1X1", "1X2", "2X1", "2X2", "3X3"];
        this.imageHangingList = ["1X1", "1X2", "2X1", "2X2", "3X3", "3X4", "5X6"];
        this.groupLayout = "1X1";
        this.imageLayout = "1X1";
        this.selectedGroupHangingData = this.hangingProtocolService.getDefaultGroupHangingData();
        this.selectedGroupLayoutData = this.hangingProtocolService.getDefaultGroupLayoutData();
        this.selectedImageLayoutData = this.hangingProtocolService.getDefaultImageLayoutData();
    }
    NavigationComponent.prototype.ngOnInit = function () {
        this.baseUrl = window.location.origin + this.locationStrategy.getBaseHref();
    };
    NavigationComponent.prototype.onClickPssi = function (pssi) {
        var hide = !pssi.hide;
        pssi.setHide(hide);
    };
    NavigationComponent.prototype.getPssiVisibility = function (pssi) {
        return (pssi.hide || this.viewerShellData.hide) ? "hidden" : "visible";
    };
    NavigationComponent.prototype.getPssiHeight = function (pssi) {
        return (pssi.hide || this.viewerShellData.hide) ? "0px" : "100%";
    };
    NavigationComponent.prototype.getThumbnailListRowCount = function (series) {
        var count = Math.trunc((series.imageList.length + 1) / 2);
        return count;
    };
    NavigationComponent.prototype.getHpMenuBackground = function (name) {
        var background = "url(" + this.baseUrl + "assets/img/DicomViewer/" + name + "_N1.gif)";
        return background;
    };
    NavigationComponent.prototype.onMouseOver = function (event, triggerClick) {
        event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N1", "N2");
        if (triggerClick) {
            //event.target.click();
        }
    };
    NavigationComponent.prototype.onMouseOut = function (event) {
        var imageUrl = event.target.style.backgroundImage.replace("N2", "N1");
        if (imageUrl === event.target.style.backgroundImage) {
            event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N3", "N1");
        }
        else {
            event.target.style.backgroundImage = imageUrl;
        }
    };
    NavigationComponent.prototype.onMouseDown = function (event) {
        event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N2", "N3");
    };
    NavigationComponent.prototype.onMouseUp = function (event) {
        event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N3", "N1");
    };
    NavigationComponent.prototype.onSelectGroupHangingProtocol = function (groupHangingData) {
        this.logService.seperator();
        this.logService.info("User: " + groupHangingData.tip);
        this.selectedGroupHangingData = groupHangingData;
        this.layout.emit(this.selectedGroupHangingData.groupHangingProtocol);
    };
    NavigationComponent.prototype.onSelectGroupLayout = function (groupHangingData) {
        this.logService.seperator();
        this.logService.info("User: " + groupHangingData.tip);
        this.selectedGroupLayoutData = groupHangingData;
        this.layout.emit(this.selectedGroupLayoutData.groupHangingProtocol);
    };
    NavigationComponent.prototype.onSelectImageLayout = function (imageLayoutData) {
        this.logService.seperator();
        this.logService.info("User: " + imageLayoutData.tip);
        this.selectedImageLayoutData = imageLayoutData;
        this.imageSelectorService.changeImageLayout(this.selectedImageLayoutData.imageHangingProtocol);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_2__["ViewerShellData"])
    ], NavigationComponent.prototype, "viewerShellData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], NavigationComponent.prototype, "layout", void 0);
    NavigationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-navigation",
            template: __webpack_require__(/*! ./navigation.component.html */ "./src/app/components/viewer-shell/navigation/navigation.component.html"),
            styles: [__webpack_require__(/*! ./navigation.component.css */ "./src/app/components/viewer-shell/navigation/navigation.component.css")]
        }),
        __metadata("design:paramtypes", [_services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__["HangingProtocolService"],
            _services_image_selector_service__WEBPACK_IMPORTED_MODULE_4__["ImageSelectorService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["LocationStrategy"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_5__["LogService"]])
    ], NavigationComponent);
    return NavigationComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css":
/*!**************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".thumbnail {\r\n    background-color: black;\r\n    border: solid 1px #888;\r\n    height: 70px;\r\n    margin-right: 4px;\r\n    overflow: hidden;\r\n    padding: 2px;\r\n    width: 70px;\r\n}\r\n\r\n.thumbnail:hover { border: solid 2px #F90; }\r\n\r\n.img {\r\n    background-color: black;\r\n    height: 70px;\r\n  \r\n    margin-right: 4px;\r\n    overflow: hidden;\r\n    width: 70px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi90aHVtYm5haWwvdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUEsbUJBQW1CLHNCQUFzQixFQUFFOztBQUczQztJQUNJLHVCQUF1QjtJQUN2QixZQUFZOztJQUVaLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi90aHVtYm5haWwvdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGh1bWJuYWlsIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODtcclxuICAgIGhlaWdodDogNzBweDtcclxuICAgIG1hcmdpbi1yaWdodDogNHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBhZGRpbmc6IDJweDtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG59XHJcblxyXG4udGh1bWJuYWlsOmhvdmVyIHsgYm9yZGVyOiBzb2xpZCAycHggI0Y5MDsgfVxyXG5cclxuXHJcbi5pbWcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgXHJcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB3aWR0aDogNzBweDtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"thumbnail\" [style.border]=\"getBorderStyle()\" (click)=\"onSelected()\" (mouseover)=\"onMouseOver($event)\" (mouseout)=\"onMouseOut($event)\">\r\n    <img [src]=\"thumbnailToShow\"/>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ThumbnailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThumbnailComponent", function() { return ThumbnailComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../models/pssi */ "./src/app/models/pssi.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ThumbnailComponent = /** @class */ (function () {
    function ThumbnailComponent(imageSelectorService, dicomImageService, worklistService) {
        var _this = this;
        this.imageSelectorService = imageSelectorService;
        this.dicomImageService = dicomImageService;
        this.worklistService = worklistService;
        this.selected = false;
        this.borderStyle = "1px solid #555";
        this.subscriptionImage = imageSelectorService.imageSelected$.subscribe(function (viewerImageData) { _this.doSelectImage(viewerImageData.image); });
        this.subscriptionImage = imageSelectorService.thumbnailSelected$.subscribe(function (image) { _this.doSelectImage(image); });
    }
    Object.defineProperty(ThumbnailComponent.prototype, "image", {
        get: function () {
            return this._image;
        },
        set: function (Image) {
            if (this._image !== Image) {
                this._image = Image;
                this.refreshImage();
            }
        },
        enumerable: true,
        configurable: true
    });
    ThumbnailComponent.prototype.ngOnInit = function () {
    };
    ThumbnailComponent.prototype.getBorderStyle = function () {
        return this.borderStyle;
    };
    ThumbnailComponent.prototype.doSelectImage = function (image) {
        this.selected = (this.image === image);
        this.borderStyle = this.selected ? "2px solid #F90" : "1px solid #555";
    };
    ThumbnailComponent.prototype.onSelected = function () {
        this.imageSelectorService.selectThumbnail(this.image);
    };
    ThumbnailComponent.prototype.onMouseOver = function (event) {
        this.borderStyle = "1px solid #F90";
    };
    ThumbnailComponent.prototype.onMouseOut = function (event) {
        this.borderStyle = this.selected ? "2px solid #F90" : "1px solid #555";
    };
    /*
    setSelectState(selected: boolean): void {
        var o = document.getElementById("thumbnail" + this.imageSop);
        if (o !== null) {
            o.style.color = selected ? 'red' : 'white';
        }
    }
  
    onClick() {
        this.setSelectState(true);
        this.imageSelectorService.selectImage(this.imageSop);
    }
    */
    ThumbnailComponent.prototype.refreshImage = function () {
        if (this._image !== null) {
            if (this.worklistService.isUsingLocalTestData()) {
                this.thumbnailToShow =
                    "data:image/jpeg;base64,Qk02RAAAAAAAADYEAAAoAAAAgAAAAIAAAAABAAgAAAAAAABAAAA5FwAAORcAAAAAAAAAAAAAAAAAAAEBAQACAgIAAwMDAAQEBAAFBQUABgYGAAcHBwAICAgACQkJAAoKCgALCwsADAwMAA0NDQAODg4ADw8PABAQEAAREREAEhISABMTEwAUFBQAFRUVABYWFgAXFxcAGBgYABkZGQAaGhoAGxsbABwcHAAdHR0AHh4eAB8fHwAgICAAISEhACIiIgAjIyMAJCQkACUlJQAmJiYAJycnACgoKAApKSkAKioqACsrKwAsLCwALS0tAC4uLgAvLy8AMDAwADExMQAyMjIAMzMzADQ0NAA1NTUANjY2ADc3NwA4ODgAOTk5ADo6OgA7OzsAPDw8AD09PQA+Pj4APz8/AEBAQABBQUEAQkJCAENDQwBEREQARUVFAEZGRgBHR0cASEhIAElJSQBKSkoAS0tLAExMTABNTU0ATk5OAE9PTwBQUFAAUVFRAFJSUgBTU1MAVFRUAFVVVQBWVlYAV1dXAFhYWABZWVkAWlpaAFtbWwBcXFwAXV1dAF5eXgBfX18AYGBgAGFhYQBiYmIAY2NjAGRkZABlZWUAZmZmAGdnZwBoaGgAaWlpAGpqagBra2sAbGxsAG1tbQBubm4Ab29vAHBwcABxcXEAcnJyAHNzcwB0dHQAdXV1AHZ2dgB3d3cAeHh4AHl5eQB6enoAe3t7AHx8fAB9fX0Afn5+AH9/fwCAgIAAgYGBAIKCggCDg4MAhISEAIWFhQCGhoYAh4eHAIiIiACJiYkAioqKAIuLiwCMjIwAjY2NAI6OjgCPj48AkJCQAJGRkQCSkpIAk5OTAJSUlACVlZUAlpaWAJeXlwCYmJgAmZmZAJqamgCbm5sAnJycAJ2dnQCenp4An5+fAKCgoAChoaEAoqKiAKOjowCkpKQApaWlAKampgCnp6cAqKioAKmpqQCqqqoAq6urAKysrACtra0Arq6uAK+vrwCwsLAAsbGxALKysgCzs7MAtLS0ALW1tQC2trYAt7e3ALi4uAC5ubkAurq6ALu7uwC8vLwAvb29AL6+vgC/v78AwMDAAMHBwQDCwsIAw8PDAMTExADFxcUAxsbGAMfHxwDIyMgAycnJAMrKygDLy8sAzMzMAM3NzQDOzs4Az8/PANDQ0ADR0dEA0tLSANPT0wDU1NQA1dXVANbW1gDX19cA2NjYANnZ2QDa2toA29vbANzc3ADd3d0A3t7eAN/f3wDg4OAA4eHhAOLi4gDj4+MA5OTkAOXl5QDm5uYA5+fnAOjo6ADp6ekA6urqAOvr6wDs7OwA7e3tAO7u7gDv7+8A8PDwAPHx8QDy8vIA8/PzAPT09AD19fUA9vb2APf39wD4+PgA+fn5APr6+gD7+/sA/Pz8AP39/QD+/v4A////AAgICAcHBwYGCQcSKDtLXWp6goydp7a4tba5vMDEx8rLysvMzc7Q0dTV1dXU09PU1tjZ2tra29vb29zb29vb297e3t/c3Nvb29zd397e393c3N3c3Nzb29vb2tnZ2dnVz87NzMvO0NDQzsvHw8G+urSys7KiloZ7bV9TSTomFwUECQkJCAgIBwgJCB0yR1lqdoeOm6u2xMXBw8fLzs/W2NrZ19Xb3uHi4uTk4+Hg4eDi5ufo6Onp6unp6ejo6enr7u7v7uzs7Ozs6+3u7e3u6+vr7Ovr6urq6urp6Ojo5+bi3tzc3eDg4N7c2NXSz8zIwr+8wbOklYZ7bGBURDEgDAUJCQgICAgHCQkQJzxPX257iJGfrbjFxcLEyMvOztXZ2tvY19zh5OPj4uTk4uDi4uPm5+fn6enp6ejo6Onp6evu7u7u7O7t7e3t7e7t7u3q6urr6urq6enq6ejo6Ojn5uXj4eLi4uHg3tvY1dLQzMnEwLrCt6eajIFzZlpKNyYVBggJCAgICAcKChwwQ1VkdH6NlaSwucXGxMXIzNDQ09na29zc3+Hj5OTi5OXj4+Pj5ebn5+fo6Onp6enp6uvq6+3t7ezs7ezt7u3t7e7v7Onp6urr6unp6urp6ejo5+fl5ePj4+Pi4eDe29nW1NHNysXBvMS4qqCQhnpwY1A/LRoLCAkICAgHCAoRKDhJWWp4go6bqrK5xMbIyMvO0NLU2Nna3N3f4eLj4+bl5OTl5eXm5+fn6Ofo6Onp6urq6uvr7O7t7Ozt7Ozt7Ozt7uzr6enp6urq6unq6eno6Ofn5ubl5OTk5OPi4N7b2djV0s/MyMLAxbqtpZaLf3ZoVkQ0IA8ICQkICAcJCRovO0xcbHmEj5+ss7jCx8rLzM7Q0tTW2Nna3d7g4eHi5OXj4ePl5ufn5+fn6Ojp6unp6urq6uvr6+zt7O3s7e3r7Ozt6+vp6erq6enq6erp6ejo5+fm5uXl5eXk4+Hf3dvZ19XTz83JxcTFuq+omo2BeWpaSTknEwgJCQgIBwkLIjNAT11veYWSo62zt8HIy83NztHT1NbY2Nrc3t/g4ODh5OPi4+Xl5ubn5+jo6erp6enq6unq6urr7Ozr7Ovs6+vq6uvr6urp6enp6urq6unp6Ojo5+fm5ebm5eTj4d/c29nY1dLQzsrGx8W5r6mekIR+bl1LPCoXCAkJCAgICQ8nNUJSX3F8h5WmrrO7wMjMzs7P0NLU1djX19ve3t/f3eDh4+Tk5eXk5efn5+jp6enp6urp6evq6urs7Ovs7Ozr6+vq6+vq6enp6enq6urq6uno6Ojn5+bm5ubl5OLg3tza2djV09DOysnKxrivrKCThn1xYE48KhgICQgIBwgJFyk4RlVhcnuJl6eutr6+x8zOz8/Q0dPV19fW2Nze39vd4OLk5OPk5OPk5ufo6Onp6Ojp6unp6urr6uzr7Ovs6+rr6+rr6+vq6uno6urp6urp6ejo6Ofn5ubm5uXj4d/e3NvZ19XTz83LysrGua+soZSFfHFhTzwqGQgJCAgICQocLDpLWGNyfYqZqK+7vr3Fy87Oz9DQ0tTW19fW2drZ2dvg4eHj5OTi4+Xn5+jn6Ono6Onp6enp7O3t7Ozr7Ovq6uvs6+vr6+nq6erp6erq6unp6Ojn5+bn5ubm5OLh393c2tnX1NLPzczMysW7sKmilIZ6bmBPOykYCAgICAgKChwtPExYZXN/jpyntL29usLKzc7P0NDR0tXW19jX1tfX2dzd3uLj4uLj5eXm5+fo6Ofn6Ojo6ens7O3s7Ozs7Ovr7O3u7uzq6erq6urq6urq6uno6Ofn5+fn5uTj4eDf3dzb2dfV0tDOzcvJwrqyp6CUhXVqXE04JxgICQgICAoKGyw6S1hnc32Pnai5vrm6v8bLzs/Q0NDR09PW19XU1dfZ2tze4OHi4+Tk5eXm5+fn5+fm5ufn6ezr6+3r6urp6uvs7ezt7Onp6urq6urr6unp6efn5+fn5+bl4+Lh4N7d3NrZ19XS0M/Oy8a+ubSmm4+CcGZXRzQjFggICAgICgkWJzdHVWNve5Cerbq7ubm6wMfLz9DQ0NHS09bX1tXV1tfZ297g4+Pk5OPk5OXm5+fm5+bl5ebo7Ovr7Ovp6enq6+zt6+vs6erq6urq6urq6eno5+fn5+fm5eTi4eDf3t3b2tnX1dPS0M7LxLu4sqeWjoNvX089LB4QCAgICAkKCQsgMD9NXmt8k56yu7e2t7i7w8rNz9DR0NDS09TU1tnb3N7f39/h4uLh4eLj4+Tl5ebm5eXl5Ons6+zr6unq6+rr7O3r7Ovp6erp6urp6enp6Ofn5+fn5ubk4+Lh4d/e3dzb2djX1NPSz8rCu7m1r52QgXFjTTwqGwoICAgICwoICRovPk1fa32UnbK6srCytbi/xsvMzc7P0tfX2NjX19ra297g5Obl4+Pj4+Pk5OXl5eTk4+Lk6uvs7Ovq6uvr6+vs7Ovs6ufo6enp6enp6Ojn5+fn5+jo5+fm5eTj4N7d3NrY2NbV09LOyMC7trWxo5GCcGJRPioZBwgICAgLCggJGTFBUF5qfpKbsbesrK6xtrq/xcnM0trYzcbEyMzR1NXS1Njc3+Tn6Ofk4+Tj5OTk4+Lh4uXq7Ozs7Ovr7Ovt6+zs7Ozp6Onp6enp6Ojo5+fo6uvr6ujm5eXk5OTk5OLf2tjX19XT0c3Fv7qzsrClkoRyZlNALRwICAgICgsKBwkYMkJRYGqCkJevtaKnqa+0tri/ytfXz8bDwL7BxMjQ0tPV297f4OLj5ujm4+Pj5OPk5OLi5urr7ezs6+zq6+3r7Ozs7ero6enp6enp6Ofp7Ovp5+bl5OPj4uDf3t3c3d/h3tnW1NLPysW/ubKvsqSThXVrV0MvIAsICAgLCwkHCBkyRFRhbYaRlrC4nKKnrbG0ucnUz8/Mx8PCwMC/wcrP0tbb3d/f3+Lj5Obp5OLj4+bm5eXn6evt7uzs7Ozt7e3t7e3q6+jo6enp6ejp7Ovo5+bm5eTi4uLg397d3Nva2tnc4N3V0czIxcC4sa6xpZKGdm1aRjIgEAgICQsKCAcHIDdJWWZziZKZsLyXn6qxucHRzsfN08/MysfHyMrN0tTW2dvd3t/f4OLj5OTn5+Pi4eHi4+fn6err6uvr6+vq6uvw8O3s6Ojo6Onp6+vo6Ofm5eTj4uLh4N/e3t7e3t7d3Nzb3N7Vz8zHwbmxrrGlkoZ2bVtJNSQVCAgKCwkIBwsnPU1caHeJlJquvJ+ltb3D08rIy87S0M3Ly8vMztTa29zc3N3e3t/g4eLj5OTl6OLk5eTj5+jo6+zs6+rr6+zs7Ozr6evo5+bm6ezo6Ofn5uTj4+Ph4eDg4OHh4eDf39/e3dzZ1tvWz83IwLOxrqCPhXVrWkc3JRcICQsLCQgHDSxBUFxreYiTmavCu6+6wNLIyMvNz9DSzs3NztHV2dvc3d7f3dzd3d7f4OLj4+Pj6OLi4eHn6Ojr6+rq6urq6+vp6enq6ufl5Ojq5+jn5+bk4+Pi4uDf4OHh4eHh4OHh4N/d3NrW09fWzcrIwb2xm42EdGpcRzcnGAgJCwoICAcOL0NSXWx6h5Oht8nIrrXOx8jKzM3P0NLT0tHT19va2tvb2trZ1dDNz9HW19rc3+Lh6OXg4ubo6uzs6urr6+rs7Orq6uro5OLn6OXn5+fm5OPj4uHh4OHh4eDg4eHh4eHg397b2dfV0dXTycjGx7+mkoN0ZlxGOCkaCAoLCQgHBxE1SFZgcHmPqba+zM23ucDDycvMzs/R0dPW2Nna2tnW0s/OzMrHx8K9vL7Ey9Pa39/h5+Lj5unq7Ozr7Orr6+vs6+zs6eji5ubk5ubm5ePj4+Lh4eHh4OHg4ODg4OHh4eDe3NrZ2NXTztTNxcfKwbCnmYBrYks+LR4ICgoICAcIHERTYG5/la62u8HL0MK9pLzIy8vP0NPS0dPW19ja2NTQzMvJycbCvrm4trvGy9rf3+Pm6Obm5+nr7Ozs6uvr6+rq7u/s5+bn4+Xl5eXj4uLh4ODh4ODg4N/g4ODg4ODf393c2tjX1dLPyNLFy8rBtKqlm4h1Xko8KwkKCQgIBxE/XWx4i5uosbi8wsvT0LSnq73Jys/P0dLR0NLT1tjZ1dHNy8nHw767ubm7wMXN3N7e4uPk5eTn6ezr6+rq6uvr6+rp6ebo6eHh4+Pj4+Hh4eDg4eDg39/f39/f4N/f397c3Nva2NbU0c7JxtLPy8G4r6ukm4t5YE46CQkICAgNNVJpfo2Zoq21vL7EzNjKvbapqrzMzs/Q0NDNz9DU19fV087NyMTAvr28vsXDytTa3N3e39/n5efo6urr6+vq6urp6Ojo6Ovi4eDg4OHg4ODf3+Dg39/e39/f39/f39/e29vb2trY1tLQzcrI0tbPwby0sKmgk4RwWkIJCAgICSVJYnWKmJynr7i9wMXQ28vEv7WursLMzc3NzMvM0NHV19XTzszIwL6+u7vDxsnP2tnb2trb3eDn5ujq6urq6+rq6eno5+fq5eDg3t7e3t3d3t/g39/g3t7e397e397e3dvZ2dra2tnW09DNzMzR3NDCv7ezraSZinlmTQgICAgSOFVvg5Kan6myub7Bx9fX0cjEv7i1tb/LysjKycjO0NHU1tLPy8bEv767v8fHy9ba2trZ2Nnc3eXl5+nr6urr6urp6Ojn5+ng393b3N7d3Nze3t7e39/d3t7e3t3e3dzb2tnZ2NnZ2NbU0c/P0NTZ1MTAuLawqJ6PgHBWCAgIByBHY3iMlp2jq7S7wMLK2tbSzMrGw767tLnBw8TEx8nPz9LT0M3MysjEw8TGycrQ2NvZ19jY2Nja4ejn6+vr6urp6ejo6Obp5N7d2trb3Nra3N3d3t7d3d3d3d7d3Nza2dnZ2dnY19fW1tXU0dHP1NfYx8K6t7OroZSGeF8HCAcKL1ZugZGaoKeut7zAxNLX2dPPzMvJxb2zqai3vb3BxcrNztDNzc3OysjKxsrO09XW2NfV1dfX19rd6Ojq6uvq6uro6Ojo6Orh3Nra2dvb2dvc29vc3N7d3dzc3Nva2tjY2NfY1tbV1dXV1dTSzc3U2NTOw7y5ta6jmIt8aAcIBhA+YniGkZ2lq7G5vsHG19Xb1c/OzczJwbWsopyntLm+xcvLzc7Oz9HQz83N0dPT09PV1tTT0tLT1dri6Ojp6enp6Ofm5uXo5d7b2NjY2dna2dra2tnb3Nvb3Nza2djX19jX1tbU1NTS1NPU1M7LztTY1NXEvLu3r6WbkINvCAcGF0trfoyVn6iutLq/wcvU1tzY0s7OzMrEubCooJaVoa+5wsjJyMrM0tTU09TU1NLR0dPU0NDNy83Q1d/p6Onp6Ojn5uXl5Onj3tnX19bW19jZ2djY2tza29ra29jW1tbW19bV1NPS0tHQ0NLOysvO09nW08m+vLixqJ6ViHMHBgUfV3CDkZqjqbC1u8DC0dDY3NrU0s7OyMS9s6uhmZCOiZqsusPCxMbIzdHR0tLR0MzHxsnExsS/wcXP2+fo6enp6ejn5uXm6uTf2NbV1dbW1dfW1tjZ2tnZ2NbW1NTV1dbW1dLS0NHQz87NyMXJy87T29jQz7+7ubKroJmPeAcGBSpedImVnaWqsbe8wcTVz9jc3dbW0MzHv7y5r6Wbk5CLiJqdqa2usrG5vsbJx8TCw8LAxcPGxsXDydDc4+fn6Ono6Obl5efn5ODa1tbW1dPT1dTW19jY19bV1NPT09TU1NPS0M7Nzs7PyLy+w8bKztbc2c7Tv7y6tK2jm5GABgUGM2F3jJeepauwuL3CydPR19ze2djSy8G9vLiyqqCYlpWKlZ6mqK2tqa+4uL7CxcbGyMnJx8jHycvK0drj6Ojo6Onn5uTk6OXj3dfU1dTT0tLW1dXW1tTT0tHR0dDQ0tHRz83LysvLysKysbrBxMrR2dzZz9LBvLu1rqWdk4AFBQg4YXqPmJ+lq7K3vcLP0NLX3d/c2tTMwbi4trGvqaGcl5OSmqepqrCwsrm8u73EycjMzdHPzMrNz8/R2ePp6Ojo6ejm4+To4eDa1tXV09XW1dTV1NPSzs7Nzs7OzM3PzMzKycfIyMa6qquwt73CytPb3NnQz8a+u7awpp6VggUFCzphfZCYoKatsri9w9XO0tfc3+Hd1c3BtaywsbS0qKGblpWdoa2qr7W0uL+8v8LGy87Q0tTV1NTU19jb4+rn6Ojp5uXj5Ojg393c2dnX19XT09TQzs/Ly8vKy8jIysnHxcXFxcbAsaCepayxu8PL1t3b2NDMy768tq+mn5eGBQUOO2J/kJmgp62yuL7F0szT19vf4t/WzMG1ra2usLGtpJyVl6Wlp6qvuLm6vsC/wsXHztDU1dTV19nb3d7k6+fo5+jm5OLk5uDf3dnV09PT0tDQ0MvLy8fHx8bHw8fHwcDBwcC/u6qcnJ2hp6+7xM3Y3tzX0crQv7y2sKegmYcFBRM6Y3+RmaCnrrK5v8bKzNPX2t/i4tnNwLaysK6ur66om5mXpqmqqK66vLq8wsHDxcbLztTV09TW1tna3uTq6Ojo5+bk4+Tl4N/d2NPR0M/PzMzPycjIw8LAvr/Cv7i3uLW3tK6goqGcnaGjrbrGzdve3NbSytXBvLaxqaCahwUFFzlif5CZoaevtLvAx8vN09fa3uLk3M7Du7azrqypoqeclZWlrK6vr7S+vrzBwsXFxsrM0NPS1dXV19rf5efp6Ojn5uTj5OPj49zX09DNysjHycvDwMK/urm3urexrK2pqqeel5mbmaCjo6atucXP397b1tPLzMG7uLOropuIBQUbOmF/kJqhqK+1u8LIzc7T19rd4uThzsS/urOspqCYl6GWlp6utre3ubzBvsHExcbHy8zQ0c/R09XY2d7m6eno6Ojn5eTk5eXk3dfUzcnFu7vBwLSzs7e3sbSspqCdmZaWkZKSi5CboKGnq6+4x9Th39nW08zEwby5tKyinIkFBx46YH6PmaGosLa9xMrOz9TX2t3i5OTTxsC7ta6hmpqRmJmYlai0tbe7vcHCwMTGxsnMzdDQ0NHS1NfZ3uXn5+bm5+Xj4eHi4uLe1dLNx7qmkaCln5+hp6GjnZSOgn6CiImQlo6Rj5aeoqits7nK2eDf2dbTzMXBvru2rqOciQQLIDpde46Zoaivt77Hy87P09fa3eHk5dfKwbq1qKKemJKPio6Ro6yxtLm+wcXDxcfGyczN0dLR0tPT1dji5ufn5+fo5+Xj4uPk497U0s3Gt6OMl4l3f4+ZjYuBdnp5iYKLkIuEhoyTkp+mqq+0vs7b4N7Y1tLNxsPAvLewpJ2KBBAiO1t5jJihqa+3v8fMz9DT1trd4OPl2s/Euq+spaCblpGNg4SgqrC0ur3BxcjHycfL0c3R0tTU09XW2OHl5+fn5+no5ePi4+Pk3tTTzMGzq5ePh29ufYeDgoB8hoJ+d35+fYWDipGXm6Sqs7vFztzf3dnW0s7IxsG9ubGlnYoEFCQ7WXaKmKGpsLi/x83Oz9LW2d3f4ubc0Me5saqloZiZlpCAfZGlr7S8wMLGy8vNy8vR0dLR09TW1tja4OXn5+fn6Ofk4uHh4+Lc1dDLwLCll4d/eIWMjYeSgoaFe3Z4eHF9gYmIjZKWpLG5wcfO3t7d2dbTzsjGw7+6s6adigcXJTpWc4eVn6mwuL/Gzc/P0tbZ3N7j5d3Qx72xq6SfnZKUmIJ2iayvsrq/wsXKzc7Ozs3R09HT09bX2Nrf5efn5ufo5+Ti4uPj39rSzMnCsqSdio+UkJKHk5N9fH14hoNucX6Ah4WHj5qmtb3EyM/d3N3Y1dPOx8bFwLu1p56KCxooOlRvhJSfqLC4wMbMz9DS1dnb3eLk4NLEvrWso52ZjomMiH17ma60tbvAxMjKz8zNz9LT0M/S1dTX2d/l5ubm5ujn5OPi4eHe2dLLyMG4r6iWmJ2Uk5GPhnN1gH9+cG56gH1/iYqSnqmzvsTJz93c3NfV0czIx8TAvLWnnYsQHCo7U2uBkZ2nrrjAxsrOz9LV2Nvd4uPg0sK5trGlnpmPh4OGh4KIpLK2uLvAxsjOzs7N0dbT0dPT1Njb4OXm5ufn5+bj4+Lh4N7Z1M/NyL6xqKChnpyRkol8fYSBfnR1doCEfICHkJujprG9xMfO3tzb1tTRzMfFw8G9tqidixMfLDxSaH6PnKavuMDFyc7P0tbY2tzh4+HOwrmzsaujmpSQi4qGgYSarrW5ubvCxszQz87S1NLU1tjY2tvh5ebm5+bn5uPi4uHh3tfSy8nIw7SrpZyaiYyJjJOTj3h2eYCAgnl7hoqVnKKor7vAx9De3NrV09HMxsXEwb21qZ2KFSEuPFBle4yapK63v8XJzc3R1dfa3ODk4c++t7Suramln5yTkoZ9e4+lsbm8u77BxszMzdHT0tPT1tbW2N7k5ufn5ufn5eTk5OPe1M/KycrJwbGkiYJ8gXh1hZiFc3V+foGAgImUlpWaoaWpr77H097d2NbT0MvFxMPBvbarnIgXIzA+UGJ3iZikrbe/xcnLzc/T1tnb4OTg07uyrq6tq6qkoZKPjIWBhpSgsbu8wMHFys3Lz9PV09TV1dXY3+Pn5+bl5ubj5OTj4NzVz8rIx8O/r6OGhId9d3d8fX15bn2CjIWFjJSXmpiZm56ovcnY3d3Y1dPPy8XEwsG9tqychxglMkBQYXSFlqKst7/FycvNz9PW2dzg4t7WvrGrqaqrp6CcmJKNjX1xhJyktLfAxsXKzMzO0dPR0tTU1dff5Obm5eXm5ePi4+Lh39bRzMXDvrWqnpeTjoB+foBxdYGChYSMkZOWlZSUlJSWnKa6zNzd29fV0c7JxMTBwb23rZ2HGiYzQU9fcIKToKu3vsXJy8zO0tbZ3ODi3tHIsaulpKGfnpuXl4+IgnRxk5+us7vCzMzLy83O0M7Q0tLV2N/k5ubm5+fn5eTj4eDd2NHKxcK7squklJSXgXx6dn5/hIWNi4iOioqMjo2RmJidpLXT297Z1tTRzcjCw8HBvbatnYccKDNCUV9uf5Ceqra+xcjKy87R1dnc3+Ddz868rqagnJiRlpGMj4mBgHaHnaixvL3ByMrKzMvOzs/Q0tTX3uPk5eXm5+bj4eLg393Y0czHwbmtqqSOlJF/eHuBhoV+iYJ/gIKFgYCEjZOXm5+jtdba3dfV1NDMx8LDwcC9tq2ehh4qNEJSX218jZuqtr7Ex8nKzNDV2Nrf39nOy8m1p5+TiYWJj46NjX6BgoCWrbe7vL2/xsfKyczOzs/Q0tbc4uTk5OXm5eLh4N/e3tjSzMa/tKijnpCRk4qIi4Z9gIuIfn5+fHV5goCKkZecoK3D1Nvb19XT0cvGw8PBwLy2raCFICs2QlFgbXuLmqm1vMPHx8nMz9TX2d3e18vJx8KrmYuGhISAhYWIi4iHioqksLq8urvAxMbGy83P0NDS19zi5eXl5ubl4uHg4N/b1tDKw7uypKChl5CfkpCGhISAhoOEeXR0dnmBgYqTl5yqvcXQ29nX1NPRysXEw8HAvLWsoYchLDdDUmFteomYqbS8wsXIycvP1NbY3N7Zx8fCvrSXj4ODfHl7eHJ3goiMhouitLq+wMDDxcTJzNDPz9DW3OHl5eXl5eXi4ODf3trWzsXBu7SuqaOYmqGVmY+Gf355eHdyeXd4eoGEgImZpri+xs3Z2dfU0tDKxcXCwcC7tayhiCMsN0VTYW16iZmps7rAxMbIys/T1tfa3tvGwr26r6qTjIZ7dXZ8cWlyfoaFfJKmtbi7v8PFycrMzs3O0dfc4eTk5OXl4+Hf393d29bQycTBurKnn5mkmYeWkH5xaG1vdHiAdXV7g3+EjZ6wt77EytjZ19PSz8zGxcPBv7u0q6CIJC02Q1NhbnqJm6qyusDDxMfJztTV19je28a8u7GuqaiThHpya3F0bm1tbXV5eZOqtre+v8LFy87Q0dLS1tvg4+Tk5OPi4N7e3d3b083FwL22tqedm6KbjYV4ZGpwbWpubnNydn6Bh5Cdpq20u8DD2dnX09HPzcfFwsC+u7SroIokLjdBUWFteoqeqrK6v8LDx8jP09XW197aybmtrqmmoaOSfHdvaWpudXBpZ3BvcZGot727xsXJzc3Ozs/V2t/j4+Pj4+Hf3t3c2tfSzMbBu7azpZyboKOUd3hoZmhjZWhoa3J4fIWQmZ2jqa+4tcHY2dbS0c/MycTCv766tKyhiyQuN0BPX256jqCrs7m/wMLGyM/S1NbW3dnPtaWjqKSemZmQe3JybXBub2xnaWRgaJWmtbi1usPKysrKy9LY3uDi4uHh39zc29vZ1c7MxcO/tKqZj5STm5F4c2llaGdrbGtxb3qHj5OWm6Snpamxwdja1NLQzsvLxMK+vLm0rKKNJy42P0xdbn+Uoauzur6/wsXKztHU1dbc19Ozpp2doZyWkZCPgnRzcmplZmVnZWNZZo+ksa6ut8LGxsbJ0dff4eLj4+Ph4N7c29rWzcrFw8CvoZmDjJaWjn5vZWhzb2tqb3R7gIqLkJacnpiYpLDC19vU0c/Ny8vGwb67ubOto44tMzU/SVlthZejrLS6vb/CxMzO0NPV1trX0rqonZmUlpOPkZKOgHd4b2ZjYVxWYGRfdZ6qrq2wub3Aw8bP193f4eDh4d/c29nY19bNxr++wquZiHZ/iIyBZmVnZ2ltbHJ4gIaIjoyMkpGNj5ehrcfW2tTRz8zLysbAvbq4tK6lkTI6Pj5JVG6HmKWutbm9vsHEzc7Q0tPX2dbMxK2emJCMjZGJioyKhH95bmtoYFlcYm9yhKKtrq6zt72+w8zU297f39/g3tvZ2NfX1MrDwLu7oYiCgIGFhnJnYF9dYWx1dnqCg4qLi4p/fYWMlqCszNLY1dHOzMvJyMC9ure0rqiVNz9DQkdWbYqapq60uby/wMfMzs/Q0tfY08rFtKCWjYyKh4mIgn2Af3t4enZxamhtc3p6kayxrK2zuL3AydHY3d7e39/d29nX1tbTysPBvK6cgYOGhoB0amBdY2hmcHV6en6AiImDe3l6goiWorPN0tfV0s7Ny8rJwby5t7SuqZY7Q0hIS1ptipynr7W6vb7Ayc3OztDR2NjQyMG/pZWNi4WBgYB9end3dXJycXFsXGFsdnBvkK+1sbK1usHJz9Xc3dzd3d3a19fX19HJwLu4rZqFj5KSf3ZzbGtobHJwbXFydXR2cnR7enx/iJWmwMbR1tTSz8zMysnEvLi2s6+pmD5GS0xVXm2Fnqmwtbq8vcDMzM7OztHY2c/CwL2zlo+LiIWAdHh6dW9tcHRxcXtzY15caG57lae1t7W5vsjQ1dzd293d3NrY19jV08rEvbeynYqXoaWMfWtqa3FuaWhmaGtjYWZucnV6foKGmLS+ws3V1NPOzc3Kyca8ubazr6qZQEdNV19haoKhq7K2uby9xMzMzs3N0dnYzry+uremj4uKgntwa2Zqa2hpamdtbmxsZ158iH+DnLi3tri/ydDW29zc3d7d2tjX19fVzsvCvLennJiWnX9nY2lvaWZiXV1XWVpdYmdudHqAiZKrtLe/xNXU1M7NzcvJyL66trOwq5pDS1RdY2VqgKStsre5u73HzMzOzMzR2dnPvLe2sa6ejoh+dmpiX2FgY2NlYGFgWWJtanmUjoqasry8vcHIz9Tb2tvc3dzY2NfX1tPOyb65sqycloyNfWFeY2NdWE5NTlFWWVpgaG50eoOTpa+xs7m/1NPUzMzMy8nIwbq1srCrmkpUWWBmZ2t+p66zt7i7vsnMzc7MzNHZ2NG8sbCxqqqfiHxxbGVhWFdSVFZfZGFdZ2hyeImLiY+ls7a4v8fM0dja2trb2tfW1dXT0crFurSupo19fnhpV1lgV1BRSkxOUltZWl1gY25/kqKprq6vsb3U09PLy8zLycnEu7ezsKybUltfYmdrbH6rrrO3ubzAy8zNzszN0djY1Lyxq6+qpaSYfHFuY1tXUlBRUFFcVlpjXm90eYSTkJWutLa+wsfN1tjZ2tvZ19fV1dPRysG3sKydgnZzclJFRU5PUFdMTU9WWV1fYWNsd46coKisrKivvtTS0srKy8rJyce8uLOvq5xXYWNkam1vh62xtLa5vcPMzc/PzM3Q1tnXvbKsqqyloJaNeGtjX15eXlZRUVdQT1dgbWZgdI6SkKmwtr/ExczT1dfZ2tjV1NPT0tHIvrOvqJN1bmVqXUdGUEtPT0dKTVJUV1pkcHyCjZadpaikqrC/1NPQycnLysnJyL65tK+rnFxlaGhrbnGYrrK1uLu+x83Nz8/Nzc/T2djCta6ppZ+TjY6KeWRcWlVTU1VQUVVKVmliVlBmdnqElqOuu8PGytDT1dfZ19TT09LUz8S7sKmjjHhxYlxkUVVcUlBKS1JUUlFgbHR5hoeHjJmanKOttMPT08zHycvKycjJwbu2sqycX2lqaWxye6avs7W5vL/Jzc7Qz83NztHX1s24r6mhjoyNjIqFfGpZUU9UUFFYVlNZbGZcXWyDfHyIlai2wMTKz9HT1NfY09LS0tTOv7Wsp6OKfHVlYWJUYGFRTU1RVFJaY2hwd4CFgISFgJOapK65y9LSysfIycrJycnCvLizrp1ia21sbnSOq6+ztbm8wMvOz9DPzc3N0NPV0cCxp52Hf4OEgHp0c3FjWVNTXVRLS05WXWqPkoN1c4SUp7O9wsjO0dHS1djU0dLT0c++sKqkmIR5a2VlbXdyW1dTV2NwcHJtcXNxcnR5dW93jpqksMPM087KxsfKysjIyca8ubSwnmhucG9wfJ2tr7O2urzCzc3P0M/NzczO0NXPzLWml4mAeXR6enF0e3RuaFtZT0xITkxGS2V1dnJweo6ms7vFyM/S0dLV19TS0tTU0Mazq6icfXFxZWp9emleZGVkZWNob3FzcGxvbGVmbHWKlqW3yMzTy8nFxsnKycfIx724tbGgcXNzcnKJpKyvs7e7v8XOzc7PzszMzM3P1M/LwqeVioB5cmpueXt8dG5lYVxQSkhKSUNMUFxmZmlwiaa1vcTIz9PR0dTX09LS0tDMxLespZF8dnFscoRvaWFmaV5gXmFmamxlYFhaYGZteIyXrMDGz9HKyMTEx8rIxsfHv7m2saF6e3d2eZinq7CzuL2/yM3Nz8/OzMvLy8/TzsnCtpuNfXdxbm1ubHBvamReYGFhW11gXWBgYWlobHiEqLW7wsjO09LR1NbT0tHQ0MrDuLCpkoV2cHZ1f3dwaWVnY2piYWFcWVxgXFteYWh5jJ+zvsbPz8rGxMPFycfGxcfAuLSwooGDfHuJo6itr7O5vsHMzMzOz83LysnKztPNyMCzqpiAd3BtaGZeX2JoY2ZmZWRdZWdnbHBubnJjZH+hs7vCyM/V09HS1NPRz87NysG7tqWMh3Z6h3dyZ2VnaWNiY1RQT05QWWJhZmRkaICZqK+6xs/PysXDwsTIyMXExsO4s6+ih4yHjJmiqa2vtbq+w83Mzc7PzMrJx8jN08/EvLCppJF6dXRuaWJcUFNbYWJdVFdiW15ufH15aFxqeZizvMPJz9TT0dLU0tHPzMfDurywkICCfXd0Xl5XUFZYVVVIREdMTVBTWF5ia2p3k52iqLbC0NDJxMPBwsbIxMTExbi0rp+MkZKan6aqrLC2u7/GzcvMz8/LyMfGx83S0cSyrKejoJSAdm5nYVhUUFJOSEpOWVpfXW99d3BiWWqGn7O8wsfM0dXS0tPR0NHNxMC+uKV8cXZ4cGZbUlNKSkRFQ0JHREhJTFZWXGNpeouXl5uiqsTQ0MjDwsDBxsjFwsLFu7SvoJCZmp6lqquusbi8vsrLy8zPzcnHxsbHy9LSxbGkoaGfk5CBcGVfWFRSTkhDQkJMR1dhaG9jVUtNX4Kbr7e9wsrR0tPU09HPzsvEv7mxmWlda4Z0W1RTTkVJRUNFQUNDRU1QUFlkc32FjJSVlJWpyNDQxcLBwMHGyMXBwcK+tLGilaChpaaorLCzuLzBy8nJy8/Mx8bFxsbI0tPIsKKbn52SkI+CcmRZVVFKRUNDRUVGTV5jXVZOQ0RXfZensLW/yc7Q0tTTzszJxsO9saN+U1RdfHFUU1tIRkZIR0ZBQURDRk5ZY219f4GNlJCNlavLz87DwsHAwMTJxsHAwL+4sqKXpKiqqqqssLO4vMbJyMnMzsrFxcTFxsfP0c6xoZ2Xlo+JgHx7dmxZTUlERUpKREVFSlJTVk5GSFd/laOstsLGztDS1NHNy8nGwr6wj29TUFBha1xOU0hERkVIRklJSk9TXWRtbnFzfYmKi5GardDNysLAv7++w8jGwb++vruypJimqaqura+xsri+x8jHyszNysXFys/Y09DR07WnnJeVhnh6eHx9cGxiW09SSkhGSUZJT0pSVU1HVH6VpbK+xMbO0NLU0c3LycfFu7aad1tZU1lZY0lKQ0VIRUVLSlBWX2BjZmZobGhmg4iNlKC8zs3EwMC+vr7Cx8bCwL29vLOkmKaprK2vsbO2ucDGxsfKzc7JxMXNxMTFz9LTxKqdmZeJcm50c3Jra2hpZl1WTk1ISUtGR0pOTE9biJyrtr/DxMvP0tPQy8nIxsG6sKSGaWthXVdjTElBRkpOU1pXV11fXVxiYVtZXGJ6ho2ZsMXLysC/v76+vMDGxsPBvr28taSXp6msrrCytbm8wsTExsvOzcjExMzCwcLK0NDQtaCakIZzb2liaWhna2deYFpdZ2JjYVZUX2pmZ22Inam0vb/DytDT08/MysfGwrmroot8fG5paG1sYVhSUFJVXFtXWlxcVFJPU1Zfa3iHk6m7xMvEvr69vb27vsbHw8G+vby3o5ilqKutsLK2ub3DxMPGy83Nx8TCzcrOxs/H0M7CsJuLhnlsa2JeXF5iZWJjW1pbXltaVlZebmpkaHiNoKu3vcPIzNDQy8TExcbAu6eeiXqFd29tbXRrX1dTUFBUYltWT05NS0xTWV9vgZSlsLjExsG8w83Qx7q+xsfEwL++vLaklKGkp6yws7W3vcLExcjLzc3GwsLBx8zIxMbMzsK3q5aHfW9oYmBfWFVSV1tXVFJaVlJXV11pZmh1c3SUoK+yvcXJztDLwcDCwr6yn5iLfoWEc2NiX15eXFpWU01JSUdJSkxNU1ZaZoGToqWtt8PFvsHBvL66xb3GycXCwL68uKiUoKOnq66ws7e9wcPGx8rOzsXCwMHAwL/CxMrLw7eoppeDb2VoZ19ZVUxJRkZKTlJRT1paZHN2a2BiYG6JnK2+xMnOz8rCwcLBv6yZjoZ4dnR4bmRbVFhQR0RBQEBDRUpLTU9WW2l/kJWeo6q1xMS8xLm3t7fFvsXIx8K9u7q4qqCioqaqra+yur/CxcfJy83OxcC/v7+/v8HDycrBtaiknJeDdXBoYFlUTURAQ0hDRUNCRVBcaF9TVFtjZHqTrr3DyM3PysPBwMC+o5aJd25dXGBlY1lOSkpBOz5AQERFRUxSWmlzeoKLk5ifo7nFxLu8wsDCv7+/xcfEvru/wL6ws7yuqK2vsri7vL/CxszLy83Fv728vb2+wMHIycSup6Sak4+LgW9eV05NSURGREFHQ0NHWmh4X1VVWWtqf56wvsbJzczGwb/AwbugmY5/c19aWVxmZV1QS0dAOz0/QktNV2VrcXF3fYSJjJiqwcXEure6wsO7uMLFxr+9wb67uqumtsLFwLy4u7u9v7/Ex8vLy8a/vLu8u7y9v8bIybGnnpaTk4qCenZoWFBJRURFQkNBQEZYYmVfXl9ieX6arbTDyMnLycPAv8HGuqumlYh/Y15ZYmRnZmdaU0VDRktQWFtbXmRlbnZ7eoKNmqvHx8O6tre3uLi7w8XEv8O9uri4qaGys7S4ubq+vsHEw8DDx8rKxr67u7y7u7q9w8jKuaqbkZCPiH5xaWlmYlxUUlNJSUhMWmJhYmZvc3+IjJ2qsr/FycrGwb28wMO4r6yqmJB3b2JdYWZrcG9dVU5SUlFTVVdWWGFlb3l+gpCgtMTEwb+7ubm7u8HIxsTCxLy5t7SopqiprrKys7e7vcHGxMLGycvGwLq7vLu7uru+yMfFrZ6XjoZ+dGlkZF5cWVVZWFNZZWpvcnVvbW53g46VnqmvvsjKzcjDwr/Aw7WsqKqflYl8cWxqdXh0cl5VTExPUU9QTElNUV9seoSNlqrDwcG6uL3Av76+xsfDw8bHura0sKifp6apsLGxtri7vsPHxcXIzMvBu7q6urm5ub3CyMe3pZ2RhXprW1ZWV1lZWF9UUVRbamxxbWppYXeFiIeQpbO9w8bGv7m7vb7DsqqjoqCflH5wamlzdGxsXFdRTElGRENFSEtUXGyAipejv8LCvr/Av8HExsjLyMbFycu3srGyppmkqKmsr7C0uLm9wMPNx8jJzMi+u7i4t7i7vbu/wsSyoJKIemRcVlFPTE5PVVFSV19kZ3BpaGBmen9/g4uXobjAxcK6tbW3uruspZqXlpmci3xsamx0bmFZUVBFRENFRUZKTFNYcIaRprvBwLu5ubq9xMfL0dDMyMfHybyusKyimKGkpqutrLO0trm9v9DLy8fHyMG8ubq9vLe0tLa/wcGwmIt2ZVxVUE9PTExNTUlOVVddYl1gaHFveH+DiJSkt7/GxMO9uLq7uqOXl4+KhIV+fndoaGVhV09KTElFRUdIS01RVlxxk6W3wL23srGwrqyptcS+vMHGxMPFwbOpp5qTn6KjpamrsLKztbjDzsrJyczO0czJxsG6trW1tbS+wLqqlnNjXVhVUk5MTVBPTk9QVVlYYGtqcWtscniCmai4vcPCwcC5t7m4oZiRjIJ6cm1qZmZubWhhVlFNSkdGSEtOU1Vdb4eer769trGuqqimn562trOytL3CwMDCu6yilJKcn6CkpKaurrCxt8jKw8DBwsTKzr+7vcG8ure2tLG8vbOfh3BhWFhUUldTUlJPUFVWZnBnYmRiZGVsdH+gsrzAw8C/v7a2ubumoJqKeXZwaWFfXmFyeXdsYFZPTUVITVVeaHN6iaS7vLewraqnoZqcsrm3sa+usrnBv7y7tbCkjZmcn6Gip6amrbK+xsO9u7y+w8fIxLCpoqKjpauurLO3uauMdnFqYVlUVVdVVVNXanl9bGBgYWJkaGt0ka25vcHCvb+/tLW8v66rqI17dW5oYVxeXmZzfYB6cmhaU1VeZm1udHuSrrq2s6qpppyUlqaurauzr62tsbnBurTBsZaJk5aZnqKipKOnuMC/vbm4uMDBvbm+rpuVmZqboKWprbCwt5p+cWhpamVkW1hjc4CCfHFiXl1eZWx2fIycrLi7wcG8vb6zsrq4rq6rn457bWhkW1tdYG56g4WEhod+bmZobHJ3gpm3tLKrpKGZj42Sqqyxra6wqaqtsLi5ssG/roOPkpecnJ2goa65u725tbW5vb+5uLSmn42Nj5KZn6Kmrq+wqol5bWhkZWx8jI+Oh4KCdG5ub292eYaOkZqsuLnBwb6+vLi2u7esqaminpmPhoR7dnZzeH+FjYyLjY+NgndubniNrLGwraCalJCKiIqhqa+0sK2fmZ+lqbezu6+qfIiOk5SXmZuqtbS2ubGysra3vr23rKaeiYmKiouUmpyirKyumHxxbHCAjpGNioaDgXxycW5xd3uEj4+Mlqq1trm6raqrqa6zt7GknJuUi3lubmBhaHJ7hYyNjIqMjY+SlJCFh6SurauclY2MhoSDhIyepK+klJCQkZuhprK+uaF3fIGKlJuirK+vsLawrKqrqKant6+qooqDgoKChYmPl5mirKeklICIkpOPioeKiYuIfXl2c3FqY2NiaXGLnai3ubmwrrCur7K0sKGSjIN9cmZhWFNSUlZld4WPj46Mj4+Vn6m2s66ml5KMiYd/fn1/g4iJi4iIiomJiZWcnKGknHKAh5CYoKSnqauvsaioqKWilpKUmJSLgX17e3yAhoiMk5ekqqq0sKOXko6Li4qGgnRgWFROUFRQUWBmd5Weq7y6urO8t7Cwsbavo52OfXFmamRYUEpISElVX2d1h5abmJiktrm9u6+jlYqFfXp4enl9gIKCgICDg4KCgIuWl5SGX32IkJqbnqSoqayjo6GhnJGOi4qKiYR8d3Z2d3p/hIaNm6u5vLi2qJuanJeLfG1eSkhFRUNERUdPXWuBnqSvvru8uLu6s7KxubCkoJSEa2FZVk9JSElIS1RnaGpqcX+VqrS2tK6xr7CxsauimI+Oh356ent6eXt7eXZ1cnmNjoJebnyKk5idoaKfm5qanJOMiYaDhISCf3l2dXRzeIaWpq+xsLGws7S2rZuOfnFuaVpJRkRGRkVJUFlkdZGfqbW+vbm7trqwsLa/t6ygl4NzaF5WUE5QT09OWGxqanB8gYyapaeoqaqopaKfoJ+go6KfnI+Ce3Zyc3R1dHNxa26CfF9ocnmBhoqMj5GVlop+fn59fHx8fXt8hY6XoaWqqaano6Kmq6erraSeloyCeXN0X1BOTU1RUFNYYnmQnKSrs7q+uLWytayuury2s6ynmoR0ZFlRUFFXWFhkd3R6hoaNmZaLhYWKkpujoZ6al5OTmZmZnJyXkYyKhYB5cWtlYGZvW2NscHd8f4WOioB3c3VycnF1dXd/jJifo6CamJeWl5uho6CXjIWIlZWVm5uMf3xrVlVWW1pda32LkJafoKeyvb+5trmxrrC6wLetr6mlnpN+alpaXGFobISJhYuUk5SKgX57enl1bWdweYWPlpOPkJCSlJGPioaDe3NtZWJfXVZDWV9kbXR3e3hjaW93go2TlpiXmp2ZlZORkJCPkZaVkIJ6c3Z7e32BjZCQmZuYlIxxbG9yenh3gZCVlZmmq7S1trGmr6WkrbO9vbStqKmloJOHgoB+enWAk5GVnp2MgHx7eHZ1b2ZdWFZVVVZbZ3J6gYiPkZGOh3luaWRhW1ZUTC0/UFNWXGFiYV1nbG51eHuAhoqMkI+Ki42Qko+EcmJYV1xianB0dnl6goyPmpiZmYNubXFzb3GAi4aQoKutsbO2rJ2VlJujrLW6urevqamnlIB8fYGDip6gnpyWgX55eHRwamVeW1lWVFRSUVFRUE9NS01PUVZcaXRyXVdTSURAIisyQUtTW21fVV5mZ2pyf4ySkpOSjod/dGdbU1FSUVJTVVhdYGVrb3FzdoGQmJecn4l3enp2eHt9jpylqrG2tratpJ2do6asuby5tbKxrKummpKVmp+moZeUlYF4dHJvZ2BdW1tcWVRTUU9NTEpIR0VBPz4+PTw9PkJJQkE2MSwcISYrMTY/e2NudWtncnZvbGNdV1BNTExMTEtMTE5PUVFTVlhYWl5jZmlscHeLjpCTmJGBgH52hZGepKaqsbe1tLGnqqSlqKy3vbixrrGysKWgo6OhoJqWlZWCd3NuaGFeXVpZWVlVU09MSUdEQj89Ojc1NDEwLy0wMSwqKCUjHxQaHiImKCtdWVpgbGBFQkRBQEFAP0BBQkNEREZHSkxQUVFRVVhYXF5hZGVobXiKi4uNlZaQjJCYnqKipKu0u7i3tLCrq62usbvAvLWurq2qo6Kgn52alZaVhXZva2ljXFhZWlpbV1BMSENAPjs4NjMxLSonJCMiIiQkIBwaGhoXBw0UGx4gIiM/S1BTYDQ4NjAxMTEzNjg5Ozw8PkFERkpNUVJSU1VWWFpeYmdrbnWIi4uRlZeXm52foKeqrLC3vLy2ubK3sa+0wL62s7Csq6mmo5+dnZiUk4J2cG5pYl9ZVlZaWVNOSUM+OjY0MC0rJyQiIB4aGBcVDQkMEBESEhAGBwcJDhUZGxwbGykvICQhISIjJCcrLS8wMzU2OTw+QUVITFBSUVJTU1ZfY2hnanCFi4yRlZaYm6Kjo6WnrLjCwLzBtruztbnEwraxsK2ooqCgn56cl5KCenFsZmBbVVZWVlJPTEVBOzUwLCklIR8dHBoZFxURCwYGBgYGBwcHBgcHBwcHBwgKDA0MDAsJCQ4UFxocHiAiIyUpKiwvMzU4PEBDR0tOTk5OUldcYWRlaG6GjZGTl5ycmJygo6ewuLy7uMC/wraztb2+urKvraeioKCcm5iYiIF4cGdeWFNQUVBOSkVBOjYwKiUhHhwaGBcVFBENCgcGBgYGBgYGBgYFBgcHBwcHBwcHCAcHBwcHBwgNEhUYGRocHR4gISQoKy8zNjs/QkVHSk1OUFVZX2JmbHeJkpKVmpmanKGnq6uzuLWvqLetpKqyu7u3tbOuqKSkpZqZlY2IgXdvZFlRTUxIR0VBPDUvKiQfHBoYFhQSDgsIBwcGBgcGBgYHBgcGBwYGBwcHBwcHBwgICAgICAgICAgICAsPExYXGBkaHB4gIygsMDQ3Oj9DRkdJTVNYX2Zqc3yHjo6cm5udpKSkq7K2uLOooJ+nrrO7vrixrq+sqqilmZWPjIl/c2xhVkxIRD87OjUvKCMgHBkXFRIOCgcHBwcHBwcHBwcHBwcHBgYGBgYHBwcHBwcHBwgHBwcHBwcICAgHBwcHCQwPEhUWGBkcHSElKS0xNjs9QURHTlVcY2tye4CGipebnZyZnaWptLW1tK2tq6mrsbu8vrauqKOjoZ6XlZCOiH1xaFxQSUE7NS8rKSYgHBoXExAMCAcHBwcHBwYGBgYGBgYGBgYGBgYFBwcHBwcHBwcHBwcHBwcHBwcHBwgICAcHBwgICgwQExYYGhwfIigtMDU5PUJFTVZeZ295f4OHjJKTlJihpq+1tLW0s7Gura6zvL2/s62no6CdnJeUkIyGem9lV0tBODAnIyEhHhoXEw4KCAcHBwcGBgYGBgYGBgYGBgYGBgYGBgUHBwcHBwcICAcICAgHBwcHBwcHBwgICAgICAcHCAcJDBAUFxkcHyIlKzA2Oj9FT1hja3d+g4aLkJOTlp6ip7W5tbW5srGvrLW+wbqup6Ojn52alZGNiYJ3bWJTQzcqJCAbGhkXEwwJCAgIBwcHBwcHBgcHBwcHBgYGBgYGBgYGBQcICAgICAgICAgICAgHBwcICAcHBwcHCAgICAgICAgICAkOExYYGh0fJiwxNj5HU11pcnp/g4eNkJKWmp6krbS4uLy3trCsub27tK2mpKGempaTj4yHfnVrXUo2KSEdGBUTDwwJCAgICAcHBwcHBwcHBwcHBwcHBgYGBgYGBgYGBwgICAgICAgICAgICAgICAcICAcIBwcHBwcHBwcHBwgHBwgJCw0QExgdICYrMzxLV2VsdHmBg4mLj5SYnaWrrbK2vsC9sqy1ube2s6uln5qYlZGNiIF5cWdXPSkhGhMOCggICAkICAcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwYHCAgICAgICAgICAgICAgICAgICAgICAgICAcHBwcHBwcHCAgICAcIDBMYHB8mM0BSXWVudXuBhoqLjpeiqK6wrrC5u7Snp7O5vbm0sKmempWSjomDeXFoXk41IBILCAcHCAkICAcHBwcHBwgIBwcHBwcHBwcHBwcHBwcHBwcHBgcICAgICAgICAgICAgICAgICAgICAcICAgIBwcHBwcHBwcHCAgICAcICAsRFRomNUpSXmNudX2BiIqOlKSmrbSysrWyqKast7q9wLmxp52YkoyJg3xxZ11TRScMCQkIBwcHCAcHBwcHBwcHCAgHBwcHBwcHBwcHBwcHBwcHBwcGBgcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwYGBgYGBwcHBwgHBwgKERksPklTWmNrcXd9goeKm6WsqqeoqrCupKuvr7G1rKSakYyHgX12bWJYTj4yEQgJCQcGBQYGBgYHBwcHBwc9SwsHBwYGBwcGBgYGBgYGBgYGBgU=";
            }
            else {
                this.getImageFromService(this._image);
            }
        }
    };
    ThumbnailComponent.prototype.createImageFromBlob = function (image) {
        var _this = this;
        var reader = new FileReader();
        reader.addEventListener("load", function () {
            _this.thumbnailToShow = reader.result;
        }, false);
        if (image) {
            reader.readAsDataURL(image);
        }
    };
    ThumbnailComponent.prototype.getImageFromService = function (image) {
        var _this = this;
        if (image === null) {
            return;
        }
        this.isImageLoading = true;
        this.dicomImageService.getThumbnailFile(image).subscribe(function (data) {
            _this.createImageFromBlob(data);
            _this.isImageLoading = false;
        }, function (error) {
            _this.isImageLoading = false;
            console.log(error);
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_pssi__WEBPACK_IMPORTED_MODULE_1__["Image"]),
        __metadata("design:paramtypes", [_models_pssi__WEBPACK_IMPORTED_MODULE_1__["Image"]])
    ], ThumbnailComponent.prototype, "image", null);
    ThumbnailComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-thumbnail",
            template: __webpack_require__(/*! ./thumbnail.component.html */ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html"),
            styles: [__webpack_require__(/*! ./thumbnail.component.css */ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_3__["ImageSelectorService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_4__["DicomImageService"],
            _services_worklist_service__WEBPACK_IMPORTED_MODULE_2__["WorklistService"]])
    ], ThumbnailComponent);
    return ThumbnailComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-shell.component.css":
/*!********************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-shell.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".DivToolbar {\r\n    background-color: black;\r\n    color: #F5F5F5;\r\n    display: block;\r\n    height: 40px;\r\n    margin: 0 auto;\r\n    padding: 12px 12px 12px 12px;\r\n    width: 100%;\r\n}\r\n\r\n.DivViewerBack {\r\n    background-color: black;\r\n    color: #F5F5F5;\r\n    display: flex;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    padding: 1px;\r\n    width: 100%;\r\n}\r\n\r\n.DivOperationBar {\r\n    background-color: black;\r\n   \r\n    bottom: 0;\r\n    color: #F5F5F5;\r\n    display: block;\r\n    height: 40px;\r\n    margin: 2px auto;\r\n    position: fixed;\r\n    width: 100%;\r\n}\r\n\r\n/*#DivLeft\r\n{\r\n  display:block;\r\n  float:left;\r\n  width:200px;\r\n  margin:0 auto;\r\n  height: 650px;\r\n  padding: 12px 12px 12px 16px;\r\n  border-bottom: solid 4px #FFFFFF;\r\n  border-right: solid 4px #FFFFFF;\r\n  background-color: #000000;\r\n  color: #F5F5F5;\r\n}\r\n\r\n#DivRight\r\n{\r\n  display:block;\r\n  float:left;\r\n  width:744px;\r\n  margin:0 auto;\r\n  height: 650px;\r\n  padding: 12px 12px 12px 16px;\r\n  border-bottom: solid 4px #FFFFFF;\r\n  background-color: #000000;\r\n  color: #F5F5F5;\r\n}*/\r\n\r\n#divContainer {\r\n    bottom: 0px;\r\n    left: 0px;\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 40px;\r\n    border-bottom: 2px solid #666;\r\n}\r\n\r\n#panelStudyDash {\r\n    background-color: #808080;\r\n    border: none;\r\n    margin: 0px;\r\n    padding: 5px 10px;\r\n    visibility: visible;\r\n}\r\n\r\n#panelStudyDash button {\r\n    border: none;\r\n    height: 30px;\r\n    outline: none;\r\n    width: 100px;\r\n}\r\n\r\n#panelStudyDash .save-query {\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n#panelStudyDash .checkbox {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}\r\n\r\n#panelStudyDash #statusLabel { margin: 0px; }\r\n\r\n#divStudies {\r\n    margin-bottom: 0px;\r\n    min-height: 200px;\r\n    position: static;\r\n    width: 100%;\r\n}\r\n\r\n/*#divStudies::-webkit-scrollbar{\r\n    width:16px;\r\n    background-color:black;\r\n}\r\n\r\n#divStudies::-webkit-scrollbar-thumb{\r\n    background-color:#535353;\r\n    border-radius: 10px;\r\n}*/\r\n\r\n@media (min-width: 768px) {    \r\n    #panelStudyDash .checkbox { top: -2px; }\r\n\r\n    #panelStudyDash .checkbox label input { top: 2px; }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    #divStudies {\r\n        border: none;\r\n        left: 1px;\r\n        position: absolute;\r\n        right: 1px;\r\n        top: 42px;\r\n        visibility: visible;\r\n    }\r\n\r\n    #panelStudyDash {\r\n        left: 1px;\r\n        padding: 5px 2px;\r\n        position: absolute;\r\n        right: 1px;\r\n        visibility: visible;\r\n    }\r\n\r\n    #panelStudyDash .form-group, .checkbox, button {\r\n        display: inline-block;\r\n        margin: 0px;\r\n    }\r\n\r\n    #panelStudyDash #statusLabel { display: none; }\r\n\r\n    #panelStudyDash .save-query { display: none; }\r\n\r\n    #panelStudyDash .checkbox {\r\n        margin-left: 5px;\r\n        margin-right: 5px;\r\n        top: -10px;\r\n    }\r\n\r\n    .sp_panel-container, .sp_panel-left, .sp_panel-right {\r\n        visibility: hidden;\r\n        z-index: 0;\r\n    }\r\n}\r\n\r\n#queryTree .node-queryTree { padding: 2px 2px; }\r\n\r\n.query { background: url('Query_All.png') no-repeat left top; }\r\n\r\n.query:active { background: url('Query_All.png') no-repeat right top; }\r\n\r\n.queryClear { background: url('ClearCondition_All.png') no-repeat left top; }\r\n\r\n.queryClear:active { background: url('ClearCondition_All.png') no-repeat right top; }\r\n\r\n/* horizontal panel*/\r\n\r\n.sp_panel-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    /* avoid browser level touch actions */\r\n    /*xtouch-action: none;*/\r\n}\r\n\r\n.sp_panel-left {\r\n    -ms-overflow-style: none;\r\n    /*min-width: 1px;*/\r\n    /*white-space: nowrap;*/\r\n    background: #07090c;\r\n    display: flex;\r\n    flex: 0 0 auto;\r\n    flex-direction: column;\r\n    min-height: 200px;\r\n    overflow: -moz-hidden-unscrollable;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    /* only manually resize */\r\n    padding: 6px;\r\n    width: 200px;\r\n    /*color: white;*/\r\n}\r\n\r\n.sp_panel-left::-webkit-scrollbar { display: none; }\r\n\r\n.sp_splitter {\r\n    background: url('split_vertical_collapse.jpg') center center no-repeat #535353;\r\n    cursor: pointer;\r\n    flex: 0 0 auto;\r\n    min-height: 200px;\r\n    width: 8px;\r\n}\r\n\r\n.sp_panel-right {\r\n    background: black;\r\n    flex: 1 1 auto;\r\n    min-height: 200px;\r\n    min-width: 200px;\r\n    /* resizable */\r\n    padding-bottom: 80px;\r\n    width: 100%;\r\n}\r\n\r\n/* vertical panel */\r\n\r\n.sp_panel-container-vertical {\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n}\r\n\r\n.sp_panel-top {\r\n    flex: 0 0 auto;\r\n    /* only manually resize */\r\n    /*padding: 10px;*/\r\n    height: 70%;\r\n    min-height: 300px;\r\n    overflow-y: auto;\r\n    width: 100%;\r\n    /*white-space: nowrap;\r\n  background: #838383;\r\n  color: white;*/\r\n    z-index: 0;\r\n}\r\n\r\n.sp_splitter-horizontal {\r\n    background: url('split_horizontal_collapse.jpg') center center no-repeat #535353;\r\n    cursor: pointer;\r\n    flex: 0 0 auto;\r\n    height: 8px;\r\n    z-index: 2;\r\n}\r\n\r\n.sp_panel-bottom {\r\n    flex: 1 1 auto;\r\n    /* resizable */\r\n    /*padding: 10px;*/\r\n    min-height: 200px;\r\n    overflow-y: auto;\r\n    /*background: #eee;*/\r\n    z-index: 1;\r\n}\r\n\r\n.navbar-right { padding-right: 10px; }\r\n\r\n.sp_panel-right .table { white-space: nowrap; }\r\n\r\n#trStudiesHeader a { color: black; }\r\n\r\n#trSeriesHeader a { color: black; }\r\n\r\n#trStudiesQuery input[type=text] {\r\n    vertical-align: middle;\r\n    width: 100%;\r\n}\r\n\r\n#trStudiesQuery select { width: 100%; }\r\n\r\n#trStudiesQuery td:nth-child(n + 2) {\r\n    margin: 0px;\r\n    padding: 1px;\r\n    vertical-align: middle;\r\n}\r\n\r\n#trStudiesQuery .dropdown .btn {\r\n    min-width: 70px;\r\n    padding: 1px 6px;\r\n}\r\n\r\n#leftPanelTop { flex: 1 1 auto; }\r\n\r\n#leftPanelBottom {\r\n    flex: 0 0 auto;\r\n    height: 20%;\r\n}\r\n\r\n#formUploadImage input[type=file] { width: 600px; }\r\n\r\n#tblSeries td:nth-child(1) { text-align: center; }\r\n\r\n#tblSeries img {\r\n    height: 50px;\r\n    margin: auto;\r\n    width: 50px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXNoZWxsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLGNBQWM7SUFDZCxZQUFZO0lBQ1osY0FBYztJQUNkLDRCQUE0QjtJQUM1QixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLGFBQWE7SUFDYixZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx1QkFBdUI7O0lBRXZCLFNBQVM7SUFDVCxjQUFjO0lBQ2QsY0FBYztJQUNkLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLFdBQVc7QUFDZjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXlCRTs7QUFHRjtJQUNJLFdBQVc7SUFDWCxTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixTQUFTO0lBQ1QsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7O0FBRUEsK0JBQStCLFdBQVcsRUFBRTs7QUFFNUM7SUFDSSxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7Ozs7Ozs7O0VBUUU7O0FBRUY7SUFDSSw0QkFBNEIsU0FBUyxFQUFFOztJQUV2Qyx3Q0FBd0MsUUFBUSxFQUFFO0FBQ3REOztBQUVBO0lBQ0k7UUFDSSxZQUFZO1FBQ1osU0FBUztRQUNULGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsU0FBUztRQUNULG1CQUFtQjtJQUN2Qjs7SUFFQTtRQUNJLFNBQVM7UUFDVCxnQkFBZ0I7UUFDaEIsa0JBQWtCO1FBQ2xCLFVBQVU7UUFDVixtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxxQkFBcUI7UUFDckIsV0FBVztJQUNmOztJQUVBLCtCQUErQixhQUFhLEVBQUU7O0lBRTlDLDhCQUE4QixhQUFhLEVBQUU7O0lBRTdDO1FBQ0ksZ0JBQWdCO1FBQ2hCLGlCQUFpQjtRQUNqQixVQUFVO0lBQ2Q7O0lBRUE7UUFDSSxrQkFBa0I7UUFDbEIsVUFBVTtJQUNkO0FBQ0o7O0FBRUEsNkJBQTZCLGdCQUFnQixFQUFFOztBQUUvQyxTQUFTLG1EQUE0RSxFQUFFOztBQUV2RixnQkFBZ0Isb0RBQTZFLEVBQUU7O0FBRS9GLGNBQWMsNERBQXFGLEVBQUU7O0FBRXJHLHFCQUFxQiw2REFBc0YsRUFBRTs7QUFFN0csb0JBQW9COztBQUVwQjtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHNDQUFzQztJQUN0Qyx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGNBQWM7SUFDZCxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGtDQUFrQztJQUNsQyxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjs7QUFFQSxvQ0FBb0MsYUFBYSxFQUFFOztBQUVuRDtJQUNJLDhFQUF1RztJQUN2RyxlQUFlO0lBQ2YsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixXQUFXO0FBQ2Y7O0FBR0EsbUJBQW1COztBQUVuQjtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYOztnQkFFWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdGQUF5RztJQUN6RyxlQUFlO0lBQ2YsY0FBYztJQUNkLFdBQVc7SUFDWCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixVQUFVO0FBQ2Q7O0FBRUEsZ0JBQWdCLG1CQUFtQixFQUFFOztBQUVyQyx5QkFBeUIsbUJBQW1CLEVBQUU7O0FBRTlDLHFCQUFxQixZQUFZLEVBQUU7O0FBRW5DLG9CQUFvQixZQUFZLEVBQUU7O0FBRWxDO0lBQ0ksc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7QUFFQSx5QkFBeUIsV0FBVyxFQUFFOztBQUV0QztJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQSxnQkFBZ0IsY0FBYyxFQUFFOztBQUVoQztJQUNJLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUEsb0NBQW9DLFlBQVksRUFBRTs7QUFFbEQsNkJBQTZCLGtCQUFrQixFQUFFOztBQUVqRDtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXNoZWxsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuRGl2VG9vbGJhciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDEycHggMTJweCAxMnB4IDEycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLkRpdlZpZXdlckJhY2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogI0Y1RjVGNTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uRGl2T3BlcmF0aW9uQmFyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICBcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDJweCBhdXRvO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qI0RpdkxlZnRcclxue1xyXG4gIGRpc3BsYXk6YmxvY2s7XHJcbiAgZmxvYXQ6bGVmdDtcclxuICB3aWR0aDoyMDBweDtcclxuICBtYXJnaW46MCBhdXRvO1xyXG4gIGhlaWdodDogNjUwcHg7XHJcbiAgcGFkZGluZzogMTJweCAxMnB4IDEycHggMTZweDtcclxuICBib3JkZXItYm90dG9tOiBzb2xpZCA0cHggI0ZGRkZGRjtcclxuICBib3JkZXItcmlnaHQ6IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNGNUY1RjU7XHJcbn1cclxuXHJcbiNEaXZSaWdodFxyXG57XHJcbiAgZGlzcGxheTpibG9jaztcclxuICBmbG9hdDpsZWZ0O1xyXG4gIHdpZHRoOjc0NHB4O1xyXG4gIG1hcmdpbjowIGF1dG87XHJcbiAgaGVpZ2h0OiA2NTBweDtcclxuICBwYWRkaW5nOiAxMnB4IDEycHggMTJweCAxNnB4O1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNGNUY1RjU7XHJcbn0qL1xyXG5cclxuXHJcbiNkaXZDb250YWluZXIge1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdG9wOiA0MHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM2NjY7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODA4MDgwO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCBidXR0b24ge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIC5zYXZlLXF1ZXJ5IHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCAjc3RhdHVzTGFiZWwgeyBtYXJnaW46IDBweDsgfVxyXG5cclxuI2RpdlN0dWRpZXMge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBwb3NpdGlvbjogc3RhdGljO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFye1xyXG4gICAgd2lkdGg6MTZweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XHJcbn1cclxuXHJcbiNkaXZTdHVkaWVzOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IzUzNTM1MztcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn0qL1xyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7ICAgIFxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7IHRvcDogLTJweDsgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuY2hlY2tib3ggbGFiZWwgaW5wdXQgeyB0b3A6IDJweDsgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgICNkaXZTdHVkaWVzIHtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICByaWdodDogMXB4O1xyXG4gICAgICAgIHRvcDogNDJweDtcclxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gICAgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCB7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCAycHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAxcHg7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmZvcm0tZ3JvdXAsIC5jaGVja2JveCwgYnV0dG9uIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoICNzdGF0dXNMYWJlbCB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLnNhdmUtcXVlcnkgeyBkaXNwbGF5OiBub25lOyB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgICAgICB0b3A6IC0xMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5zcF9wYW5lbC1jb250YWluZXIsIC5zcF9wYW5lbC1sZWZ0LCAuc3BfcGFuZWwtcmlnaHQge1xyXG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4jcXVlcnlUcmVlIC5ub2RlLXF1ZXJ5VHJlZSB7IHBhZGRpbmc6IDJweCAycHg7IH1cclxuXHJcbi5xdWVyeSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9RdWVyeV9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeTphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnF1ZXJ5Q2xlYXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vQ2xlYXJDb25kaXRpb25fQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucXVlcnlDbGVhcjphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vQ2xlYXJDb25kaXRpb25fQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLyogaG9yaXpvbnRhbCBwYW5lbCovXHJcblxyXG4uc3BfcGFuZWwtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIC8qIGF2b2lkIGJyb3dzZXIgbGV2ZWwgdG91Y2ggYWN0aW9ucyAqL1xyXG4gICAgLyp4dG91Y2gtYWN0aW9uOiBub25lOyovXHJcbn1cclxuXHJcbi5zcF9wYW5lbC1sZWZ0IHtcclxuICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTtcclxuICAgIC8qbWluLXdpZHRoOiAxcHg7Ki9cclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDsqL1xyXG4gICAgYmFja2dyb3VuZDogIzA3MDkwYztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIG92ZXJmbG93OiAtbW96LWhpZGRlbi11bnNjcm9sbGFibGU7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIHBhZGRpbmc6IDZweDtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIC8qY29sb3I6IHdoaXRlOyovXHJcbn1cclxuXHJcbi5zcF9wYW5lbC1sZWZ0Ojotd2Via2l0LXNjcm9sbGJhciB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbi5zcF9zcGxpdHRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc3BsaXRfdmVydGljYWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHdpZHRoOiA4cHg7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgLyogcmVzaXphYmxlICovXHJcbiAgICBwYWRkaW5nLWJvdHRvbTogODBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuLyogdmVydGljYWwgcGFuZWwgKi9cclxuXHJcbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uc3BfcGFuZWwtdG9wIHtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgaGVpZ2h0OiA3MCU7XHJcbiAgICBtaW4taGVpZ2h0OiAzMDBweDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBiYWNrZ3JvdW5kOiAjODM4MzgzO1xyXG4gIGNvbG9yOiB3aGl0ZTsqL1xyXG4gICAgei1pbmRleDogMDtcclxufVxyXG5cclxuLnNwX3NwbGl0dGVyLWhvcml6b250YWwge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NwbGl0X2hvcml6b250YWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDhweDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1ib3R0b20ge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgICAvKiByZXNpemFibGUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLypiYWNrZ3JvdW5kOiAjZWVlOyovXHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4ubmF2YmFyLXJpZ2h0IHsgcGFkZGluZy1yaWdodDogMTBweDsgfVxyXG5cclxuLnNwX3BhbmVsLXJpZ2h0IC50YWJsZSB7IHdoaXRlLXNwYWNlOiBub3dyYXA7IH1cclxuXHJcbiN0clN0dWRpZXNIZWFkZXIgYSB7IGNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RyU2VyaWVzSGVhZGVyIGEgeyBjb2xvcjogYmxhY2s7IH1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSBpbnB1dFt0eXBlPXRleHRdIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuI3RyU3R1ZGllc1F1ZXJ5IHNlbGVjdCB7IHdpZHRoOiAxMDAlOyB9XHJcblxyXG4jdHJTdHVkaWVzUXVlcnkgdGQ6bnRoLWNoaWxkKG4gKyAyKSB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24gLmJ0biB7XHJcbiAgICBtaW4td2lkdGg6IDcwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggNnB4O1xyXG59XHJcblxyXG4jbGVmdFBhbmVsVG9wIHsgZmxleDogMSAxIGF1dG87IH1cclxuXHJcbiNsZWZ0UGFuZWxCb3R0b20ge1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDIwJTtcclxufVxyXG5cclxuI2Zvcm1VcGxvYWRJbWFnZSBpbnB1dFt0eXBlPWZpbGVdIHsgd2lkdGg6IDYwMHB4OyB9XHJcblxyXG4jdGJsU2VyaWVzIHRkOm50aC1jaGlsZCgxKSB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxyXG5cclxuI3RibFNlcmllcyBpbWcge1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-shell.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-shell.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [style.visibility]=\"viewerShellData.hide? 'hidden' : 'visible'\" id=\"divContainer\" class=\"sp_panel-container\">\r\n    <div class=\"sp_panel-left\">\r\n        <app-navigation [viewerShellData]=\"viewerShellData\" (layout)=\"onChangeGroupLayout($event)\"></app-navigation>\r\n    </div>\r\n\r\n    <div class=\"sp_splitter\">\r\n    </div>\r\n\r\n    <div class=\"sp_panel-right\">\r\n        <div class=\"DivToolbar\">\r\n            <app-viewer-toolbar (layout)=\"onChangeGroupLayout($event)\"></app-viewer-toolbar>\r\n        </div>\r\n\r\n        <div class=\"DivViewerBack\">\r\n            <div class=\"div-flex-column\" *ngFor=\"let b of Arr(viewerShellData.groupMatrix.colCount).fill(1); let colIndex = index\">\r\n                <div class=\"div-flex-row\" *ngFor=\"let a of Arr(viewerShellData.groupMatrix.rowCount).fill(1); let rowIndex = index\">\r\n                    <app-group-viewer [groupData]=\"getGroupData(rowIndex, colIndex)\" class=\"div-flex-row\">\r\n                    </app-group-viewer>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"DivOperationBar\">\r\n            \r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-shell.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-shell.component.ts ***!
  \*******************************************************************/
/*! exports provided: ViewerShellComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShellComponent", function() { return ViewerShellComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./group-viewer/group-viewer.component */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
/* harmony import */ var _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ViewerShellComponent = /** @class */ (function () {
    function ViewerShellComponent(shellNavigatorService, hangingProtocolService, logService) {
        var _this = this;
        this.shellNavigatorService = shellNavigatorService;
        this.hangingProtocolService = hangingProtocolService;
        this.logService = logService;
        this.Arr = Array; //Array type captured in a variable
        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(function (viewerShellData) {
            _this.viewerShellData.hide =
                (viewerShellData === null || viewerShellData.getId() !== _this.viewerShellData.getId());
        });
    }
    ViewerShellComponent.prototype.ngOnInit = function () {
        this.onChangeGroupLayout(this.viewerShellData.defaultGroupHangingProtocol);
    };
    ViewerShellComponent.prototype.ngAfterViewInit = function () {
        var self = this;
        $(".sp_panel-left").spResizable({
            handleSelector: ".sp_splitter",
            resizeHeight: false
        });
        $(window).resize(function () {
            self.onResize();
        });
        this.onResize();
    };
    ViewerShellComponent.prototype.onChangeGroupLayout = function (groupHangingProtocolNumber) {
        if (this.childGroups) {
            this.childGroups.forEach(function (child) { return child.setHeight(0); });
        }
        this.hangingProtocolService.applyGroupHangingProtocol(this.viewerShellData, groupHangingProtocolNumber);
        this.groupDataList = this.viewerShellData.groupDataList;
        this.onResize();
    };
    ViewerShellComponent.prototype.onResize = function () {
        //if (this.viewerShellData.hide)
        //    return;
        if (!this.childGroups)
            return;
        this.logService.debug("Viewer: onResize()");
        this.childGroups.forEach(function (groupViewer) {
            groupViewer.onResize();
        });
    };
    ViewerShellComponent.prototype.getGroupData = function (rowIndex, colIndex) {
        var groupIndex = rowIndex * this.viewerShellData.groupMatrix.colCount + colIndex;
        return this.groupDataList[groupIndex];
        //return this.viewerShellData.getGroup(rowIndex, colIndex);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])(_group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_1__["GroupViewerComponent"]),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], ViewerShellComponent.prototype, "childGroups", void 0);
    ViewerShellComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-viewer-shell",
            template: __webpack_require__(/*! ./viewer-shell.component.html */ "./src/app/components/viewer-shell/viewer-shell.component.html"),
            styles: [__webpack_require__(/*! ./viewer-shell.component.css */ "./src/app/components/viewer-shell/viewer-shell.component.css")]
        }),
        __metadata("design:paramtypes", [_services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_2__["ShellNavigatorService"],
            _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__["HangingProtocolService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_4__["LogService"]])
    ], ViewerShellComponent);
    return ViewerShellComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".imageOperate-div {\r\n    height: 44px;\r\n    margin-left: -20px;\r\n    margin-top: -10px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXRvb2xiYXIvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXRvb2xiYXIvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWFnZU9wZXJhdGUtZGl2IHtcclxuICAgIGhlaWdodDogNDRweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMjBweDtcclxuICAgIG1hcmdpbi10b3A6IC0xMHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--<button class=\"image-button\" (click)=\"onRotate(30)\">Rotate</button>\r\n<button class=\"image-button\" (click)=\"onAddRuler()\">Ruler</button>\r\n-->\r\n\r\n<div class=\"container-fluid\">\r\n    <div class=\"row imageOperate-div\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"selectPanButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"zoomButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"magnifyButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"wlButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"selectAnnotationButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"fitButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"rotateFlipButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"resetButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"keyImageButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"markerButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"simpleAnnotation1ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"extendAnnotation1ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"extendAnnotation2ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\" />\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showAnnotationButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showOverlayButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showRulerButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showGraphicOverlayButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>\r\n<!--\r\n<div class=\"collapse navbar-collapse\" id=\"navTopToggle\">\r\n    <ul id=\"navBarGroup\" class=\"nav navbar-nav\">\r\n        <li class=\"\">\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnSelect\" alt=\"Select\" title=\"Select\" src=\"../../../../assets/img/Toolbar/selection/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnPan\" alt=\"Pan\" title=\"Pan\" src=\"../../../../assets/img/Toolbar/Pan/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <img class=\"btnRotate\" alt=\"RotateCCW\" title=\"RotateCCW\" src=\"../../../../assets/img/Toolbar/Rotateccw/normal/bitmap_h.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu swith-menu\">\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"RotateCCW\" title=\"RotateCCW\" src=\"../../../../assets/img/Toolbar/Rotateccw/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"RotateCW\" title=\"RotateCW\" src=\"../../../../assets/img/Toolbar/Rotatecw/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"VFlip\" title=\"VFlip\" src=\"../../../../assets/img/Toolbar/FlipV/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"HFlip\" title=\"HFlip\" src=\"../../../../assets/img/Toolbar/FlipH/normal/bitmap_h.gif\" />\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <img class=\"btnZoom\" alt=\"Zoom\" title=\"Zoom\" src=\"../../../../assets/img/Toolbar/Zoom/normal/bitmap_h.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu swith-menu\">\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"Zoom\" title=\"Zoom\" src=\"../../../../assets/img/Toolbar/Zoom/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"MagnifyX2\" title=\"MagnifyX2\" src=\"../../../../assets/img/Toolbar/magnify2/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"MagnifyX4\" title=\"MagnifyX4\" src=\"../../../../assets/img/Toolbar/magnify4/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"ROIZoom\" title=\"ROI Zoom\" src=\"../../../../assets/img/Toolbar/rectzoom/normal/bitmap_h.gif\" />\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <img class=\"btnScoutLine\" alt=\"ScoutLine\" title=\"ScoutLine\" src=\"../../../../assets/img/Toolbar/scoutline_set/normal/bitmap_h.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu swith-menu\">\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLine\" title=\"Set ScoutLine\" src=\"../../../../assets/img/Toolbar/scoutline_set/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLineAll\" title=\"Set ScoutLine All\" src=\"../../../../assets/img/Toolbar/scoutline_set_all/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLineSrc\" title=\"Set ScoutLine Source\" src=\"../../../../assets/img/Toolbar/scoutline_src_set/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLineDest\" title=\"Set ScoutLine Destination\" src=\"../../../../assets/img/Toolbar/scoutline_dst_set/normal/bitmap_h.gif\" />\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnWL\" alt=\"W/L\" title=\"W/L\" src=\"../../../../assets/img/Toolbar/WL/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnInvert\" alt=\"Invert\" title=\"Invert\" src=\"../../../../assets/img/Toolbar/Invert/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnReset\" alt=\"TrueSize\" title=\"TrueSize\" src=\"../../../../assets/img/Toolbar/Reset/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"nav\">\r\n                <img title=\"Markers\" src=\"../../../../assets/img/Toolbar/ann_stamp/normal/bitmap.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu\">\r\n                <li id=\"liMarkerTab\">\r\n                    <ul class=\"nav nav-tabs nav-justified\">\r\n                        <li class=\"active\"><a id=\"tabMarkerPanel1\" data-toggle=\"tab\" href=\"#divMarkerPanel1\">Favorites</a></li>\r\n                        <li><a id=\"tabMarkerPanel2\" data-toggle=\"tab\" href=\"#divMarkerPanel2\">Panel 2</a></li>\r\n                        <li><a id=\"tabMarkerPanel3\" data-toggle=\"tab\" href=\"#divMarkerPanel3\">Panel 3</a></li>\r\n                    </ul>\r\n                    <div class=\"tab-content\">\r\n                        <div id=\"divMarkerPanel1\" class=\"tab-pane in active\">\r\n                            <div>\r\n                                <table class=\"table table-bordered table-marker\">\r\n                                    <tbody id=\"tblMarkerTable1\"></tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"divMarkerPanel2\" class=\"tab-pane\">\r\n                            <table class=\"table table-bordered table-marker\">\r\n                                <tbody id=\"tblMarkerTable2\"></tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div id=\"divMarkerPanel3\" class=\"tab-pane\">\r\n                            <table class=\"table table-bordered table-marker\">\r\n                                <tbody id=\"tblMarkerTable3\"></tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnBestFit\" alt=\"BestFit\" title=\"BestFit\" src=\"../../../../assets/img/Toolbar/fitwindow/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddRect\" alt=\"annRect\" title=\"Rect\" src=\"../../../../assets/img/Toolbar/ann_rectangle/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddRuler\" alt=\"annLine\" title=\"Ruler\" src=\"../../../../assets/img/Toolbar/Ruler/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddCurve\" alt=\"annCurve\" title=\"Curve\" src=\"../../../../assets/img/Toolbar/ann_cervicalcurve/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddAngle\" alt=\"annAngle\" title=\"Angle\" src=\"../../../../assets/img/Toolbar/ann_angle/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnShowOverlay\" alt=\"ShowOverlay\" title=\"Show Overlay\" src=\"../../../../assets/img/Toolbar/showoverlay/down/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnShowAnnotation\" alt=\"ShowAnnotation\" title=\"Show Annotation\" src=\"../../../../assets/img/Toolbar/showannotation/down/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnShowRuler\" alt=\"ShowRuler\" title=\"Show Ruler\" src=\"../../../../assets/img/Toolbar/showruler/down/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    <ul class=\"nav navbar-nav\">\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnDelete\" alt=\"Delete\" title=\"Delete\" src=\"../../../../assets/img/Toolbar/Delete.png\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnSave\" alt=\"Save\" title=\"Save\" src=\"../../../../assets/img/Toolbar/Save.png\" />\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n-->\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts ***!
  \************************************************************************************/
/*! exports provided: ViewerToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerToolbarComponent", function() { return ViewerToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _annotation_extend_object_ann_line__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
/* harmony import */ var _annotation_extend_object_ann_ellipse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-ellipse */ "./src/app/annotation/extend-object/ann-ellipse.ts");
/* harmony import */ var _annotation_extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-rectangle */ "./src/app/annotation/extend-object/ann-rectangle.ts");
/* harmony import */ var _annotation_extend_object_ann_arrow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-arrow */ "./src/app/annotation/extend-object/ann-arrow.ts");
/* harmony import */ var _annotation_extend_object_ann_curve__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-curve */ "./src/app/annotation/extend-object/ann-curve.ts");
/* harmony import */ var _annotation_extend_object_ann_ruler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-ruler */ "./src/app/annotation/extend-object/ann-ruler.ts");
/* harmony import */ var _annotation_extend_object_ann_cardiothoracic_ratio__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-cardiothoracic-ratio */ "./src/app/annotation/extend-object/ann-cardiothoracic-ratio.ts");
/* harmony import */ var _annotation_extend_object_ann_vertical_axis__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-vertical-axis */ "./src/app/annotation/extend-object/ann-vertical-axis.ts");
/* harmony import */ var _annotation_extend_object_ann_mark_spot__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-mark-spot */ "./src/app/annotation/extend-object/ann-mark-spot.ts");
/* harmony import */ var _annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../annotation/extend-object/ann-image */ "./src/app/annotation/extend-object/ann-image.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var ViewerToolbarComponent = /** @class */ (function () {
    function ViewerToolbarComponent(imageSelectorService, viewContext, configurationService) {
        this.imageSelectorService = imageSelectorService;
        this.viewContext = viewContext;
        this.configurationService = configurationService;
        this.layout = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.selectPanButtonMenuList = [
            {
                name: "selection",
                tip: "Select",
                operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Select }
            },
            { name: "Pan", tip: "Pan", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Pan } }
        ];
        this.rotateFlipButtonMenuList = [
            { name: "FlipH", tip: "Flip Horizontal", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Flip, data: false } },
            { name: "FlipV", tip: "Flip Vertical", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Flip, data: true } },
            { name: "Rotatecw", tip: "Rotate CW", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Rotate, data: { angle: 90 } } },
            { name: "Rotateccw", tip: "Rotate CCW", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Rotate, data: { angle: -90 } } }
        ];
        this.zoomButtonMenuList = [
            { name: "Zoom", tip: "Zoom", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Zoom } },
            {
                name: "rectzoom",
                tip: "ROI Zoom",
                operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].ROIZoom }
            }
        ];
        this.magnifyButtonMenuList = [
            {
                name: "magnify2",
                tip: "Magnify X 2",
                operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].MagnifyX2 }
            },
            {
                name: "magnify4",
                tip: "Magnify X 4",
                operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].MagnifyX4 }
            },
            {
                name: "magnify8",
                tip: "Magnify X 8",
                operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].MagnifyX8 }
            },
        ];
        this.fitButtonMenuList = [
            { name: "fitheight", tip: "Fit Height", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitHeight, data: null } },
            { name: "fitoriginal", tip: "Fit Original", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitOriginal, data: null } },
            { name: "fitwidth", tip: "Fit Width", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitWidth, data: null } },
            { name: "fitwindow", tip: "Scale to Fit", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitWindow, data: null } }
        ];
        this.wlButtonMenuList = [
            { name: "WL", tip: "W/L", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].WL } },
            { name: "ROI", tip: "ROI W/L", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].ROIWL } },
            { name: "ManualWL", tip: "Manual W/L", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ManualWL, data: null } },
            { name: "Invert", tip: "Invert", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Invert, data: null } }
        ];
        this.keyImageButtonMenu = {
            name: "SetKeyImage",
            tip: "Key Image",
            operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ToggleKeyImage, data: null }
        };
        this.resetButtonMenu = {
            name: "Reset", tip: "Reset", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Reset, data: null }
        };
        this.showAnnotationButtonMenu = {
            name: "showannotation",
            tip: "Show Annotation",
            operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowAnnotation, data: null }
        };
        this.showOverlayButtonMenu = {
            name: "showoverlay",
            tip: "Show Overlay",
            operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowOverlay, data: null }
        };
        this.showRulerButtonMenu = {
            name: "showruler",
            tip: "Show Ruler",
            operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowRuler, data: null }
        };
        this.showGraphicOverlayButtonMenu = {
            name: "showgraphicoverlay",
            tip: "Show Graphic Overlay",
            operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowGraphicOverlay, data: null }
        };
        this.selectAnnotationButtonMenu = {
            name: "ann_selection",
            tip: "Select Annotation",
            operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn }
        };
        this.simpleAnnotation1ButtonMenu = [
            { name: "ann_line", tip: "Line", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_line__WEBPACK_IMPORTED_MODULE_5__["AnnLine"], "Line", "ann_line", false)) } },
            { name: "ann_ellipse", tip: "Eclipse", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_ellipse__WEBPACK_IMPORTED_MODULE_6__["AnnEllipse"], "Ellipse", "ellipse", false)) } },
            { name: "ann_rectangle", tip: "Rectangle", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_7__["AnnRectangle"], "Rectangle", "rect", false)) } },
            { name: "ann_arrow", tip: "Arrow", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_arrow__WEBPACK_IMPORTED_MODULE_8__["AnnArrow"], "Arrow", "ann_line", false))
                }
            },
            {
                name: "ann_ruler", tip: "Ruler", operationData: {
                    type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_ruler__WEBPACK_IMPORTED_MODULE_10__["AnnRuler"], "Ruler", "ann_line", false))
                }
            },
            { name: "ann_vaxis", tip: "Vertical Axis", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_vertical_axis__WEBPACK_IMPORTED_MODULE_12__["AnnVerticalAxis"], "Vertical Axis", "ann_cervicalcurve", false)) } },
            { name: "ann_humanmarkspot", tip: "Mark Spot", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_mark_spot__WEBPACK_IMPORTED_MODULE_13__["AnnMarkSpot"], "Mark Spot", "ann_line", true)) } }
        ];
        this.extendAnnotation1ButtonMenu = [
            { name: "ann_cervicalcurve", tip: "Cervical Curve", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_curve__WEBPACK_IMPORTED_MODULE_9__["AnnCurve"], "Cervical Curve", "ann_cervicalcurve", true)) } }
        ];
        this.extendAnnotation2ButtonMenu = [
            { name: "ann_heartchestratio", tip: "Cardiothoracic Ratio", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_cardiothoracic_ratio__WEBPACK_IMPORTED_MODULE_11__["AnnCardiothoracicRatio"], "Cardiothoracic Ratio", "ann_cervicalcurve", true)) } }
        ];
        this.markerButtonMenu = {
            name: "ann_stamp", tip: "Markers", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, new _models_annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"](_annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_14__["AnnImage"], "Marker", "ann_stamp", false))
            }
        };
        this.buttonDivideSrc = this.configurationService.getBaseUrl() + "assets/img/DicomViewer/fenge2.png";
    }
    ViewerToolbarComponent.prototype.ngOnInit = function () {
    };
    ViewerToolbarComponent.prototype.getButtonDivideSrc = function () {
        return this.buttonDivideSrc;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], ViewerToolbarComponent.prototype, "layout", void 0);
    ViewerToolbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-viewer-toolbar",
            template: __webpack_require__(/*! ./viewer-toolbar.component.html */ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html"),
            styles: [__webpack_require__(/*! ./viewer-toolbar.component.css */ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__["ImageSelectorService"],
            _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextService"],
            _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__["ConfigurationService"]])
    ], ViewerToolbarComponent);
    return ViewerToolbarComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".loadImage, .loadKeyImage, .setRead, .setUnread, .changeImageSeriesOrder, .reassign, .transfer, .tagEdit, .deletePrevent, .deleteAllow, .delete, .import {\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.loadImage { background: url('LoadImage_40_40_All.png') no-repeat left top; }\r\n\r\n.loadImage:hover { background: url('LoadImage_40_40_All.png') no-repeat right top; }\r\n\r\n.loadImage:active { background: url('LoadImage_40_40_All.png') no-repeat left bottom; }\r\n\r\n.loadImage:disabled { background: url('LoadImage_40_40_All.png') no-repeat right bottom; }\r\n\r\n.loadKeyImage { background: url('loadKeyImage_40_40_All.png') no-repeat left top; }\r\n\r\n.loadKeyImage:hover { background: url('loadKeyImage_40_40_All.png') no-repeat right top; }\r\n\r\n.loadKeyImage:active { background: url('loadKeyImage_40_40_All.png') no-repeat left bottom; }\r\n\r\n.loadKeyImage:disabled { background: url('loadKeyImage_40_40_All.png') no-repeat right bottom; }\r\n\r\n.setRead { background: url('setRead_40_40_All.png') no-repeat left top; }\r\n\r\n.setRead:hover { background: url('setRead_40_40_All.png') no-repeat right top; }\r\n\r\n.setRead:active { background: url('setRead_40_40_All.png') no-repeat left bottom; }\r\n\r\n.setRead:disabled { background: url('setRead_40_40_All.png') no-repeat right bottom; }\r\n\r\n.setUnread { background: url('setUnread_40_40_All.png') no-repeat left top; }\r\n\r\n.setUnread:hover { background: url('setUnread_40_40_All.png') no-repeat right top; }\r\n\r\n.setUnread:active { background: url('setUnread_40_40_All.png') no-repeat left bottom; }\r\n\r\n.setUnread:disabled { background: url('setUnread_40_40_All.png') no-repeat right bottom; }\r\n\r\n.changeImageSeriesOrder { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat left top; }\r\n\r\n.changeImageSeriesOrder:hover { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat right top; }\r\n\r\n.changeImageSeriesOrder:active { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat left bottom; }\r\n\r\n.changeImageSeriesOrder:disabled { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat right bottom; }\r\n\r\n.reassign { background: url('reassign_40_40_All.png') no-repeat left top; }\r\n\r\n.reassign:hover { background: url('reassign_40_40_All.png') no-repeat right top; }\r\n\r\n.reassign:active { background: url('reassign_40_40_All.png') no-repeat left bottom; }\r\n\r\n.reassign:disabled { background: url('reassign_40_40_All.png') no-repeat right bottom; }\r\n\r\n.transfer { background: url('transferImage_40_40_All.png') no-repeat left top; }\r\n\r\n.transfer:hover { background: url('transferImage_40_40_All.png') no-repeat right top; }\r\n\r\n.transfer:active { background: url('transferImage_40_40_All.png') no-repeat left bottom; }\r\n\r\n.transfer:disabled { background: url('transferImage_40_40_All.png') no-repeat right bottom; }\r\n\r\n.tagEdit { background: url('tagEdit_40_40_All.png') no-repeat left top; }\r\n\r\n.tagEdit:hover { background: url('tagEdit_40_40_All.png') no-repeat right top; }\r\n\r\n.tagEdit:active { background: url('tagEdit_40_40_All.png') no-repeat left bottom; }\r\n\r\n.tagEdit:disabled { background: url('tagEdit_40_40_All.png') no-repeat right bottom; }\r\n\r\n.deletePrevent { background: url('deletePrevent_40_40_All.png') no-repeat left top; }\r\n\r\n.deletePrevent:hover { background: url('deletePrevent_40_40_All.png') no-repeat right top; }\r\n\r\n.deletePrevent:active { background: url('deletePrevent_40_40_All.png') no-repeat left bottom; }\r\n\r\n.deletePrevent:disabled { background: url('deletePrevent_40_40_All.png') no-repeat right bottom; }\r\n\r\n.deleteAllow { background: url('deleteAllow_40_40_All.png') no-repeat left top; }\r\n\r\n.deleteAllow:hover { background: url('deleteAllow_40_40_All.png') no-repeat right top; }\r\n\r\n.deleteAllow:active { background: url('deleteAllow_40_40_All.png') no-repeat left bottom; }\r\n\r\n.deleteAllow:disabled { background: url('deleteAllow_40_40_All.png') no-repeat right bottom; }\r\n\r\n.delete { background: url('delete_40_40_All.png') no-repeat left top; }\r\n\r\n.delete:hover { background: url('delete_40_40_All.png') no-repeat right top; }\r\n\r\n.delete:active { background: url('delete_40_40_All.png') no-repeat left bottom; }\r\n\r\n.delete:disabled { background: url('delete_40_40_All.png') no-repeat right bottom; }\r\n\r\n.import { background: url('import_40_40_All.png') no-repeat left top; }\r\n\r\n.import:hover { background: url('import_40_40_All.png') no-repeat right top; }\r\n\r\n.import:active { background: url('import_40_40_All.png') no-repeat left bottom; }\r\n\r\n.import:disabled { background: url('import_40_40_All.png') no-repeat right bottom; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9vcGVyYXRlLXRvb2xiYXIvb3BlcmF0ZS10b29sYmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixXQUFXO0FBQ2Y7O0FBRUEsYUFBYSw2REFBeUYsRUFBRTs7QUFFeEcsbUJBQW1CLDhEQUEwRixFQUFFOztBQUUvRyxvQkFBb0IsZ0VBQTRGLEVBQUU7O0FBRWxILHNCQUFzQixpRUFBNkYsRUFBRTs7QUFFckgsZ0JBQWdCLGdFQUE0RixFQUFFOztBQUU5RyxzQkFBc0IsaUVBQTZGLEVBQUU7O0FBRXJILHVCQUF1QixtRUFBK0YsRUFBRTs7QUFFeEgseUJBQXlCLG9FQUFnRyxFQUFFOztBQUUzSCxXQUFXLDJEQUF1RixFQUFFOztBQUVwRyxpQkFBaUIsNERBQXdGLEVBQUU7O0FBRTNHLGtCQUFrQiw4REFBMEYsRUFBRTs7QUFFOUcsb0JBQW9CLCtEQUEyRixFQUFFOztBQUVqSCxhQUFhLDZEQUF5RixFQUFFOztBQUV4RyxtQkFBbUIsOERBQTBGLEVBQUU7O0FBRS9HLG9CQUFvQixnRUFBNEYsRUFBRTs7QUFFbEgsc0JBQXNCLGlFQUE2RixFQUFFOztBQUVySCwwQkFBMEIsMEVBQXNHLEVBQUU7O0FBRWxJLGdDQUFnQywyRUFBdUcsRUFBRTs7QUFFekksaUNBQWlDLDZFQUF5RyxFQUFFOztBQUU1SSxtQ0FBbUMsOEVBQTBHLEVBQUU7O0FBRS9JLFlBQVksNERBQXdGLEVBQUU7O0FBRXRHLGtCQUFrQiw2REFBeUYsRUFBRTs7QUFFN0csbUJBQW1CLCtEQUEyRixFQUFFOztBQUVoSCxxQkFBcUIsZ0VBQTRGLEVBQUU7O0FBRW5ILFlBQVksaUVBQTZGLEVBQUU7O0FBRTNHLGtCQUFrQixrRUFBOEYsRUFBRTs7QUFFbEgsbUJBQW1CLG9FQUFnRyxFQUFFOztBQUVySCxxQkFBcUIscUVBQWlHLEVBQUU7O0FBRXhILFdBQVcsMkRBQXVGLEVBQUU7O0FBRXBHLGlCQUFpQiw0REFBd0YsRUFBRTs7QUFFM0csa0JBQWtCLDhEQUEwRixFQUFFOztBQUU5RyxvQkFBb0IsK0RBQTJGLEVBQUU7O0FBRWpILGlCQUFpQixpRUFBNkYsRUFBRTs7QUFFaEgsdUJBQXVCLGtFQUE4RixFQUFFOztBQUV2SCx3QkFBd0Isb0VBQWdHLEVBQUU7O0FBRTFILDBCQUEwQixxRUFBaUcsRUFBRTs7QUFFN0gsZUFBZSwrREFBMkYsRUFBRTs7QUFFNUcscUJBQXFCLGdFQUE0RixFQUFFOztBQUVuSCxzQkFBc0Isa0VBQThGLEVBQUU7O0FBRXRILHdCQUF3QixtRUFBK0YsRUFBRTs7QUFFekgsVUFBVSwwREFBc0YsRUFBRTs7QUFFbEcsZ0JBQWdCLDJEQUF1RixFQUFFOztBQUV6RyxpQkFBaUIsNkRBQXlGLEVBQUU7O0FBRTVHLG1CQUFtQiw4REFBMEYsRUFBRTs7QUFFL0csVUFBVSwwREFBc0YsRUFBRTs7QUFFbEcsZ0JBQWdCLDJEQUF1RixFQUFFOztBQUV6RyxpQkFBaUIsNkRBQXlGLEVBQUU7O0FBRTVHLG1CQUFtQiw4REFBMEYsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvb3BlcmF0ZS10b29sYmFyL29wZXJhdGUtdG9vbGJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvYWRJbWFnZSwgLmxvYWRLZXlJbWFnZSwgLnNldFJlYWQsIC5zZXRVbnJlYWQsIC5jaGFuZ2VJbWFnZVNlcmllc09yZGVyLCAucmVhc3NpZ24sIC50cmFuc2ZlciwgLnRhZ0VkaXQsIC5kZWxldGVQcmV2ZW50LCAuZGVsZXRlQWxsb3csIC5kZWxldGUsIC5pbXBvcnQge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ubG9hZEltYWdlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0xvYWRJbWFnZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5sb2FkSW1hZ2U6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vTG9hZEltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5sb2FkSW1hZ2U6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0xvYWRJbWFnZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5sb2FkSW1hZ2U6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vTG9hZEltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5sb2FkS2V5SW1hZ2UgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbG9hZEtleUltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9sb2FkS2V5SW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbG9hZEtleUltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9sb2FkS2V5SW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLnNldFJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0UmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5zZXRSZWFkOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnNldFJlYWQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4uc2V0UmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5zZXRVbnJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnNldFVucmVhZDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnNldFVucmVhZDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnNldFVucmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLmNoYW5nZUltYWdlU2VyaWVzT3JkZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vY2hhbmdlSW1hZ2VTZXJpZXNPcmRlcl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5jaGFuZ2VJbWFnZVNlcmllc09yZGVyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2NoYW5nZUltYWdlU2VyaWVzT3JkZXJfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmNoYW5nZUltYWdlU2VyaWVzT3JkZXI6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2NoYW5nZUltYWdlU2VyaWVzT3JkZXJfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4uY2hhbmdlSW1hZ2VTZXJpZXNPcmRlcjpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9jaGFuZ2VJbWFnZVNlcmllc09yZGVyXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5yZWFzc2lnbiB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9yZWFzc2lnbl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5yZWFzc2lnbjpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9yZWFzc2lnbl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyB9XHJcblxyXG4ucmVhc3NpZ246YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JlYXNzaWduXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnJlYXNzaWduOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JlYXNzaWduXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi50cmFuc2ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90cmFuc2ZlckltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnRyYW5zZmVyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RyYW5zZmVySW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnRyYW5zZmVyOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90cmFuc2ZlckltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnRyYW5zZmVyOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RyYW5zZmVySW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLnRhZ0VkaXQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vdGFnRWRpdF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi50YWdFZGl0OmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RhZ0VkaXRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnRhZ0VkaXQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RhZ0VkaXRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4udGFnRWRpdDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90YWdFZGl0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5kZWxldGVQcmV2ZW50IHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZVByZXZlbnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uZGVsZXRlUHJldmVudDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVQcmV2ZW50XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5kZWxldGVQcmV2ZW50OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVQcmV2ZW50XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmRlbGV0ZVByZXZlbnQ6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlUHJldmVudF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4uZGVsZXRlQWxsb3cgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlQWxsb3dfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uZGVsZXRlQWxsb3c6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlQWxsb3dfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmRlbGV0ZUFsbG93OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVBbGxvd180MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5kZWxldGVBbGxvdzpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVBbGxvd180MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4uZGVsZXRlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5kZWxldGU6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5kZWxldGU6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5kZWxldGU6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5pbXBvcnQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vaW1wb3J0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLmltcG9ydDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9pbXBvcnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmltcG9ydDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vaW1wb3J0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmltcG9ydDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9pbXBvcnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<table>\r\n    <tr>\r\n        <td>\r\n            <button class=\"loadImage\" role=\"button\" title=\"Load Image\" (click)=\"onLoadImage()\" [disabled]=\"worklistService.bDisableLoadImageButton\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"loadKeyImage\" role=\"button\" title=\"Load Key Image\" (click)=\"onLoadKeyImage()\" [disabled]=\"worklistService.bDisableLoadKeyImage\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"setRead\" role=\"button\" title=\"Set Read\" (click)=\"onSetRead()\" [disabled]=\"worklistService.bDisableSetReadBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"setUnread\" role=\"button\" title=\"Set Unread\" (click)=\"onSetUnread()\" [disabled]=\"worklistService.bDisableSetUnreadBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"changeImageSeriesOrder\" role=\"button\" title=\"Change Image Series Order\" (click)=\"onChangeImageSeriesOrder()\" [disabled]=\"worklistService.bDisableChangeImageSeriesOrder\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"reassign\" role=\"button\" title=\"Reassign\" (click)=\"onReassign()\" [disabled]=\"worklistService.bDisableReassign\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"transfer\" role=\"button\" title=\"Export/Transfer\" (click)=\"onTransfer()\" [disabled]=\"worklistService.bDisableTransfer\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"tagEdit\" role=\"button\" title=\"Patient Edit\" (click)=\"onTagEdit()\" [disabled]=\"worklistService.bDisableTagEdit\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"deletePrevent\" role=\"button\" title=\"Prevent Delete Study\" (click)=\"onDeletePrevent()\" [disabled]=\"worklistService.bDisableDeletePreventBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"deleteAllow\" role=\"button\" title=\"Allow Delete Study\" (click)=\"onDeleteAllow()\" [disabled]=\"worklistService.bDisableDeleteAllowBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"delete\" role=\"button\" title=\"Delete Study\" (click)=\"onDeleteStudy()\" [disabled]=\"worklistService.bDisableDeleteStudy\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"import\" role=\"button\" title=\"Import\" (click)=\"onImport()\"></button>\r\n        </td>\r\n    </tr>\r\n</table>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts ***!
  \****************************************************************************************/
/*! exports provided: OperateToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperateToolbarComponent", function() { return OperateToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var OperateToolbarComponent = /** @class */ (function () {
    function OperateToolbarComponent(worklistService, dialogService) {
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.disableLoadImageButton = false;
    }
    OperateToolbarComponent.prototype.ngOnInit = function () {
    };
    OperateToolbarComponent.prototype.onLoadImage = function () {
        this.worklistService.onShowAllCheckedStudy();
    };
    OperateToolbarComponent.prototype.onLoadKeyImage = function () {
    };
    OperateToolbarComponent.prototype.onSetRead = function () {
        this.worklistService.onSetRead();
    };
    OperateToolbarComponent.prototype.onSetUnread = function () {
        this.worklistService.onSetUnread();
    };
    OperateToolbarComponent.prototype.onChangeImageSeriesOrder = function () {
    };
    OperateToolbarComponent.prototype.onReassign = function () {
    };
    OperateToolbarComponent.prototype.onTransfer = function () {
    };
    OperateToolbarComponent.prototype.onTagEdit = function () {
    };
    OperateToolbarComponent.prototype.onDeletePrevent = function () {
        this.worklistService.onDeletePrevent();
    };
    OperateToolbarComponent.prototype.onDeleteAllow = function () {
        this.worklistService.onDeleteAllow();
    };
    OperateToolbarComponent.prototype.onDeleteStudy = function () {
        //this.dialogService.showDialog(DeleteStudyDialogComponent, 0).subscribe(
        //    deletionReason => {
        //        this.worklistService.onDeleteStudy(deletionReason);
        //    }
        //);
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxContent"]();
        content.title = "Deletion Reason";
        content.messageText = "WARNING:The report of the deleted study cannot be restored.";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
        this.dialogService.showMessageBox(content).subscribe(function (val) { return _this.getMessageBoxValue(val); });
    };
    OperateToolbarComponent.prototype.getMessageBoxValue = function (val) {
        if (val.dialogResult == _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Ok) {
            this.worklistService.onDeleteStudy(val.valueInput);
        }
    };
    OperateToolbarComponent.prototype.onImport = function () {
    };
    OperateToolbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-operate-toolbar",
            template: __webpack_require__(/*! ./operate-toolbar.component.html */ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html"),
            styles: [__webpack_require__(/*! ./operate-toolbar.component.css */ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], OperateToolbarComponent);
    return OperateToolbarComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-container {\r\n    background-color: #555;\r\n    height: 250px;\r\n    padding: 2px 2px;\r\n    width: 250px;\r\n}\r\n\r\n.shortcut-header {\r\n    background-color: #555555;\r\n    border-radius: 3px;\r\n    color: white;\r\n    padding: 4px;\r\n    width: 100%;\r\n}\r\n\r\n.shortcut-header-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    color: transparent;\r\n    outline: none;\r\n    padding: 4px;\r\n}\r\n\r\n.shortcut-header:hover { color: #F90; }\r\n\r\n.shortcut-header:hover .shortcut-header-button {\r\n    background-color: #444;\r\n    border: solid 1px #888;\r\n    border-radius: 2px;\r\n    color: #F90;\r\n    margin-top: -2px;\r\n}\r\n\r\n.shortcut-header:hover .shortcut-header-button:active { color: red; }\r\n\r\n.shortcut-item {\r\n    background-color: inherit;\r\n    border-radius: 3px;\r\n    color: white;\r\n    padding-bottom: 3px;\r\n    padding-left: 24px;\r\n    padding-top: 3px;\r\n    width: 100%;\r\n}\r\n\r\n.shortcut-name-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    border-width: 0px;\r\n    color: inherit;\r\n    outline: none;\r\n}\r\n\r\n.shortcut-item:hover {\r\n    background-color: #999;\r\n    color: #ff9900;\r\n}\r\n\r\n.shortcut-item:hover .shortcut-close-button {\r\n    background-color: #666;\r\n    border: solid 1px #aaa;\r\n    border-radius: 2px;\r\n    color: #F90;\r\n    margin-right: 2px;\r\n    margin-top: -1px;\r\n}\r\n\r\n.shortcut-item:hover .shortcut-name-button:hover { color: red; }\r\n\r\n.shortcut-item:hover .shortcut-close-button:active { color: red; }\r\n\r\n.shortcut-close-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    color: transparent;\r\n    outline: none;\r\n    padding: 4px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9xdWVyeS1zaG9ydGN1dC9xdWVyeS1zaG9ydGN1dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtBQUNoQjs7QUFFQSx5QkFBeUIsV0FBVyxFQUFFOztBQUV0QztJQUNJLHNCQUFzQjtJQUN0QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxnQkFBZ0I7QUFDcEI7O0FBRUEsd0RBQXdELFVBQVUsRUFBRTs7QUFFcEU7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7QUFDcEI7O0FBRUEsbURBQW1ELFVBQVUsRUFBRTs7QUFFL0QscURBQXFELFVBQVUsRUFBRTs7QUFFakU7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtBQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvcXVlcnktc2hvcnRjdXQvcXVlcnktc2hvcnRjdXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1O1xyXG4gICAgaGVpZ2h0OiAyNTBweDtcclxuICAgIHBhZGRpbmc6IDJweCAycHg7XHJcbiAgICB3aWR0aDogMjUwcHg7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA0cHg7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1oZWFkZXI6aG92ZXIgeyBjb2xvcjogI0Y5MDsgfVxyXG5cclxuLnNob3J0Y3V0LWhlYWRlcjpob3ZlciAuc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjRjkwO1xyXG4gICAgbWFyZ2luLXRvcDogLTJweDtcclxufVxyXG5cclxuLnNob3J0Y3V0LWhlYWRlcjpob3ZlciAuc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbjphY3RpdmUgeyBjb2xvcjogcmVkOyB9XHJcblxyXG4uc2hvcnRjdXQtaXRlbSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDNweDtcclxuICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1pdGVtOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTk7XHJcbiAgICBjb2xvcjogI2ZmOTkwMDtcclxufVxyXG5cclxuLnNob3J0Y3V0LWl0ZW06aG92ZXIgLnNob3J0Y3V0LWNsb3NlLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggI2FhYTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjRjkwO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtMXB4O1xyXG59XHJcblxyXG4uc2hvcnRjdXQtaXRlbTpob3ZlciAuc2hvcnRjdXQtbmFtZS1idXR0b246aG92ZXIgeyBjb2xvcjogcmVkOyB9XHJcblxyXG4uc2hvcnRjdXQtaXRlbTpob3ZlciAuc2hvcnRjdXQtY2xvc2UtYnV0dG9uOmFjdGl2ZSB7IGNvbG9yOiByZWQ7IH1cclxuXHJcbi5zaG9ydGN1dC1jbG9zZS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-header\">\r\n            <i class=\"glyphicon glyphicon-hdd\"></i>\r\n            <button class=\"shortcut-name-button\" style=\"cursor: default\">Local Data Source</button>\r\n            <button class=\"pull-right glyphicon glyphicon-refresh shortcut-header-button\"\r\n                    title=\"Refresh shortcut\" (click)=\"onRefreshShortcut()\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-list-alt\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQueryAllStudies()\">All</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-star-empty\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQueryTodayStudy()\">Today</button>\r\n        </div>\r\n    </div>\r\n    <div *ngFor=\"let shortcut of allShortcuts\" class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-search\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQuery(shortcut)\">{{shortcut.name}}</button>\r\n            <button class=\"pull-right glyphicon glyphicon-remove shortcut-close-button\"\r\n                    title=\"Delete shortcut\" (click)=\"onDeleteShortcut(shortcut)\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div *ngFor=\"let shortcut of worklistService.shortcuts\" class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-search\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQuery(shortcut)\">{{shortcut.name}}</button>\r\n            <button class=\"pull-right glyphicon glyphicon-remove shortcut-close-button\"\r\n                    title=\"Delete shortcut\" (click)=\"onDeleteShortcut(shortcut)\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-header\">\r\n            <i class=\"glyphicon glyphicon-cloud\"></i>\r\n            <button class=\"shortcut-name-button\" style=\"cursor: default\">Third-Party Pacs</button>\r\n            <button class=\"pull-right glyphicon glyphicon-refresh shortcut-header-button\"\r\n                    title=\"Refresh third-party Pacs\" (click)=\"onRefreshThirdpartyPacs()\">\r\n            </button>\r\n            <button class=\"pull-right glyphicon glyphicon-plus shortcut-header-button\"\r\n                    title=\"Register a new third-party Pacs\" (click)=\"onRefreshThirdpartyPacs()\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts ***!
  \**************************************************************************************/
/*! exports provided: QueryShortcutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryShortcutComponent", function() { return QueryShortcutComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var QueryShortcutComponent = /** @class */ (function () {
    function QueryShortcutComponent(worklistService, dialogService) {
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.allShortcuts = [];
    }
    QueryShortcutComponent.prototype.ngOnInit = function () {
        this.onRefreshShortcut();
    };
    QueryShortcutComponent.prototype.onQuery = function (shortcut) {
        this.worklistService.onQueryStudyByShortcut(shortcut);
    };
    QueryShortcutComponent.prototype.onQueryTodayStudy = function () {
        this.worklistService.onQueryTodayStudy();
    };
    QueryShortcutComponent.prototype.onQueryAllStudies = function () {
        this.worklistService.onQueryAllStudies();
    };
    QueryShortcutComponent.prototype.onDeleteShortcut = function (shortcut) {
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxContent"]();
        content.title = "Confirm Delete";
        content.messageText = "Are you sure to delete this shortcut?";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Question;
        this.dialogService.showMessageBox(content).subscribe(function (val) { return _this.onConfirmDeleteCallback(val, shortcut); });
    };
    QueryShortcutComponent.prototype.onConfirmDeleteCallback = function (val, shortcut) {
        if (val.dialogResult === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Yes) {
            this.worklistService.onDeleteShortcut(shortcut);
            //alert('delete shortcut ' + shortcut.name);
        }
    };
    QueryShortcutComponent.prototype.onRefreshShortcut = function () {
        // this.databaseService.getShortcuts().subscribe(shortcuts => this.allShortcuts = shortcuts);
    };
    QueryShortcutComponent.prototype.onRefreshThirdpartyPacs = function () {
    };
    QueryShortcutComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-query-shortcut",
            template: __webpack_require__(/*! ./query-shortcut.component.html */ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html"),
            styles: [__webpack_require__(/*! ./query-shortcut.component.css */ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], QueryShortcutComponent);
    return QueryShortcutComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".query, .queryClear, .querySave {\r\n    border: none;\r\n    height: 30px;\r\n    outline: none;\r\n    width: 100px;\r\n}\r\n\r\n.query { background: url('Query_All.png') no-repeat left top; }\r\n\r\n.query:hover { background: url('Query_All.png') no-repeat right top; }\r\n\r\n.query:active { background: url('Query_All.png') no-repeat right bottom; }\r\n\r\n.queryClear { background: url('ClearCondition_All.png') no-repeat left top; }\r\n\r\n.queryClear:hover { background: url('ClearCondition_All.png') no-repeat right top; }\r\n\r\n.queryClear:active { background: url('ClearCondition_All.png') no-repeat right bottom; }\r\n\r\n.querySave { background: url('Query_Save.png') no-repeat left top; }\r\n\r\n.querySave:hover { background: url('Query_Save.png') no-repeat right top; }\r\n\r\n.querySave:active { background: url('Query_Save.png') no-repeat right bottom; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9xdWVyeS10b29sYmFyL3F1ZXJ5LXRvb2xiYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUEsU0FBUyxtREFBK0UsRUFBRTs7QUFFMUYsZUFBZSxvREFBZ0YsRUFBRTs7QUFFakcsZ0JBQWdCLHVEQUFtRixFQUFFOztBQUVyRyxjQUFjLDREQUF3RixFQUFFOztBQUV4RyxvQkFBb0IsNkRBQXlGLEVBQUU7O0FBRS9HLHFCQUFxQixnRUFBNEYsRUFBRTs7QUFFbkgsYUFBYSxvREFBZ0YsRUFBRTs7QUFFL0YsbUJBQW1CLHFEQUFpRixFQUFFOztBQUV0RyxvQkFBb0Isd0RBQW9GLEVBQUUiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3F1ZXJ5LXRvb2xiYXIvcXVlcnktdG9vbGJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnF1ZXJ5LCAucXVlcnlDbGVhciwgLnF1ZXJ5U2F2ZSB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4ucXVlcnkgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucXVlcnk6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnF1ZXJ5OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9RdWVyeV9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucXVlcnlDbGVhciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9DbGVhckNvbmRpdGlvbl9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeUNsZWFyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0NsZWFyQ29uZGl0aW9uX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5xdWVyeUNsZWFyOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9DbGVhckNvbmRpdGlvbl9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucXVlcnlTYXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1F1ZXJ5X1NhdmUucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeVNhdmU6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfU2F2ZS5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5xdWVyeVNhdmU6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1F1ZXJ5X1NhdmUucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<table>\r\n    <tr>\r\n        <td>\r\n            <button class=\"query\" role=\"button\" title=\"Query\" (click)=\"onQuery()\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"queryClear\" role=\"button\" title=\"Clear Condition\" (click)=\"onClearCondition()\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"querySave\" role=\"button\" title=\"Save Shortcut\" (click)=\"onSaveShortcut()\"></button>\r\n        </td>\r\n\r\n        <td style=\"padding-left: 6px\">\r\n            <div class=\"checkbox\">\r\n                <label>\r\n                    <input type=\"checkbox\" [(ngModel)]=\"worklistService.showHistoryStudies\"/>Show History Study\r\n                </label>\r\n            </div>\r\n        </td>\r\n        <td style=\"padding-left: 6px\">\r\n            <div class=\"checkbox\">\r\n                <label>\r\n                    <input type=\"checkbox\" [ngModel]=\"worklistService.isUsingLocalTestData()\"(click)=\"onChangeDataSource($event)\"/>Using Local Test Data\r\n                </label>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n</table>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts ***!
  \************************************************************************************/
/*! exports provided: QueryToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryToolbarComponent", function() { return QueryToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _models_shortcut__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/shortcut */ "./src/app/models/shortcut.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var QueryToolbarComponent = /** @class */ (function () {
    function QueryToolbarComponent(worklistService, dialogService) {
        this.worklistService = worklistService;
        this.dialogService = dialogService;
    }
    QueryToolbarComponent.prototype.ngOnInit = function () {
    };
    QueryToolbarComponent.prototype.onChangeDataSource = function (event) {
        this.worklistService.setDataSource(event.target.checked ? _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].LocalTestData : _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].MiniPacs);
    };
    QueryToolbarComponent.prototype.onQuery = function () {
        this.worklistService.onQueryStudies(1);
    };
    QueryToolbarComponent.prototype.onClearCondition = function () {
        this.worklistService.onCleanCondition();
    };
    QueryToolbarComponent.prototype.onSaveShortcut = function () {
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxContent"]();
        content.title = "Add Shortcut";
        content.messageText = "Please input the name of the shortcut:";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxType"].Input;
        this.dialogService.showMessageBox(content).subscribe(function (val) { return _this.onSaveShortcutCallback(val); });
    };
    QueryToolbarComponent.prototype.onSaveShortcutCallback = function (val) {
        if (val.dialogResult === _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["DialogResult"].Ok) {
            //const shortcut = new Shortcut();
            //shortcut.name = "test";
            this.worklistService.onSaveShortcut(val.valueInput);
        }
    };
    QueryToolbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-query-toolbar",
            template: __webpack_require__(/*! ./query-toolbar.component.html */ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html"),
            styles: [__webpack_require__(/*! ./query-toolbar.component.css */ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], QueryToolbarComponent);
    return QueryToolbarComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/worklist-shell.component.css":
/*!************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist-shell.component.css ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#div-scroll {\r\n    height: 100%;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n\r\n#div-scroll::-webkit-scrollbar {\r\n    background-color: #808080;\r\n    width: 12px;\r\n}\r\n\r\n#div-scroll::-webkit-scrollbar-thumb {\r\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\r\n    background-color: #555;\r\n    border-radius: 10px;\r\n}\r\n\r\n#div-scroll::-webkit-scrollbar-corner { background-color: dimgray; }\r\n\r\n#divContainer {\r\n    border-bottom: 2px solid #666;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 40px;\r\n}\r\n\r\n.studyQueryToolbar {\r\n    background-color: black;\r\n    color: #F5F5F5;\r\n    display: block;\r\n    height: 40px;\r\n    margin: 0 auto;\r\n    padding: 3px;\r\n    width: 100%;\r\n}\r\n\r\n.studyOpertionToolbar {\r\n    background-color: black;\r\n    border-bottom: 2px solid #666;\r\n    border-top: 1px solid #333;\r\n    bottom: 0;\r\n    color: #F5F5F5;\r\n    display: block;\r\n    height: 48px;\r\n    margin: 0 auto;\r\n    padding: 4px;\r\n    position: fixed;\r\n    width: 100%;\r\n}\r\n\r\n#panelStudyDash {\r\n    background-color: black;\r\n    border: none;\r\n    margin: 0px;\r\n    padding: 5px 10px;\r\n    visibility: visible;\r\n}\r\n\r\n#panelStudyDash button {\r\n    border: none;\r\n    height: 30px;\r\n    outline: none;\r\n    width: 100px;\r\n}\r\n\r\n#panelStudyDash .save-query {\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n#panelStudyDash .checkbox {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}\r\n\r\n#panelStudyDash #statusLabel { margin: 0px; }\r\n\r\n#divStudies {\r\n    margin-bottom: 0px;\r\n    min-height: 200px;\r\n    position: static;\r\n    width: 100%;\r\n}\r\n\r\n/*#divStudies::-webkit-scrollbar{\r\n    width:16px;\r\n    background-color:black;\r\n}\r\n\r\n#divStudies::-webkit-scrollbar-thumb{\r\n    background-color:#535353;\r\n    border-radius: 10px;\r\n}*/\r\n\r\n@media (min-width: 768px) {    \r\n    #panelStudyDash .checkbox { top: -2px; }\r\n\r\n    #panelStudyDash .checkbox label input { top: 2px; }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    #divStudies {\r\n        border: none;\r\n        left: 1px;\r\n        position: absolute;\r\n        right: 1px;\r\n        top: 42px;\r\n        visibility: visible;\r\n    }\r\n\r\n    #panelStudyDash {\r\n        left: 1px;\r\n        padding: 5px 2px;\r\n        position: absolute;\r\n        right: 1px;\r\n        visibility: visible;\r\n    }\r\n\r\n    #panelStudyDash .form-group, .checkbox, button {\r\n        display: inline-block;\r\n        margin: 0px;\r\n    }\r\n\r\n    #panelStudyDash #statusLabel { display: none; }\r\n\r\n    #panelStudyDash .save-query { display: none; }\r\n\r\n    #panelStudyDash .checkbox {\r\n        margin-left: 5px;\r\n        margin-right: 5px;\r\n        top: -10px;\r\n    }\r\n\r\n    .sp_panel-container, .sp_panel-left, .sp_panel-right {\r\n        visibility: hidden;\r\n        z-index: 0;\r\n    }\r\n}\r\n\r\n/* horizontal panel*/\r\n\r\n.sp_panel-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    /* avoid browser level touch actions */\r\n    /*xtouch-action: none;*/\r\n}\r\n\r\n.sp_panel-left {\r\n    /*min-width: 1px;*/\r\n    /*white-space: nowrap;*/\r\n    background: #07090c;\r\n    display: flex;\r\n    flex: 0 0 auto;\r\n    flex-direction: column;\r\n    min-height: 200px;\r\n    overflow: hidden;\r\n    /* only manually resize */\r\n    padding: 4px;\r\n    width: 200px;\r\n    /*color: white;*/\r\n}\r\n\r\n.sp_splitter {\r\n    background: url('split_vertical_collapse.jpg') center center no-repeat #535353;\r\n    cursor: pointer;\r\n    flex: 0 0 auto;\r\n    min-height: 200px;\r\n    width: 8px;\r\n}\r\n\r\n.sp_panel-right {\r\n    background: black;\r\n    color: white;\r\n    min-height: 200px;\r\n    min-width: 200px;\r\n    padding-bottom: 100px;\r\n    width: 100%;\r\n}\r\n\r\n/* vertical panel */\r\n\r\n.sp_panel-container-vertical {\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n}\r\n\r\n.sp_panel-top {\r\n    flex: 0 0 auto;\r\n    /* only manually resize */\r\n    /*padding: 10px;*/\r\n    height: 70%;\r\n    min-height: 300px;\r\n    overflow-y: auto;\r\n    width: 100%;\r\n    /*white-space: nowrap;\r\n  background: #838383;\r\n  color: white;*/\r\n    z-index: 0;\r\n}\r\n\r\n.sp_splitter-horizontal {\r\n    background: url('split_horizontal_collapse.jpg') center center no-repeat #535353;\r\n    cursor: pointer;\r\n    flex: 0 0 auto;\r\n    height: 8px;\r\n    z-index: 2;\r\n}\r\n\r\n.sp_panel-bottom {\r\n    flex: 1 1 auto;\r\n    /* resizable */\r\n    /*padding: 10px;*/\r\n    min-height: 200px;\r\n    overflow-y: auto;\r\n    /*background: #eee;*/\r\n    z-index: 1;\r\n}\r\n\r\n.navbar-right { padding-right: 10px; }\r\n\r\n.sp_panel-right .table { white-space: nowrap; }\r\n\r\n#trStudiesHeader a { color: black; }\r\n\r\n#trSeriesHeader a { color: black; }\r\n\r\n#leftPanelTop { flex: 1 1 auto; }\r\n\r\n#leftPanelBottom {\r\n    flex: 0 0 auto;\r\n    height: 20%;\r\n}\r\n\r\n#formUploadImage input[type=file] { width: 600px; }\r\n\r\n#tblSeries td:nth-child(1) { text-align: center; }\r\n\r\n#tblSeries img {\r\n    height: 50px;\r\n    margin: auto;\r\n    width: 50px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC1zaGVsbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsV0FBVztBQUNmOztBQUVBO0lBQ0ksbURBQW1EO0lBQ25ELHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7O0FBRUEsd0NBQXdDLHlCQUF5QixFQUFFOztBQUVuRTtJQUNJLDZCQUE2QjtJQUM3QixXQUFXO0lBQ1gsU0FBUztJQUNULGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsU0FBUztBQUNiOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCxjQUFjO0lBQ2QsWUFBWTtJQUNaLGNBQWM7SUFDZCxZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLDZCQUE2QjtJQUM3QiwwQkFBMEI7SUFDMUIsU0FBUztJQUNULGNBQWM7SUFDZCxjQUFjO0lBQ2QsWUFBWTtJQUNaLGNBQWM7SUFDZCxZQUFZO0lBQ1osZUFBZTtJQUNmLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixZQUFZO0lBQ1osV0FBVztJQUNYLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBLCtCQUErQixXQUFXLEVBQUU7O0FBRTVDO0lBQ0ksa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmOztBQUVBOzs7Ozs7OztFQVFFOztBQUVGO0lBQ0ksNEJBQTRCLFNBQVMsRUFBRTs7SUFFdkMsd0NBQXdDLFFBQVEsRUFBRTtBQUN0RDs7QUFFQTtJQUNJO1FBQ0ksWUFBWTtRQUNaLFNBQVM7UUFDVCxrQkFBa0I7UUFDbEIsVUFBVTtRQUNWLFNBQVM7UUFDVCxtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxTQUFTO1FBQ1QsZ0JBQWdCO1FBQ2hCLGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsbUJBQW1CO0lBQ3ZCOztJQUVBO1FBQ0kscUJBQXFCO1FBQ3JCLFdBQVc7SUFDZjs7SUFFQSwrQkFBK0IsYUFBYSxFQUFFOztJQUU5Qyw4QkFBOEIsYUFBYSxFQUFFOztJQUU3QztRQUNJLGdCQUFnQjtRQUNoQixpQkFBaUI7UUFDakIsVUFBVTtJQUNkOztJQUVBO1FBQ0ksa0JBQWtCO1FBQ2xCLFVBQVU7SUFDZDtBQUNKOztBQUVBLG9CQUFvQjs7QUFFcEI7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixzQ0FBc0M7SUFDdEMsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGNBQWM7SUFDZCxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSw4RUFBdUc7SUFDdkcsZUFBZTtJQUNmLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsVUFBVTtBQUNkOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtJQUNyQixXQUFXO0FBQ2Y7O0FBR0EsbUJBQW1COztBQUVuQjtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYOztnQkFFWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdGQUF5RztJQUN6RyxlQUFlO0lBQ2YsY0FBYztJQUNkLFdBQVc7SUFDWCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixVQUFVO0FBQ2Q7O0FBRUEsZ0JBQWdCLG1CQUFtQixFQUFFOztBQUVyQyx5QkFBeUIsbUJBQW1CLEVBQUU7O0FBRTlDLHFCQUFxQixZQUFZLEVBQUU7O0FBRW5DLG9CQUFvQixZQUFZLEVBQUU7O0FBR2xDLGdCQUFnQixjQUFjLEVBQUU7O0FBRWhDO0lBQ0ksY0FBYztJQUNkLFdBQVc7QUFDZjs7QUFFQSxvQ0FBb0MsWUFBWSxFQUFFOztBQUVsRCw2QkFBNkIsa0JBQWtCLEVBQUU7O0FBRWpEO0lBQ0ksWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3dvcmtsaXN0LXNoZWxsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2LXNjcm9sbCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4jZGl2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzgwODA4MDtcclxuICAgIHdpZHRoOiAxMnB4O1xyXG59XHJcblxyXG4jZGl2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgLjMpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuXHJcbiNkaXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiBkaW1ncmF5OyB9XHJcblxyXG4jZGl2Q29udGFpbmVyIHtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjNjY2O1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdG9wOiA0MHB4O1xyXG59XHJcblxyXG4uc3R1ZHlRdWVyeVRvb2xiYXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogI0Y1RjVGNTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBwYWRkaW5nOiAzcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnN0dWR5T3BlcnRpb25Ub29sYmFyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM2NjY7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzMzMztcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4jcGFuZWxTdHVkeURhc2gge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIGJ1dHRvbiB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4jcGFuZWxTdHVkeURhc2ggLnNhdmUtcXVlcnkge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcblxyXG4jcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoICNzdGF0dXNMYWJlbCB7IG1hcmdpbjogMHB4OyB9XHJcblxyXG4jZGl2U3R1ZGllcyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHBvc2l0aW9uOiBzdGF0aWM7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLyojZGl2U3R1ZGllczo6LXdlYmtpdC1zY3JvbGxiYXJ7XHJcbiAgICB3aWR0aDoxNnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpibGFjaztcclxufVxyXG5cclxuI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjojNTM1MzUzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufSovXHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsgICAgXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHsgdG9wOiAtMnB4OyB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCBsYWJlbCBpbnB1dCB7IHRvcDogMnB4OyB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gICAgI2RpdlN0dWRpZXMge1xyXG4gICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICBsZWZ0OiAxcHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAxcHg7XHJcbiAgICAgICAgdG9wOiA0MnB4O1xyXG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIHtcclxuICAgICAgICBsZWZ0OiAxcHg7XHJcbiAgICAgICAgcGFkZGluZzogNXB4IDJweDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgcmlnaHQ6IDFweDtcclxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gICAgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuZm9ybS1ncm91cCwgLmNoZWNrYm94LCBidXR0b24ge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBtYXJnaW46IDBweDtcclxuICAgIH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggI3N0YXR1c0xhYmVsIHsgZGlzcGxheTogbm9uZTsgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuc2F2ZS1xdWVyeSB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gICAgICAgIHRvcDogLTEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLnNwX3BhbmVsLWNvbnRhaW5lciwgLnNwX3BhbmVsLWxlZnQsIC5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIGhvcml6b250YWwgcGFuZWwqL1xyXG5cclxuLnNwX3BhbmVsLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAvKiBhdm9pZCBicm93c2VyIGxldmVsIHRvdWNoIGFjdGlvbnMgKi9cclxuICAgIC8qeHRvdWNoLWFjdGlvbjogbm9uZTsqL1xyXG59XHJcblxyXG4uc3BfcGFuZWwtbGVmdCB7XHJcbiAgICAvKm1pbi13aWR0aDogMXB4OyovXHJcbiAgICAvKndoaXRlLXNwYWNlOiBub3dyYXA7Ki9cclxuICAgIGJhY2tncm91bmQ6ICMwNzA5MGM7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIC8qY29sb3I6IHdoaXRlOyovXHJcbn1cclxuXHJcbi5zcF9zcGxpdHRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc3BsaXRfdmVydGljYWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHdpZHRoOiA4cHg7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuLyogdmVydGljYWwgcGFuZWwgKi9cclxuXHJcbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uc3BfcGFuZWwtdG9wIHtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgaGVpZ2h0OiA3MCU7XHJcbiAgICBtaW4taGVpZ2h0OiAzMDBweDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBiYWNrZ3JvdW5kOiAjODM4MzgzO1xyXG4gIGNvbG9yOiB3aGl0ZTsqL1xyXG4gICAgei1pbmRleDogMDtcclxufVxyXG5cclxuLnNwX3NwbGl0dGVyLWhvcml6b250YWwge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NwbGl0X2hvcml6b250YWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDhweDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1ib3R0b20ge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgICAvKiByZXNpemFibGUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLypiYWNrZ3JvdW5kOiAjZWVlOyovXHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4ubmF2YmFyLXJpZ2h0IHsgcGFkZGluZy1yaWdodDogMTBweDsgfVxyXG5cclxuLnNwX3BhbmVsLXJpZ2h0IC50YWJsZSB7IHdoaXRlLXNwYWNlOiBub3dyYXA7IH1cclxuXHJcbiN0clN0dWRpZXNIZWFkZXIgYSB7IGNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RyU2VyaWVzSGVhZGVyIGEgeyBjb2xvcjogYmxhY2s7IH1cclxuXHJcblxyXG4jbGVmdFBhbmVsVG9wIHsgZmxleDogMSAxIGF1dG87IH1cclxuXHJcbiNsZWZ0UGFuZWxCb3R0b20ge1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDIwJTtcclxufVxyXG5cclxuI2Zvcm1VcGxvYWRJbWFnZSBpbnB1dFt0eXBlPWZpbGVdIHsgd2lkdGg6IDYwMHB4OyB9XHJcblxyXG4jdGJsU2VyaWVzIHRkOm50aC1jaGlsZCgxKSB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxyXG5cclxuI3RibFNlcmllcyBpbWcge1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist-shell.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist-shell.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [style.visibility]=\"hideMe? 'hidden' : 'visible'\" id=\"divContainer\" class=\"sp_panel-container\">\r\n\r\n    <div class=\"sp_panel-left\">\r\n        <app-query-shortcut></app-query-shortcut>\r\n    </div>\r\n\r\n    <div class=\"sp_splitter\">\r\n    </div>\r\n\r\n    <div class=\"sp_panel-right\">\r\n        <div class=\"studyQueryToolbar\">\r\n            <app-query-toolbar></app-query-toolbar>\r\n        </div>\r\n\r\n        <div id=\"div-scroll\">\r\n            <app-worklist></app-worklist>\r\n        </div>\r\n\r\n        <div class=\"studyOpertionToolbar\">\r\n            <app-operate-toolbar></app-operate-toolbar>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist-shell.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist-shell.component.ts ***!
  \***********************************************************************/
/*! exports provided: WorklistShellComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistShellComponent", function() { return WorklistShellComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var WorklistShellComponent = /** @class */ (function () {
    function WorklistShellComponent(shellNavigatorService) {
        var _this = this;
        this.shellNavigatorService = shellNavigatorService;
        this.hideMe = false;
        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(function (viewerShellData) {
            _this.hideMe = viewerShellData !== null;
        });
    }
    WorklistShellComponent.prototype.ngOnInit = function () {
    };
    WorklistShellComponent.prototype.ngAfterViewInit = function () {
        $(".sp_panel-left").spResizable({
            handleSelector: ".sp_splitter",
            resizeHeight: false
        });
    };
    WorklistShellComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-worklist-shell",
            template: __webpack_require__(/*! ./worklist-shell.component.html */ "./src/app/components/worklist-shell/worklist-shell.component.html"),
            styles: [__webpack_require__(/*! ./worklist-shell.component.css */ "./src/app/components/worklist-shell/worklist-shell.component.css")]
        }),
        __metadata("design:paramtypes", [_services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__["ShellNavigatorService"]])
    ], WorklistShellComponent);
    return WorklistShellComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/worklist.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/worklist.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#tblStudies a {\r\n    color: white;\r\n}\r\n\r\n\r\n/*#tblStudies {\r\n    border: 1px solid black;\r\n    table-layout: fixed;\r\n}\r\n\r\nth,\r\ntd {\r\n    border: 1px solid black;\r\n    width: 100px;\r\n    overflow: hidden;\r\n    min-width:200px;\r\n}*/\r\n\r\n\r\nul {\r\n    list-style: none;\r\n    -webkit-padding-start: 0px;\r\n            padding-inline-start: 0px;\r\n}\r\n\r\n\r\nli {\r\n    float: left;\r\n    padding: 2px;\r\n}\r\n\r\n\r\nli button {\r\n        cursor: pointer;\r\n    }\r\n\r\n\r\nthead {\r\n    background: #444444;\r\n}\r\n\r\n\r\nthead tr {\r\n    background-color: #444444;\r\n}\r\n\r\n\r\nthead td {\r\n    background-color: #444444;\r\n}\r\n\r\n\r\nthead div {\r\n    font-weight: normal;\r\n}\r\n\r\n\r\n.worklistHeader {\r\n    cursor:pointer;\r\n    min-width:50px;\r\n}\r\n\r\n\r\n#headContent td tr{\r\n    border: 0px;\r\n}\r\n\r\n\r\n#tblStudies td {\r\n    border: 1px solid #333;\r\n    color: #ccc;\r\n}\r\n\r\n\r\n#tblStudies th {\r\n    border: 1px solid #333;\r\n}\r\n\r\n\r\n#tblStudies tr.cust-info td {\r\n    background-color: #222;\r\n}\r\n\r\n\r\n#trStudiesHeader a {\r\n    color: #ddd;\r\n}\r\n\r\n\r\n#trSeriesHeader a {\r\n    color: white;\r\n}\r\n\r\n\r\n#trStudiesHeader tr td {\r\n    border:hidden;\r\n    padding-right:5px;\r\n}\r\n\r\n\r\n#trStudiesQuery input[type=text] {\r\n    background-color: black;\r\n    border: 1px solid #444;\r\n    vertical-align: middle;\r\n    width: 100%;\r\n}\r\n\r\n\r\n#trStudiesQuery input[type=checkbox] {\r\n    background-color: black;\r\n    border: 1px solid #444;\r\n    vertical-align: middle;\r\n    width: 100%;\r\n}\r\n\r\n\r\nselect {\r\n    background-color: black;\r\n    border: 1px solid #444;\r\n    width: 100%;\r\n}\r\n\r\n\r\n#trStudiesQuery td:nth-child(n) {\r\n    margin: 0px;\r\n    padding: 1px;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n#tblStudies tbody tr:nth-child(2n + 1) {\r\n    background-color: #181818;\r\n}\r\n\r\n\r\n/*#tblStudies tr:nth-child(1) { background-color: black; }\r\n\r\n#tblStudies tr:nth-child(2) { background-color: black; }*/\r\n\r\n\r\n#tblStudies tbody tr:hover {\r\n    background-color: #555;\r\n    color: #f90;\r\n}\r\n\r\n\r\n/*#tblStudies tr:nth-child(1):hover { background-color: black; }\r\n\r\n#tblStudies tr:nth-child(2):hover {\r\n    background-color: black;\r\n    color: white;\r\n}*/\r\n\r\n\r\n#trStudiesQuery .dropdown {\r\n    background-color: #555555;\r\n    color: red;\r\n}\r\n\r\n\r\n#trStudiesQuery .dropdown .btn {\r\n        background-color: #555555;\r\n        min-width: 70px;\r\n        padding: 1px 6px;\r\n    }\r\n\r\n\r\n.loading-shade {\r\n    align-items: center;\r\n    background: rgba(0, 0, 0, 0.15);\r\n    bottom: 0px;\r\n    display: flex;\r\n    justify-content: center;\r\n    left: 0px;\r\n    margin: auto;\r\n    position: fixed;\r\n    right: 0px;\r\n    top: 0px;\r\n    z-index: 1;\r\n}\r\n\r\n\r\n.shortcut-name-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    border-width: 0px;\r\n    color: inherit;\r\n    outline: none;\r\n}\r\n\r\n\r\n.shortcut-name-button:disabled {\r\n    color: #555555;\r\n}\r\n\r\n\r\n.patientIdCol {\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n}\r\n\r\n\r\n.setRead, .setUnread {\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n\r\n.setRead { \r\n    background: url('setRead_40_40_All.png') no-repeat left top;\r\n    background-size: cover;\r\n}\r\n\r\n\r\n.setRead:hover { background: url('setRead_40_40_All.png') no-repeat right top; background-size: cover;}\r\n\r\n\r\n.setRead:active { background: url('setRead_40_40_All.png') no-repeat left bottom; background-size: cover;}\r\n\r\n\r\n.setRead:disabled { background: url('setRead_40_40_All.png') no-repeat right bottom; background-size: cover;}\r\n\r\n\r\n.setReadCover {\r\n    height: 20px;\r\n    width: 20px;\r\n    overflow: hidden;\r\n}\r\n\r\n\r\n.setUnread { background: url('setUnread_40_40_All.png') no-repeat left top; background-size: cover;}\r\n\r\n\r\n.setUnread:hover { background: url('setUnread_40_40_All.png') no-repeat right top; background-size: cover;}\r\n\r\n\r\n.setUnread:active { background: url('setUnread_40_40_All.png') no-repeat left bottom; background-size: cover;}\r\n\r\n\r\n.setUnread:disabled { background: url('setUnread_40_40_All.png') no-repeat right bottom; background-size: cover;}\r\n\r\n\r\n.setUnreadCover {\r\n    height: 20px;\r\n    width: 20px;\r\n    overflow: hidden;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC93b3JrbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7O0FBR0E7Ozs7Ozs7Ozs7O0VBV0U7OztBQUVGO0lBQ0ksZ0JBQWdCO0lBQ2hCLDBCQUF5QjtZQUF6Qix5QkFBeUI7QUFDN0I7OztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEI7OztBQUVJO1FBQ0ksZUFBZTtJQUNuQjs7O0FBRUo7SUFDSSxtQkFBbUI7QUFDdkI7OztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOzs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7OztBQUVBO0lBQ0ksY0FBYztJQUNkLGNBQWM7QUFDbEI7OztBQUVBO0lBQ0ksV0FBVztBQUNmOzs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixXQUFXO0FBQ2Y7OztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOzs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7OztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsaUJBQWlCO0FBQ3JCOzs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixXQUFXO0FBQ2Y7OztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLHNCQUFzQjtJQUN0QixXQUFXO0FBQ2Y7OztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixzQkFBc0I7QUFDMUI7OztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOzs7QUFFQTs7eURBRXlEOzs7QUFFekQ7SUFDSSxzQkFBc0I7SUFDdEIsV0FBVztBQUNmOzs7QUFFQTs7Ozs7RUFLRTs7O0FBRUY7SUFDSSx5QkFBeUI7SUFDekIsVUFBVTtBQUNkOzs7QUFFSTtRQUNJLHlCQUF5QjtRQUN6QixlQUFlO1FBQ2YsZ0JBQWdCO0lBQ3BCOzs7QUFFSjtJQUNJLG1CQUFtQjtJQUNuQiwrQkFBK0I7SUFDL0IsV0FBVztJQUNYLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsU0FBUztJQUNULFlBQVk7SUFDWixlQUFlO0lBQ2YsVUFBVTtJQUNWLFFBQVE7SUFDUixVQUFVO0FBQ2Q7OztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsY0FBYztJQUNkLGFBQWE7QUFDakI7OztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsMEJBQTBCO0FBQzlCOzs7QUFJQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7O0FBRUE7SUFDSSwyREFBd0Y7SUFDeEYsc0JBQXNCO0FBQzFCOzs7QUFHQSxpQkFBaUIsNERBQXdGLEVBQUUsc0JBQXNCLENBQUM7OztBQUVsSSxrQkFBa0IsOERBQTBGLEVBQUUsc0JBQXNCLENBQUM7OztBQUVySSxvQkFBb0IsK0RBQTJGLEVBQUUsc0JBQXNCLENBQUM7OztBQUV4STtJQUNJLFlBQVk7SUFDWixXQUFXO0lBQ1gsZ0JBQWdCO0FBQ3BCOzs7QUFFQSxhQUFhLDZEQUF5RixFQUFFLHNCQUFzQixDQUFDOzs7QUFFL0gsbUJBQW1CLDhEQUEwRixFQUFFLHNCQUFzQixDQUFDOzs7QUFFdEksb0JBQW9CLGdFQUE0RixFQUFFLHNCQUFzQixDQUFDOzs7QUFFekksc0JBQXNCLGlFQUE2RixFQUFFLHNCQUFzQixDQUFDOzs7QUFFNUk7SUFDSSxZQUFZO0lBQ1osV0FBVztJQUNYLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvd29ya2xpc3Qvd29ya2xpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiN0YmxTdHVkaWVzIGEge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG5cclxuLyojdGJsU3R1ZGllcyB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XHJcbn1cclxuXHJcbnRoLFxyXG50ZCB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgIHdpZHRoOiAxMDBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBtaW4td2lkdGg6MjAwcHg7XHJcbn0qL1xyXG5cclxudWwge1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAwcHg7XHJcbn1cclxuXHJcbmxpIHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgcGFkZGluZzogMnB4O1xyXG59XHJcblxyXG4gICAgbGkgYnV0dG9uIHtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcblxyXG50aGVhZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNDQ0NDQ0O1xyXG59XHJcblxyXG50aGVhZCB0ciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0NDQ0O1xyXG59XHJcblxyXG50aGVhZCB0ZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0NDQ0O1xyXG59XHJcblxyXG50aGVhZCBkaXYge1xyXG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxufVxyXG5cclxuLndvcmtsaXN0SGVhZGVyIHtcclxuICAgIGN1cnNvcjpwb2ludGVyO1xyXG4gICAgbWluLXdpZHRoOjUwcHg7XHJcbn1cclxuXHJcbiNoZWFkQ29udGVudCB0ZCB0cntcclxuICAgIGJvcmRlcjogMHB4O1xyXG59XHJcblxyXG4jdGJsU3R1ZGllcyB0ZCB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xyXG4gICAgY29sb3I6ICNjY2M7XHJcbn1cclxuXHJcbiN0YmxTdHVkaWVzIHRoIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XHJcbn1cclxuXHJcbiN0YmxTdHVkaWVzIHRyLmN1c3QtaW5mbyB0ZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyO1xyXG59XHJcblxyXG4jdHJTdHVkaWVzSGVhZGVyIGEge1xyXG4gICAgY29sb3I6ICNkZGQ7XHJcbn1cclxuXHJcbiN0clNlcmllc0hlYWRlciBhIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuI3RyU3R1ZGllc0hlYWRlciB0ciB0ZCB7XHJcbiAgICBib3JkZXI6aGlkZGVuO1xyXG4gICAgcGFkZGluZy1yaWdodDo1cHg7XHJcbn1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSBpbnB1dFt0eXBlPXRleHRdIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuI3RyU3R1ZGllc1F1ZXJ5IGlucHV0W3R5cGU9Y2hlY2tib3hdIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuc2VsZWN0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4jdHJTdHVkaWVzUXVlcnkgdGQ6bnRoLWNoaWxkKG4pIHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG4gICAgcGFkZGluZzogMXB4O1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxufVxyXG5cclxuI3RibFN0dWRpZXMgdGJvZHkgdHI6bnRoLWNoaWxkKDJuICsgMSkge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzE4MTgxODtcclxufVxyXG5cclxuLyojdGJsU3R1ZGllcyB0cjpudGgtY2hpbGQoMSkgeyBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RibFN0dWRpZXMgdHI6bnRoLWNoaWxkKDIpIHsgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7IH0qL1xyXG5cclxuI3RibFN0dWRpZXMgdGJvZHkgdHI6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICAgIGNvbG9yOiAjZjkwO1xyXG59XHJcblxyXG4vKiN0YmxTdHVkaWVzIHRyOm50aC1jaGlsZCgxKTpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyB9XHJcblxyXG4jdGJsU3R1ZGllcyB0cjpudGgtY2hpbGQoMik6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn0qL1xyXG5cclxuI3RyU3R1ZGllc1F1ZXJ5IC5kcm9wZG93biB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuICAgICN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24gLmJ0biB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcclxuICAgICAgICBtaW4td2lkdGg6IDcwcHg7XHJcbiAgICAgICAgcGFkZGluZzogMXB4IDZweDtcclxuICAgIH1cclxuXHJcbi5sb2FkaW5nLXNoYWRlIHtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMTUpO1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4uc2hvcnRjdXQtbmFtZS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItd2lkdGg6IDBweDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxufVxyXG5cclxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uOmRpc2FibGVkIHtcclxuICAgIGNvbG9yOiAjNTU1NTU1O1xyXG59XHJcblxyXG4ucGF0aWVudElkQ29sIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG59XHJcblxyXG5cclxuXHJcbi5zZXRSZWFkLCAuc2V0VW5yZWFkIHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICB3aWR0aDogNDBweDtcclxufVxyXG5cclxuLnNldFJlYWQgeyBcclxuICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcCA7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG59XHJcblxyXG5cclxuLnNldFJlYWQ6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0UmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO31cclxuXHJcbi5zZXRSZWFkOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XHJcblxyXG4uc2V0UmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IGJhY2tncm91bmQtc2l6ZTogY292ZXI7fVxyXG5cclxuLnNldFJlYWRDb3ZlciB7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICB3aWR0aDogMjBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5zZXRVbnJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XHJcblxyXG4uc2V0VW5yZWFkOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFVucmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO31cclxuXHJcbi5zZXRVbnJlYWQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFVucmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IGJhY2tncm91bmQtc2l6ZTogY292ZXI7fVxyXG5cclxuLnNldFVucmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XHJcblxyXG4uc2V0VW5yZWFkQ292ZXIge1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgd2lkdGg6IDIwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/worklist.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/worklist.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <table id=\"tblStudies\" class=\"table table-bordered table-condensed\">\r\n        <thead>\r\n            <tr id=\"trStudiesHeader\">\r\n                <th>\r\n                </th>\r\n                <th>\r\n                </th>\r\n                <th *ngFor=\"let col of worklistService.worklistColumns \" nowrap>\r\n                    <div id=\"headContent\" class=\"worklistHeader\">\r\n            <tr>\r\n                <td>\r\n                    <div (click)=\"onWorklistHeaderClicked(col.columnId)\">{{col.columnText}}</div>\r\n                </td>\r\n                <td>\r\n                    <i id=\"orderIcon\" *ngIf=\"col.columnId == orderHeader\" [className]=\"isDesc ? 'glyphicon glyphicon-collapse-down' : 'glyphicon glyphicon-collapse-up'\"></i>\r\n                </td>\r\n            </tr>\r\n</div>\r\n            </th>\r\n        </tr>\r\n<tr id=\"trStudiesQuery\">\r\n    <td>\r\n        <input type=\"checkbox\" (click)=\"onAllStudyChecked($event)\" (change)=\"onCheckStudyChanged()\"/>\r\n    </td>\r\n    <td>\r\n\r\n    </td>\r\n    <td *ngFor=\"let col of worklistService.worklistColumns\">\r\n        <div *ngIf=\"col.controlType == 'TextBox'\">\r\n            <input type=\"text\" [(ngModel)]=\"col.shortcutType[col.columnId]\" />\r\n        </div>\r\n        <div *ngIf=\"col.controlType == 'DropDownList'\">\r\n            <div *ngIf=\"col.columnId == 'studyDate'; else notStudyDate\">\r\n            <div>\r\n                <select *ngIf=\"!initStudyDate; else showStudyDateRange\" [(ngModel)]=\"col.shortcutType[col.columnId]\" (change)=\"onStudyDateChangeSelect($event.target.selectedIndex)\">\r\n                    <option *ngFor=\"let value of col.valueList | keyvalue\" [ngValue]=\"value.key\" >{{value.value}}</option>\r\n                </select>\r\n                <ng-template #showStudyDateRange>\r\n                    <table (click)=\"onStudyDateRangeTableClicked()\">\r\n                        <tr>\r\n                            <td>\r\n                                <mat-form-field>\r\n                                    <input matInput [matDatepicker]=\"picker1\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"From\" [(ngModel)]=\"worklistService.shortcut.studyDateFrom\">\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                                    <mat-datepicker #picker1></mat-datepicker>\r\n                                </mat-form-field>\r\n                            </td>\r\n                            <td id=\"tdStudyDateFrom\">\r\n                                <mat-form-field>\r\n                                    <input matInput [matDatepicker]=\"picker2\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"To\" [(ngModel)]=\"worklistService.shortcut.studyDateTo\">\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                                    <mat-datepicker #picker2></mat-datepicker>\r\n                                </mat-form-field>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </ng-template>\r\n</div>\r\n        </div>\r\n        <ng-template #notStudyDate>\r\n            <select [(ngModel)]=\"col.shortcutType[col.columnId]\">\r\n                <option value=\"\">All</option>\r\n                <option *ngFor=\"let value of col.valueList | keyvalue\" [ngValue]=\"value.key\">{{value.value}}</option>\r\n            </select>\r\n        </ng-template>\r\n    </div>\r\n        <div *ngIf=\"col.controlType == 'Calendar'\">\r\n            <tr>\r\n                <td>\r\n                    <mat-form-field>\r\n                        <input matInput [matDatepicker]=\"picker1\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"From\" (dateChange)=\"fromDateChanged('change', $event)\" [(ngModel)]=\"worklistService.shortcut.patientBirthDateFrom\">\r\n                        <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #picker1></mat-datepicker>\r\n                    </mat-form-field>\r\n                </td>\r\n                <td>\r\n                    <mat-form-field>\r\n                        <input matInput [matDatepicker]=\"picker2\" [min]=\"toMinDate\" [max]=\"toMaxDate\" placeholder=\"To\" (dateChange)=\"toDateChanged('change', $event)\" [(ngModel)]=\"worklistService.shortcut.patientBirthDateTo\">\r\n                        <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #picker2></mat-datepicker>\r\n                    </mat-form-field>\r\n                </td>\r\n            </tr>\r\n            </div>\r\n<td>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let study of worklistService.studies\" >\r\n            <td>\r\n                <input type=\"checkbox\" [(ngModel)]=\"study.checked\" (change)=\"onCheckStudyChanged()\"/>\r\n            </td>\r\n            <td>\r\n                <div *ngIf=\"study.scanStatus == 'Ended'; else scanStatusCompleted\" class=\"setReadCover\">\r\n                    <button class=\"setRead\" role=\"button\" title=\"Set Read\" (click)=\"onSetRead(study)\"></button>\r\n                </div>\r\n                <ng-template #scanStatusCompleted>\r\n                    <div class=\"setUnreadCover\">\r\n                        <button class=\"setUnread\" role=\"button\" title=\"Set Unread\" (click)=\"onSetUnread(study)\"></button>\r\n                    </div>\r\n                </ng-template>\r\n            </td>\r\n            <td *ngFor=\"let col of worklistService.worklistColumns\" (click)=\"onStudyChecked(study)\" nowrap>\r\n                <div class=\"patientIdCol\" *ngIf=\"col.columnId == 'patientId'; else notPatientId\" (click)=\"doShowStudy(study)\">{{study.patient[col.columnId]}}</div>\r\n                <ng-template #notPatientId>\r\n                    <div *ngIf=\"study.patient[col.columnId]; else onlyStudy\">{{study.patient[col.columnId]}}</div>\r\n                    <ng-template #onlyStudy>\r\n                        <div *ngIf=\"col.columnId != 'bodyPartExamined'; else bodyPart\">{{study[col.columnId]}}</div>\r\n                        <ng-template #bodyPart>\r\n                            <span *ngFor=\"let bodyPart of study.bodyPartList; let i = index\">\r\n                                <span *ngIf=\"i != 0\">\r\n                                    ,\r\n                                </span>\r\n                                {{bodyPart}}\r\n                            </span>\r\n                        </ng-template>\r\n                    </ng-template>\r\n                </ng-template>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n    <tfoot>\r\n        <tr id=\"trFoot\">\r\n            <td colspan=\"5\">\r\n                <ul>\r\n                    <li>\r\n                        <div>Pages:{{currentPage}}/{{worklistService.pageCount}}</div>\r\n                    </li>\r\n                    <li>\r\n                        <button class=\"shortcut-name-button\" (click)=\"onCurrentPageClicked(1)\" [disabled]=\"worklistService.pageCount == 1 || currentPage == 1\">First</button>\r\n                    </li>\r\n                    <li>\r\n                        <button class=\"shortcut-name-button\" (click)=\"onPrevPageClicked()\" [disabled]=\"worklistService.pageCount == 1 || currentPage == 1\">Prev</button>\r\n                    </li>\r\n                    <li>\r\n                        <button class=\"shortcut-name-button\" (click)=\"onNextPageClicked()\" [disabled]=\"worklistService.pageCount == 1 || currentPage == worklistService.pageCount\">Next</button>\r\n                    </li>\r\n                    <li>\r\n                        <button class=\"shortcut-name-button\" (click)=\"onCurrentPageClicked(worklistService.pageCount)\" [disabled]=\"worklistService.pageCount == 1 || currentPage == worklistService.pageCount\">Last</button>\r\n                    </li>\r\n                    <li>\r\n                        <select id=\"ddlPageIndex\" [(ngModel)]=\"currentPage\">\r\n                            <option *ngFor=\"let page of worklistService.pages;\">{{page+1}}</option>\r\n                        </select>\r\n                    </li>\r\n                    <li>\r\n                        <button class=\"shortcut-name-button\" (click)=\"onCurrentPageClicked(currentPage)\" [disabled]=\"worklistService.pageCount == 1\">Goto</button>\r\n                    </li>\r\n                </ul>\r\n            </td>\r\n        </tr>\r\n    </tfoot>\r\n    </table>\r\n    </div>\r\n\r\n    <mat-progress-spinner [style.visibility]=\"worklistService.querying? 'visible' : 'hidden'\" class=\"loading-shade\"\r\n                          [color]=\"color\"\r\n                          [mode]=\"mode\"\r\n                          [value]=\"value\">\r\n    </mat-progress-spinner>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/worklist.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/worklist.component.ts ***!
  \**************************************************************************/
/*! exports provided: MY_FORMATS, WorklistComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MY_FORMATS", function() { return MY_FORMATS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistComponent", function() { return WorklistComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/dialog/select-studydate-dialog/select-studydate-dialog.component */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/esm5/core.es5.js");
/* harmony import */ var _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/dailog-data/date-range */ "./src/app/models/dailog-data/date-range.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// Import DatePicker format



var MY_FORMATS = {
    parse: {
        dateInput: "LL",
    },
    display: {
        dateInput: "LL",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY",
    },
};
var WorklistComponent = /** @class */ (function () {
    function WorklistComponent(worklistService, dialogService) {
        var _this = this;
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.color = "#primary";
        this.mode = "indeterminate";
        this.value = 50;
        this.events = [];
        this.fromMinDate = new Date(1900, 1, 1);
        this.fromMaxDate = new Date();
        this.toMinDate = new Date();
        this.toMaxDate = new Date();
        this.currentPage = 1;
        this.isDesc = false;
        this.orderHeader = "";
        this.worklistColumnsTemp = [
            "PatientID",
            "PatientName",
            "Gender",
            "BirthDate",
            "AccessionNo",
            "Modality",
            "StudyDate",
            "StudyTime",
            "SeriesCount",
            "ImageCount",
            "StudyID"
        ];
        this.shortcutSelected = this.worklistService.shortcutSelected$.subscribe(function (shortcut) { return _this.onShortcutSelected(shortcut); });
    }
    WorklistComponent.prototype.fromDateChanged = function (type, event) {
        this.toMinDate = event.value;
    };
    WorklistComponent.prototype.toDateChanged = function (type, event) {
        this.fromMaxDate = event.value;
    };
    WorklistComponent.prototype.onShortcutSelected = function (shortcut) {
        this.worklistService.shortcut = shortcut;
    };
    WorklistComponent.prototype.ngOnChanges = function (changes) {
        //alert('aa');
    };
    WorklistComponent.prototype.ngOnInit = function () {
        this.worklistService.onQueryStudies(1);
        this.worklistService.onQueryShortcuts();
        this.worklistService.onQueryWorklistCol();
    };
    WorklistComponent.prototype.onStudyChecked = function (study) {
        study.checked = !study.checked;
    };
    WorklistComponent.prototype.onAllStudyChecked = function (event) {
        this.worklistService.studies.forEach(function (study) { return study.checked = event.target.checked; });
    };
    WorklistComponent.prototype.doShowStudy = function (study) {
        study.checked = true;
        this.worklistService.onShowSingleStudy(study);
    };
    WorklistComponent.prototype.onStudyDateChangeSelect = function (optionValue) {
        var _this = this;
        if (optionValue == "7") {
            var studyDate = new _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_6__["DateRange"];
            this.dialogService.showDialog(_components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_3__["SelectStudydateDialogComponent"], studyDate).subscribe(function (val) {
                _this.getStudyDate(val);
            });
        }
    };
    WorklistComponent.prototype.getStudyDate = function (studyDate) {
        this.initStudyDate = studyDate;
        this.worklistService.shortcut.studyDateFrom = studyDate.dateFrom;
        this.worklistService.shortcut.studyDateTo = studyDate.dateTo;
    };
    WorklistComponent.prototype.onPrevPageClicked = function () {
        this.currentPage = this.currentPage - 1;
        this.worklistService.onQueryStudies(this.currentPage);
    };
    WorklistComponent.prototype.onNextPageClicked = function () {
        this.currentPage = this.currentPage + 1;
        this.worklistService.onQueryStudies(this.currentPage);
    };
    WorklistComponent.prototype.onCurrentPageClicked = function (i) {
        this.currentPage = +i;
        this.worklistService.onQueryStudies(this.currentPage);
    };
    WorklistComponent.prototype.onWorklistHeaderClicked = function (clickedHeader) {
        this.orderHeader = clickedHeader;
        if (!this.isDesc) {
            this.isDesc = true;
            this.worklistService.onQueryStudies(this.currentPage, clickedHeader + "|Desc");
        }
        else {
            this.isDesc = false;
            this.worklistService.onQueryStudies(this.currentPage, clickedHeader + "|");
        }
    };
    WorklistComponent.prototype.onStudyDateRangeTableClicked = function () {
        this.initStudyDate = null;
    };
    WorklistComponent.prototype.onSetRead = function (study) {
        this.worklistService.onSetRead(study);
    };
    WorklistComponent.prototype.onSetUnread = function (study) {
        this.worklistService.onSetUnread(study);
    };
    WorklistComponent.prototype.onCheckStudyChanged = function () {
        this.worklistService.onCheckStudyChanged();
    };
    WorklistComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-worklist",
            template: __webpack_require__(/*! ./worklist.component.html */ "./src/app/components/worklist-shell/worklist/worklist.component.html"),
            providers: [
                // i18n
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"], useValue: "zh-CN" },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["DateAdapter"], useClass: _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__["MomentDateAdapter"], deps: [_angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"]] },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_FORMATS"], useValue: MY_FORMATS },
            ],
            styles: [__webpack_require__(/*! ./worklist.component.css */ "./src/app/components/worklist-shell/worklist/worklist.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], WorklistComponent);
    return WorklistComponent;
}());



/***/ }),

/***/ "./src/app/models/annotation.ts":
/*!**************************************!*\
  !*** ./src/app/models/annotation.ts ***!
  \**************************************/
/*! exports provided: PositionInRectangle, AnnType, MouseEventType, Point, Size, Rectangle, Annotation, AnnGuideStepConfig, AnnGuideStepData, AnnGuideActionButton, AnnGuideData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PositionInRectangle", function() { return PositionInRectangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnType", function() { return AnnType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MouseEventType", function() { return MouseEventType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Point", function() { return Point; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Size", function() { return Size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rectangle", function() { return Rectangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Annotation", function() { return Annotation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideStepConfig", function() { return AnnGuideStepConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideStepData", function() { return AnnGuideStepData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideActionButton", function() { return AnnGuideActionButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideData", function() { return AnnGuideData; });
var PositionInRectangle;
(function (PositionInRectangle) {
    PositionInRectangle[PositionInRectangle["Top"] = 0] = "Top";
    PositionInRectangle[PositionInRectangle["TopLeft"] = 1] = "TopLeft";
    PositionInRectangle[PositionInRectangle["TopRight"] = 2] = "TopRight";
    PositionInRectangle[PositionInRectangle["Left"] = 3] = "Left";
    PositionInRectangle[PositionInRectangle["Right"] = 4] = "Right";
    PositionInRectangle[PositionInRectangle["Bottom"] = 5] = "Bottom";
    PositionInRectangle[PositionInRectangle["BottomLeft"] = 6] = "BottomLeft";
    PositionInRectangle[PositionInRectangle["BottomRight"] = 7] = "BottomRight";
})(PositionInRectangle || (PositionInRectangle = {}));
var AnnType;
(function (AnnType) {
    AnnType[AnnType["Line"] = 1] = "Line";
    AnnType[AnnType["Circle"] = 2] = "Circle";
    AnnType[AnnType["Rectangle"] = 3] = "Rectangle";
})(AnnType || (AnnType = {}));
var MouseEventType;
(function (MouseEventType) {
    MouseEventType[MouseEventType["Click"] = 1] = "Click";
    MouseEventType[MouseEventType["MouseDown"] = 2] = "MouseDown";
    MouseEventType[MouseEventType["MouseMove"] = 3] = "MouseMove";
    MouseEventType[MouseEventType["MouseUp"] = 4] = "MouseUp";
    MouseEventType[MouseEventType["MouseOver"] = 5] = "MouseOver";
    MouseEventType[MouseEventType["MouseOut"] = 6] = "MouseOut";
    MouseEventType[MouseEventType["RightClick"] = 7] = "RightClick";
    MouseEventType[MouseEventType["DblClick"] = 8] = "DblClick";
    MouseEventType[MouseEventType["MouseWheel"] = 9] = "MouseWheel";
})(MouseEventType || (MouseEventType = {}));
var Point = /** @class */ (function () {
    function Point(x, y) {
        this.x = x;
        this.y = y;
    }
    return Point;
}());

var Size = /** @class */ (function () {
    function Size(cx, cy) {
        this.cx = cx;
        this.cy = cy;
    }
    return Size;
}());

var Rectangle = /** @class */ (function () {
    function Rectangle(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
    return Rectangle;
}());

var Annotation = /** @class */ (function () {
    function Annotation(classType, className, cursorName, needGuide) {
        this.classType = classType;
        this.className = className;
        this.cursorName = cursorName;
        this.needGuide = needGuide;
    }
    return Annotation;
}());

// The configuration data for each step of the annotation
var AnnGuideStepConfig = /** @class */ (function () {
    function AnnGuideStepConfig(imageName, tipTextCreating, tipTextCreated) {
        if (tipTextCreated === void 0) { tipTextCreated = undefined; }
        this.imageName = imageName;
        this.tipTextCreating = tipTextCreating;
        this.tipTextCreated = tipTextCreated ? tipTextCreated : tipTextCreating;
    }
    return AnnGuideStepConfig;
}());

// The running data for each step
var AnnGuideStepData = /** @class */ (function () {
    function AnnGuideStepData(stepIndex, baseUrl, annGuideStepConfig) {
        // The image data of the tutor image
        this.imageData = new Image();
        this.annGuideStepConfig = annGuideStepConfig;
        this.stepIndex = stepIndex;
        this.imageSrc = baseUrl + "assets/img/TutorImage/" + annGuideStepConfig.imageName;
    }
    AnnGuideStepData.prototype.loadImage = function () {
        this.imageData.src = this.imageSrc;
    };
    AnnGuideStepData.prototype.getTipText = function (annCreated) {
        return annCreated ? this.annGuideStepConfig.tipTextCreated : this.annGuideStepConfig.tipTextCreating;
    };
    AnnGuideStepData.prototype.del = function () {
        if (this.jcBackground)
            this.jcBackground.del();
        if (this.jcBackgroundBorder)
            this.jcBackgroundBorder.del();
        if (this.jcText)
            this.jcText.del();
    };
    return AnnGuideStepData;
}());

// The action button of the guide
var AnnGuideActionButton = /** @class */ (function () {
    function AnnGuideActionButton(baseUrl, buttonName, onButtonClick) {
        var _this = this;
        // If the button is disabled
        this.disabled = false;
        // There are four states for a button
        this.imageTypeList = ["disabled", "hover", "select", "up"];
        // The image source string for the four states
        this.imageSrcList = [];
        // The image data for the four states
        this.imageDataList = [];
        baseUrl += "assets/img/TutorImage/";
        this.onButtonClick = onButtonClick;
        this.imageTypeList.forEach(function (type) {
            _this.imageSrcList.push(baseUrl + buttonName + "_" + type + ".png");
            _this.imageDataList.push(new Image());
        });
    }
    AnnGuideActionButton.prototype.loadImage = function () {
        for (var i = 0; i < this.imageDataList.length; i++) {
            this.imageDataList[i].src = this.imageSrcList[i];
        }
    };
    AnnGuideActionButton.prototype.del = function () {
        if (this.jcImage)
            this.jcImage.del();
    };
    AnnGuideActionButton.prototype.visible = function (visible) {
        if (this.jcImage) {
            this.jcImage.visible(visible);
        }
    };
    AnnGuideActionButton.prototype.onDisabled = function () {
        this.jcImage._img = this.imageDataList[0];
        this.disabled = true;
    };
    AnnGuideActionButton.prototype.onHover = function () {
        this.jcImage._img = this.imageDataList[1];
        this.disabled = false;
    };
    AnnGuideActionButton.prototype.onSelect = function () {
        this.jcImage._img = this.imageDataList[2];
        this.disabled = false;
    };
    AnnGuideActionButton.prototype.onUp = function () {
        this.jcImage._img = this.imageDataList[3];
        this.disabled = false;
    };
    AnnGuideActionButton.prototype.getUpImage = function () {
        return this.imageDataList[3];
    };
    AnnGuideActionButton.prototype.getDisabledImage = function () {
        return this.imageDataList[0];
    };
    AnnGuideActionButton.prototype.isDisabled = function () {
        return this.disabled;
    };
    return AnnGuideActionButton;
}());

var AnnGuideData = /** @class */ (function () {
    function AnnGuideData(annName, cursor) {
        this.guideStepConfigList = [];
        this.guideStepImageList = [];
        this.annName = annName;
        this.cursor = cursor;
    }
    AnnGuideData.prototype.addStepConfig = function (annGuideStepConfig) {
        this.guideStepConfigList.push(annGuideStepConfig);
    };
    AnnGuideData.prototype.addStepImage = function (stepImage) {
        this.guideStepImageList.push(stepImage);
    };
    return AnnGuideData;
}());



/***/ }),

/***/ "./src/app/models/dailog-data/date-range.ts":
/*!**************************************************!*\
  !*** ./src/app/models/dailog-data/date-range.ts ***!
  \**************************************************/
/*! exports provided: DateRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateRange", function() { return DateRange; });
var DateRange = /** @class */ (function () {
    function DateRange() {
    }
    return DateRange;
}());



/***/ }),

/***/ "./src/app/models/dailog-data/image-process.ts":
/*!*****************************************************!*\
  !*** ./src/app/models/dailog-data/image-process.ts ***!
  \*****************************************************/
/*! exports provided: WindowLevelData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowLevelData", function() { return WindowLevelData; });
var WindowLevelData = /** @class */ (function () {
    function WindowLevelData() {
    }
    return WindowLevelData;
}());



/***/ }),

/***/ "./src/app/models/dropdown-button-menu-data.ts":
/*!*****************************************************!*\
  !*** ./src/app/models/dropdown-button-menu-data.ts ***!
  \*****************************************************/
/*! exports provided: SelectedButtonData, ButtonStyleToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectedButtonData", function() { return SelectedButtonData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ButtonStyleToken", function() { return ButtonStyleToken; });
var SelectedButtonData = /** @class */ (function () {
    function SelectedButtonData() {
    }
    return SelectedButtonData;
}());

var ButtonStyleToken = /** @class */ (function () {
    function ButtonStyleToken() {
    }
    return ButtonStyleToken;
}());



/***/ }),

/***/ "./src/app/models/hanging-protocol.ts":
/*!********************************************!*\
  !*** ./src/app/models/hanging-protocol.ts ***!
  \********************************************/
/*! exports provided: GroupHangingProtocol, ImageHangingProtocol, GroupHangingData, ImageHangingData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupHangingProtocol", function() { return GroupHangingProtocol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageHangingProtocol", function() { return ImageHangingProtocol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupHangingData", function() { return GroupHangingData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageHangingData", function() { return ImageHangingData; });
var GroupHangingProtocol;
(function (GroupHangingProtocol) {
    GroupHangingProtocol[GroupHangingProtocol["ByPatent"] = 1] = "ByPatent";
    GroupHangingProtocol[GroupHangingProtocol["ByStudy"] = 2] = "ByStudy";
    GroupHangingProtocol[GroupHangingProtocol["BySeries"] = 3] = "BySeries";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang"] = 10] = "FreeHang";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_1X1"] = 11] = "FreeHang_1X1";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_1X2"] = 12] = "FreeHang_1X2";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_2X1"] = 21] = "FreeHang_2X1";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_2X2"] = 22] = "FreeHang_2X2";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_3X3"] = 33] = "FreeHang_3X3";
})(GroupHangingProtocol || (GroupHangingProtocol = {}));
var ImageHangingProtocol;
(function (ImageHangingProtocol) {
    ImageHangingProtocol[ImageHangingProtocol["Auto"] = 1] = "Auto";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang"] = 10] = "FreeHang";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_1X1"] = 11] = "FreeHang_1X1";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_1X2"] = 12] = "FreeHang_1X2";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_2X1"] = 21] = "FreeHang_2X1";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_2X2"] = 22] = "FreeHang_2X2";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_3X3"] = 33] = "FreeHang_3X3";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_4X3"] = 43] = "FreeHang_4X3";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_6X5"] = 65] = "FreeHang_6X5";
})(ImageHangingProtocol || (ImageHangingProtocol = {}));
var GroupHangingData = /** @class */ (function () {
    function GroupHangingData() {
    }
    return GroupHangingData;
}());

var ImageHangingData = /** @class */ (function () {
    function ImageHangingData() {
    }
    return ImageHangingData;
}());



/***/ }),

/***/ "./src/app/models/layout.ts":
/*!**********************************!*\
  !*** ./src/app/models/layout.ts ***!
  \**********************************/
/*! exports provided: LayoutContent, LayoutPosition, LayoutMatrix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutContent", function() { return LayoutContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutPosition", function() { return LayoutPosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutMatrix", function() { return LayoutMatrix; });
var LayoutContent;
(function (LayoutContent) {
    LayoutContent[LayoutContent["Patient"] = 0] = "Patient";
    LayoutContent[LayoutContent["Study"] = 1] = "Study";
    LayoutContent[LayoutContent["Series"] = 2] = "Series";
    LayoutContent[LayoutContent["Image"] = 3] = "Image";
})(LayoutContent || (LayoutContent = {}));
var LayoutPosition = /** @class */ (function () {
    function LayoutPosition(rowIndex, colIndex) {
        this.rowIndex = rowIndex;
        this.colIndex = colIndex;
    }
    LayoutPosition.prototype.getId = function () {
        return "" + this.rowIndex + this.colIndex;
    };
    LayoutPosition.fromNumber = function (positionNumber, colCount) {
        var layoutPosition = new LayoutPosition(0, 0);
        layoutPosition.rowIndex = Math.trunc(positionNumber / colCount);
        layoutPosition.colIndex = positionNumber % colCount;
        return layoutPosition;
    };
    LayoutPosition.prototype.equal = function (layoutPosition) {
        return this.rowIndex === layoutPosition.rowIndex && this.colIndex === layoutPosition.colIndex;
    };
    return LayoutPosition;
}());

var LayoutMatrix = /** @class */ (function () {
    function LayoutMatrix(rowCount, colCount) {
        this.rowCount = rowCount;
        this.colCount = colCount;
    }
    LayoutMatrix.fromNumber = function (matrixNumber) {
        var layoutMatrix = new LayoutMatrix(1, 1);
        layoutMatrix.rowCount = Math.trunc(matrixNumber / 10);
        layoutMatrix.colCount = matrixNumber % 10;
        return layoutMatrix;
    };
    LayoutMatrix.prototype.equal = function (layoutMatrix) {
        return this.rowCount === layoutMatrix.rowCount && this.colCount === layoutMatrix.colCount;
    };
    return LayoutMatrix;
}());



/***/ }),

/***/ "./src/app/models/messageBox.ts":
/*!**************************************!*\
  !*** ./src/app/models/messageBox.ts ***!
  \**************************************/
/*! exports provided: MessageBoxType, DialogResult, MessageBoxContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBoxType", function() { return MessageBoxType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogResult", function() { return DialogResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBoxContent", function() { return MessageBoxContent; });
var MessageBoxType;
(function (MessageBoxType) {
    MessageBoxType[MessageBoxType["Info"] = 0] = "Info";
    MessageBoxType[MessageBoxType["Question"] = 1] = "Question";
    MessageBoxType[MessageBoxType["Warning"] = 2] = "Warning";
    MessageBoxType[MessageBoxType["Error"] = 3] = "Error";
    MessageBoxType[MessageBoxType["Input"] = 4] = "Input";
})(MessageBoxType || (MessageBoxType = {}));
var DialogResult;
(function (DialogResult) {
    DialogResult[DialogResult["Ok"] = 0] = "Ok";
    DialogResult[DialogResult["Cancel"] = 1] = "Cancel";
    DialogResult[DialogResult["Yes"] = 2] = "Yes";
    DialogResult[DialogResult["No"] = 3] = "No";
})(DialogResult || (DialogResult = {}));
var MessageBoxContent = /** @class */ (function () {
    function MessageBoxContent() {
    }
    return MessageBoxContent;
}());



/***/ }),

/***/ "./src/app/models/misc-data.ts":
/*!*************************************!*\
  !*** ./src/app/models/misc-data.ts ***!
  \*************************************/
/*! exports provided: FontData, MarkerData, MarkerGroupData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FontData", function() { return FontData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkerData", function() { return MarkerData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkerGroupData", function() { return MarkerGroupData; });
var FontData = /** @class */ (function () {
    function FontData(name, color, size) {
        this.name = name;
        this.color = color;
        this.size = size;
    }
    FontData.prototype.getCanvasFontString = function () {
        return "{0}px {1}".format(this.size, this.name);
    };
    return FontData;
}());

var MarkerData = /** @class */ (function () {
    function MarkerData() {
    }
    return MarkerData;
}());

var MarkerGroupData = /** @class */ (function () {
    function MarkerGroupData() {
    }
    return MarkerGroupData;
}());



/***/ }),

/***/ "./src/app/models/overlay.ts":
/*!***********************************!*\
  !*** ./src/app/models/overlay.ts ***!
  \***********************************/
/*! exports provided: Overlay, OverlayDisplayGroup, OverlayDisplayItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Overlay", function() { return Overlay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverlayDisplayGroup", function() { return OverlayDisplayGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverlayDisplayItem", function() { return OverlayDisplayItem; });
var Overlay = /** @class */ (function () {
    function Overlay() {
    }
    return Overlay;
}());

var OverlayDisplayGroup = /** @class */ (function () {
    function OverlayDisplayGroup(overlay) {
        this.gridX = overlay.gridX;
        this.gridY = overlay.gridY;
        this.modality = overlay.modality;
        this.itemListAlignLeft = [];
        this.itemListAlignRight = [];
    }
    OverlayDisplayGroup.prototype.match = function (overlay) {
        return this.gridX === overlay.gridX && this.gridY === overlay.gridY && this.modality === overlay.modality;
    };
    OverlayDisplayGroup.prototype.add = function (overlay) {
        overlay.offsetX > 0 ? this.itemListAlignLeft.push(overlay) : this.itemListAlignRight.push(overlay);
    };
    return OverlayDisplayGroup;
}());

var OverlayDisplayItem = /** @class */ (function () {
    function OverlayDisplayItem() {
    }
    return OverlayDisplayItem;
}());



/***/ }),

/***/ "./src/app/models/pssi.ts":
/*!********************************!*\
  !*** ./src/app/models/pssi.ts ***!
  \********************************/
/*! exports provided: Pssi, Patient, Study, Series, Image, MultiframeImage, WorklistColumn, RecWorklistData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pssi", function() { return Pssi; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Patient", function() { return Patient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Study", function() { return Study; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Series", function() { return Series; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return Image; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiframeImage", function() { return MultiframeImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistColumn", function() { return WorklistColumn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecWorklistData", function() { return RecWorklistData; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Pssi = /** @class */ (function () {
    function Pssi() {
    }
    return Pssi;
}());

var Patient = /** @class */ (function (_super) {
    __extends(Patient, _super);
    function Patient() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Patient.prototype.setHide = function (hide) {
        this.hide = hide;
        this.studyList.forEach(function (study) { return study.setHide(hide); });
    };
    Patient.clone = function (patient, cloneChild) {
        var clonedPatient = new Patient();
        clonedPatient.id = patient.id;
        clonedPatient.patientId = patient.patientId;
        clonedPatient.patientName = patient.patientName;
        clonedPatient.firstName = patient.firstName;
        clonedPatient.middleName = patient.middleName;
        clonedPatient.lastName = patient.lastName;
        clonedPatient.patientBirthDate = patient.patientBirthDate;
        clonedPatient.patientSex = patient.patientSex;
        clonedPatient.patientAge = patient.patientAge;
        clonedPatient.breed = patient.breed;
        clonedPatient.species = patient.species;
        clonedPatient.studyList = new Array();
        if (cloneChild) {
            patient.studyList.forEach(function (study) {
                var clonedStudy = Study.clone(study, cloneChild);
                clonedStudy.patient = clonedPatient;
                clonedPatient.studyList.push(clonedStudy);
            });
        }
        return clonedPatient;
    };
    return Patient;
}(Pssi));

var Study = /** @class */ (function (_super) {
    __extends(Study, _super);
    function Study() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Study.prototype.setHide = function (hide) {
        this.hide = hide;
        this.seriesList.forEach(function (series) { return series.setHide(hide); });
    };
    Study.clone = function (study, cloneChild) {
        var clonedStudy = new Study();
        clonedStudy.checked = study.checked;
        clonedStudy.detailsLoaded = study.detailsLoaded;
        clonedStudy.id = study.id;
        clonedStudy.studyId = study.studyId;
        clonedStudy.studyInstanceUid = study.studyInstanceUid;
        clonedStudy.studyDate = study.studyDate;
        clonedStudy.studyTime = study.studyTime;
        clonedStudy.accessionNo = study.accessionNo;
        clonedStudy.seriesCount = study.seriesCount;
        clonedStudy.imageCount = study.imageCount;
        clonedStudy.modality = study.modality;
        clonedStudy.studyDescription = study.studyDescription;
        clonedStudy.referPhysician = study.referPhysician;
        clonedStudy.tokenId = study.tokenId;
        clonedStudy.additionalPatientHistory = study.additionalPatientHistory;
        clonedStudy.veterinarian = study.veterinarian;
        clonedStudy.requestedProcPriority = study.requestedProcPriority;
        clonedStudy.seriesList = new Array();
        if (cloneChild) {
            study.seriesList.forEach(function (series) {
                var clonedSeries = Series.clone(series, cloneChild);
                clonedSeries.study = clonedStudy;
                clonedStudy.seriesList.push(clonedSeries);
            });
        }
        return clonedStudy;
    };
    return Study;
}(Pssi));

var Series = /** @class */ (function (_super) {
    __extends(Series, _super);
    function Series() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Series.prototype.setHide = function (hide) {
        this.hide = hide;
        this.imageList.forEach(function (image) { return image.setHide(hide); });
    };
    Series.clone = function (series, cloneChild) {
        var clonedSeries = new Series();
        clonedSeries.id = series.id;
        clonedSeries.seriesInstanceUid = series.seriesInstanceUid;
        clonedSeries.modality = series.modality;
        clonedSeries.seriesDateString = series.seriesDateString;
        clonedSeries.seriesTimeString = series.seriesTimeString;
        clonedSeries.bodyPart = series.bodyPart;
        clonedSeries.viewPosition = series.viewPosition;
        clonedSeries.seriesNumber = series.seriesNumber;
        clonedSeries.imageCount = series.imageCount;
        clonedSeries.contrastBolus = series.contrastBolus;
        clonedSeries.localBodyPart = series.localBodyPart;
        clonedSeries.seriesDescription = series.seriesDescription;
        clonedSeries.operatorName = series.operatorName;
        clonedSeries.referHospital = series.referHospital;
        clonedSeries.patientPosition = series.patientPosition;
        clonedSeries.localViewPosition = series.localViewPosition;
        clonedSeries.imageList = new Array();
        if (cloneChild) {
            series.imageList.forEach(function (image) {
                var clonedImage = Image.clone(image, cloneChild);
                clonedImage.series = clonedSeries;
                clonedSeries.imageList.push(clonedImage);
            });
        }
        return clonedSeries;
    };
    return Series;
}(Pssi));

var Image = /** @class */ (function (_super) {
    __extends(Image, _super);
    function Image() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Image.clone = function (image, cloneChild) {
        var clonedImage = new Image();
        clonedImage.id = image.id;
        clonedImage.objectFile = image.objectFile;
        clonedImage.imageColumns = image.imageColumns;
        clonedImage.imageRows = image.imageRows;
        clonedImage.keyImage = image.keyImage;
        clonedImage.imageNo = image.imageNo;
        clonedImage.bitsAllocated = image.bitsAllocated;
        clonedImage.acquisitionTime = image.acquisitionTime;
        clonedImage.acquisitionDate = image.acquisitionDate;
        clonedImage.imageTime = image.imageTime;
        clonedImage.imageDate = image.imageDate;
        return clonedImage;
    };
    Image.prototype.setHide = function (hide) {
        this.hide = hide;
    };
    Image.prototype.width = function () {
        return this.imageColumns;
    };
    Image.prototype.height = function () {
        return this.imageRows;
    };
    Image.prototype.getRotateAngle = function () {
        if (!this.transformMatrix)
            return 0;
        var transImg = this.transformMatrix;
        var n1 = transImg[0][0];
        var n3 = transImg[0][1];
        var n5 = transImg[0][2];
        var n2 = transImg[1][0];
        var n4 = transImg[1][1];
        var n6 = transImg[1][2]; //transform dy
        var a = n1;
        var b = n3;
        var c = n2;
        var d = n4;
        var scale = Math.sqrt(a * a + b * b);
        // arc sin, convert from radians to degrees, round
        var sin = b / scale;
        // next line works for 30deg but not 130deg (returns 50);
        // var angle = Math.round(Math.asin(sin) * (180/Math.PI));
        var angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));
        return angle;
    };
    Image.prototype.getScaleValue = function () {
        if (!this.transformMatrix)
            return 1;
        var transImg = this.transformMatrix;
        var n1 = transImg[0][0];
        var n3 = transImg[0][1];
        var n5 = transImg[0][2];
        var n2 = transImg[1][0];
        var n4 = transImg[1][1];
        var n6 = transImg[1][2]; //transform dy
        var a = n1;
        var b = n3;
        var c = n2;
        var d = n4;
        var scale = Math.sqrt(a * a + b * b);
        return scale;
    };
    Image.prototype.getPixelSpacing = function () {
        var tagValue = this.cornerStoneImage.data.string("x00280030");
        if (!tagValue) {
            tagValue = this.cornerStoneImage.data.string("x00181164");
        }
        if (!tagValue) {
            return null;
        }
        var valueList = tagValue.split("\\");
        if (valueList.length !== 2) {
            return null;
        }
        var pixelSpacing = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Size"](0, 0);
        pixelSpacing.cx = Number(valueList[0]);
        pixelSpacing.cy = Number(valueList[1]);
        return pixelSpacing;
    };
    return Image;
}(Pssi));

var MultiframeImage = /** @class */ (function (_super) {
    __extends(MultiframeImage, _super);
    function MultiframeImage() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return MultiframeImage;
}(Image));

var WorklistColumn = /** @class */ (function () {
    function WorklistColumn() {
    }
    return WorklistColumn;
}());

var RecWorklistData = /** @class */ (function () {
    function RecWorklistData() {
    }
    return RecWorklistData;
}());



/***/ }),

/***/ "./src/app/models/shortcut.ts":
/*!************************************!*\
  !*** ./src/app/models/shortcut.ts ***!
  \************************************/
/*! exports provided: DataSource, Shortcut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataSource", function() { return DataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Shortcut", function() { return Shortcut; });
var DataSource;
(function (DataSource) {
    DataSource[DataSource["LocalTestData"] = 1] = "LocalTestData";
    DataSource[DataSource["MiniPacs"] = 2] = "MiniPacs";
    DataSource[DataSource["OtherPacs"] = 3] = "OtherPacs";
})(DataSource || (DataSource = {}));
var Shortcut = /** @class */ (function () {
    function Shortcut() {
        this.id = -1;
        this.name = "";
        this.dataSource = DataSource.LocalTestData;
        this.clearCondition();
    }
    Shortcut.createDefaultShortcut = function (name) {
        var shortcut = new Shortcut();
        shortcut.id = 0;
        shortcut.name = name;
        shortcut.dataSource = DataSource.MiniPacs;
        shortcut.studyDate = name;
        return shortcut;
    };
    Shortcut.prototype.clearCondition = function () {
        this.patientId = "";
        this.patientName = "";
        this.gender = "";
        this.modality = "";
        this.studyDate = "";
        this.patientBirthDateFrom = null;
        this.patientBirthDateTo = null;
        this.studyDateFrom = null;
        this.studyDateTo = null;
        this.studyId = "";
        this.accessionNo = "";
    };
    Shortcut.prototype.copyConditionFrom = function (shortcut) {
        this.patientId = shortcut.patientId;
        this.patientName = shortcut.patientName;
        this.gender = shortcut.gender;
        this.modality = shortcut.modality;
        this.studyDate = shortcut.studyDate;
        this.patientBirthDateFrom = shortcut.patientBirthDateFrom;
        this.patientBirthDateTo = shortcut.patientBirthDateTo;
        this.studyDateFrom = shortcut.studyDateFrom;
        this.studyDateTo = shortcut.studyDateTo;
        this.studyId = shortcut.studyId;
        this.accessionNo = shortcut.accessionNo;
    };
    Shortcut.prototype.clone = function (theObj) {
        var obj = {};
        for (var key in theObj) {
            obj[key] = theObj[key];
        }
        return obj;
    };
    return Shortcut;
}());



/***/ }),

/***/ "./src/app/models/viewer-group-data.ts":
/*!*********************************************!*\
  !*** ./src/app/models/viewer-group-data.ts ***!
  \*********************************************/
/*! exports provided: ViewerGroupData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerGroupData", function() { return ViewerGroupData; });
/* harmony import */ var _models_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/layout */ "./src/app/models/layout.ts");
/* harmony import */ var _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/viewer-image-data */ "./src/app/models/viewer-image-data.ts");


var ViewerGroupData = /** @class */ (function () {
    function ViewerGroupData(viewerShellData, imageHangingProtocol, position) {
        this.imageCount = 0;
        this.imageDataList = new Array();
        this.viewerShellData = viewerShellData;
        this.imageHangingProtocol = imageHangingProtocol;
        this.position = position;
        ViewerGroupData.logService.debug("ViewerGroupData " + this.getId() + " created!");
    }
    ViewerGroupData.prototype.getId = function () {
        return this.viewerShellData.getId() + "_" + this.position.getId();
    };
    ViewerGroupData.prototype.getIndex = function () {
        return this.position.rowIndex * this.viewerShellData.groupMatrix.colCount + this.position.colIndex;
    };
    ViewerGroupData.prototype.setPosition = function (position) {
        this.position = position;
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Image Operation
    ViewerGroupData.prototype.cleanImage = function () {
        this.imageDataList.length = 0;
        this.imageCount = 0;
    };
    ViewerGroupData.prototype.getImage = function (rowIndex, colIndex) {
        if (this.imageDataList.length === 0) {
            return null;
        }
        var imageIndex = rowIndex * this.imageMatrix.colCount + colIndex;
        if (imageIndex >= this.imageDataList.length) {
            alert("getImage() => Invalid image index : " + imageIndex);
            return null;
        }
        return this.imageDataList[imageIndex];
    };
    ViewerGroupData.prototype.addImage = function (imageIndex, image) {
        var imageData = new _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_1__["ViewerImageData"](this, _models_layout__WEBPACK_IMPORTED_MODULE_0__["LayoutPosition"].fromNumber(imageIndex, this.imageMatrix.colCount));
        imageData.setImage(image);
        this.imageDataList.push(imageData);
    };
    ViewerGroupData.prototype.updateImagePositionFromIndex = function (imageIndex) {
        if (imageIndex < 0 || imageIndex >= this.imageDataList.length) {
            alert("updateImagePositionFromIndex() => Invalid image index : " + imageIndex);
            return;
        }
        this.imageDataList[imageIndex].setPosition(_models_layout__WEBPACK_IMPORTED_MODULE_0__["LayoutPosition"].fromNumber(imageIndex, this.imageMatrix.colCount));
    };
    ViewerGroupData.prototype.setEmpty = function () {
        this.imageCount = 1;
        this.imageMatrix = new _models_layout__WEBPACK_IMPORTED_MODULE_0__["LayoutMatrix"](1, 1);
        this.imageDataList = new Array();
        this.addImage(0, null);
    };
    return ViewerGroupData;
}());



/***/ }),

/***/ "./src/app/models/viewer-image-data.ts":
/*!*********************************************!*\
  !*** ./src/app/models/viewer-image-data.ts ***!
  \*********************************************/
/*! exports provided: ViewerImageData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerImageData", function() { return ViewerImageData; });
var ViewerImageData = /** @class */ (function () {
    function ViewerImageData(viewerGroupData, position) {
        this.groupData = viewerGroupData;
        this.position = position;
        ViewerImageData.logService.debug("ViewerImageData " + this.getId() + " created!");
    }
    ViewerImageData.prototype.getId = function () {
        return this.groupData.getId() + this.position.getId();
    };
    ViewerImageData.prototype.setPosition = function (position) {
        this.position = position;
    };
    ViewerImageData.prototype.setImage = function (image) {
        this.image = image;
    };
    return ViewerImageData;
}());



/***/ }),

/***/ "./src/app/models/viewer-shell-data.ts":
/*!*********************************************!*\
  !*** ./src/app/models/viewer-shell-data.ts ***!
  \*********************************************/
/*! exports provided: ViewerShellData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShellData", function() { return ViewerShellData; });
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/pssi */ "./src/app/models/pssi.ts");
/* harmony import */ var _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/viewer-group-data */ "./src/app/models/viewer-group-data.ts");
/* harmony import */ var _models_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/layout */ "./src/app/models/layout.ts");



var ViewerShellData = /** @class */ (function () {
    function ViewerShellData(defaultGroupHangingProtocol, defaultImageHangingProtocol) {
        this.patientList = new Array();
        this.groupCount = 0; // The count of groups that contain image
        this.groupMatrix = new _models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutMatrix"](1, 1);
        this.groupDataList = new Array(); // Must contains all group even if its an empty group
        this.defaultGroupHangingProtocol = defaultGroupHangingProtocol;
        this.defaultImageHangingProtocol = defaultImageHangingProtocol;
        this.hide = false;
        ViewerShellData.logService.debug("ViewerShellData " + this.getId() + " created!");
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    ViewerShellData.prototype.addStudy = function (studyInWorklist) {
        var study = _models_pssi__WEBPACK_IMPORTED_MODULE_0__["Study"].clone(studyInWorklist, true);
        study.hide = false;
        // Set parent for all series and all images, since they are NOT set in JSON string returned from server
        for (var i = 0; i < study.seriesList.length; i++) {
            var series = study.seriesList[i];
            series.study = study;
            series.hide = false;
            for (var j = 0; j < series.imageList.length; j++) {
                series.imageList[j].hide = false;
                series.imageList[j].series = series;
            }
        }
        var index = -1;
        for (var i = 0; i < this.patientList.length; i++) {
            if (this.patientList[i].id === studyInWorklist.patient.id) {
                index = i;
                break;
            }
        }
        var patient = null;
        if (index === -1) {
            // Clone a patient and added to the list
            patient = _models_pssi__WEBPACK_IMPORTED_MODULE_0__["Patient"].clone(studyInWorklist.patient, false);
            this.patientList.push(patient);
        }
        else {
            patient = this.patientList[index];
        }
        study.patient = patient;
        patient.hide = false;
        patient.studyList.push(study);
    };
    ViewerShellData.prototype.getId = function () {
        var _this = this;
        var id = "";
        this.patientList.forEach(function (patient) { return id += _this.getIdFromPatient(patient); });
        return id;
    };
    ViewerShellData.prototype.getName = function () {
        var name = "";
        this.patientList.forEach(function (patient) { return name += patient.patientId + "_" + patient.patientName + " | "; });
        return name.substr(0, name.length - 3);
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get count
    ViewerShellData.prototype.getTotalPatientCount = function () {
        return this.patientList.length;
    };
    ViewerShellData.prototype.getTotalStudyCount = function () {
        var count = 0;
        this.patientList.forEach(function (patient) { return count += patient.studyList.length; });
        return count;
    };
    ViewerShellData.prototype.getTotalSeriesCount = function () {
        var count = 0;
        this.patientList.forEach(function (patient) {
            patient.studyList.forEach(function (study) { return count += study.seriesList.length; });
        });
        return count;
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Group Operation
    ViewerShellData.prototype.cleanGroup = function () {
        this.groupDataList.length = 0;
        this.groupCount = 0;
    };
    ViewerShellData.prototype.getGroup = function (rowIndex, colIndex) {
        var groupIndex = rowIndex * this.groupMatrix.colCount + colIndex;
        if (groupIndex >= this.groupDataList.length) {
            alert("Invalid group index : " + groupIndex);
            return null;
        }
        ViewerShellData.logService.debug("ViewData: Get group for " + this.getId() + rowIndex + colIndex);
        return this.groupDataList[groupIndex];
    };
    ViewerShellData.prototype.addGroup = function (groupIndex) {
        var groupData = new _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_1__["ViewerGroupData"](this, this.defaultImageHangingProtocol, _models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutPosition"].fromNumber(groupIndex, this.groupMatrix.colCount));
        this.groupDataList.push(groupData);
    };
    ViewerShellData.prototype.addEmptyGroup = function (groupIndex) {
        var groupData = new _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_1__["ViewerGroupData"](this, this.defaultImageHangingProtocol, _models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutPosition"].fromNumber(groupIndex, this.groupMatrix.colCount));
        groupData.setEmpty();
        this.groupDataList.push(groupData);
    };
    ViewerShellData.prototype.updateGroupPositionFromIndex = function (groupIndex) {
        if (groupIndex < 0 || groupIndex >= this.groupDataList.length) {
            alert("updateGroupPositionFromIndex() => Invalid group index : " + groupIndex);
            return;
        }
        this.groupDataList[groupIndex].setPosition(_models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutPosition"].fromNumber(groupIndex, this.groupMatrix.colCount));
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get image
    ViewerShellData.prototype.getAllImageOfPatient = function (patient) {
        var images = new Array();
        patient.studyList.forEach(function (study) {
            study.seriesList.forEach(function (series) { return images = images.concat(series.imageList); });
        });
        return images;
    };
    ViewerShellData.prototype.getAllImageOfStudy = function (study) {
        var images = new Array();
        study.seriesList.forEach(function (series) { return images = images.concat(series.imageList); });
        return images;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get object by index
    ViewerShellData.prototype.getPatientByIndex = function (patientIndex) {
        if (patientIndex >= this.patientList.length) {
            return null;
        }
        return this.patientList[patientIndex];
    };
    ViewerShellData.prototype.getStudyByIndex = function (studyIndex) {
        var studyList = this.getAllStudyList();
        if (studyIndex >= studyList.length) {
            //alert('Error get study by index : ' + studyIndex + ', total study count is ' + studyList.length);
            return null;
        }
        return studyList[studyIndex];
    };
    ViewerShellData.prototype.getSeriesByIndex = function (seriesIndex) {
        var seriesList = this.getAllSeriesList();
        if (seriesIndex >= seriesList.length) {
            //alert('Error get series by index : ' + seriesIndex + ', total series count is ' + seriesList.length);
            return null;
        }
        return seriesList[seriesIndex];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    ViewerShellData.prototype.getIdFromPatient = function (patient) {
        var id = "";
        patient.studyList.forEach(function (value) { return id += "_" + value.id; });
        return id;
    };
    ViewerShellData.prototype.getAllStudyList = function () {
        var studies = new Array();
        this.patientList.forEach(function (patient) { return studies = studies.concat(patient.studyList); });
        return studies;
    };
    ViewerShellData.prototype.getAllSeriesList = function () {
        var studyList = this.getAllStudyList();
        var series = new Array();
        studyList.forEach(function (study) { return series = series.concat(study.seriesList); });
        return series;
    };
    return ViewerShellData;
}());



/***/ }),

/***/ "./src/app/services/configuration.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/configuration.service.ts ***!
  \***************************************************/
/*! exports provided: ConfigurationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigurationService", function() { return ConfigurationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _database_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/log.service */ "./src/app/services/log.service.ts");
/* harmony import */ var _models_misc_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/misc-data */ "./src/app/models/misc-data.ts");
/* harmony import */ var _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../annotation/layer-object/ann-guide */ "./src/app/annotation/layer-object/ann-guide.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ConfigurationService = /** @class */ (function () {
    function ConfigurationService(databaseService, locationStrategy, logService) {
        var _this = this;
        this.databaseService = databaseService;
        this.locationStrategy = locationStrategy;
        this.logService = logService;
        this.overLayList = [];
        this.markerConfig = [];
        this.baseUrl = window.location.origin + this.locationStrategy.getBaseHref();
        this.logService.info("Config: Base url is " + this.baseUrl);
        this.databaseService.getOverlays().subscribe(function (overlayList) {
            _this.overLayList = overlayList;
        });
        this.databaseService.getMarkerConfig().subscribe(function (markerConfig) {
            _this.markerConfig = markerConfig;
        });
        //this.databaseService.getOverFont().subscribe(fontData => {
        //    this.textOverlayFont = fontData;
        //});
        _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_5__["AnnGuide"].createAnnGuideDataList();
    }
    ConfigurationService.prototype.getBaseUrl = function () {
        return this.baseUrl;
    };
    ConfigurationService.prototype.getOverlayConfigList = function () {
        return this.overLayList;
    };
    ConfigurationService.prototype.getOverlayFont = function () {
        this.textOverlayFont = new _models_misc_data__WEBPACK_IMPORTED_MODULE_4__["FontData"]("Times New Roman", "#FFF", 15);
        return this.textOverlayFont;
    };
    ConfigurationService.prototype.getMarkerConfig = function () {
        return this.markerConfig;
    };
    ConfigurationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_database_service__WEBPACK_IMPORTED_MODULE_2__["DatabaseService"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["LocationStrategy"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_3__["LogService"]])
    ], ConfigurationService);
    return ConfigurationService;
}());



/***/ }),

/***/ "./src/app/services/database.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/database.service.ts ***!
  \**********************************************/
/*! exports provided: DatabaseService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseService", function() { return DatabaseService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/pssi */ "./src/app/models/pssi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var httpOptions = {
    headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': "application/json" })
};
var DatabaseService = /** @class */ (function () {
    function DatabaseService(http) {
        this.http = http;
        this.configUrl = "config";
        this.shortcutUrl = "shortcut"; // URL to web api
        this.pssiUrl = "pssi";
        this.overlayUrl = "overlay";
        this.id_patient = 1;
        this.id_study = 1;
        this.id_series = 1;
        this.id_image = 1;
        this.localTestData = this.createStudiesTest();
    }
    DatabaseService.prototype.getMarkerConfig = function () {
        var _this = this;
        var url = this.configUrl + "/markerconfig/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (MarkerGroupData) { return _this.log("fetched marker config"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getMarkerConfig", [])));
    };
    DatabaseService.prototype.getShortcut = function (id) {
        var url = this.shortcutUrl + "/details/" + id;
        return this.http.get(url);
    };
    DatabaseService.prototype.getOverFont = function () {
        var url = this.overlayUrl + "/font/";
        return this.http.get(url);
    };
    DatabaseService.prototype.getOverlays = function () {
        var _this = this;
        var url = this.overlayUrl + "/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (Overlay) { return _this.log("fetched Overlay"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getOverlays", [])));
    };
    /** GET shortcut from the server */
    DatabaseService.prototype.getShortcuts = function () {
        var _this = this;
        var url = this.shortcutUrl + "/search/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcuts) { return _this.log("fetched shortcuts"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getShortcuts", [])));
    };
    DatabaseService.prototype.getWorklistCol = function () {
        var _this = this;
        var url = this.shortcutUrl + "/search/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcuts) { return _this.log("fetched shortcuts"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getShortcuts", [])));
    };
    /** Save shortcut to the server */
    DatabaseService.prototype.saveShortcut = function (shortcut) {
        var _this = this;
        var url = this.shortcutUrl + "/create/";
        return this.http.post(url, shortcut, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("save shortcut"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("saveShortcut", [])));
    };
    DatabaseService.prototype.setRead = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setread/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("setRead"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setRead", [])));
    };
    DatabaseService.prototype.setUnread = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setunread/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("setUnread"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setUnread", [])));
    };
    DatabaseService.prototype.setDeletePrevent = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setdeleteprevent/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("set delete prevent"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setDeletePrevent", [])));
    };
    DatabaseService.prototype.setDeleteAllow = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setdeleteallow/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("set delete prevent"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setDeleteAllow", [])));
    };
    DatabaseService.prototype.deleteStudy = function (id, deletionReason) {
        var _this = this;
        var url = this.pssiUrl + "/deletestudy/";
        var jsonId = { id: id, deletionReason: deletionReason };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("delete study"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("deleteStudy", [])));
    };
    /** Delete shortcut to the server */
    DatabaseService.prototype.deleteShortcut = function (shortcut) {
        var _this = this;
        var url = this.shortcutUrl + "/delete";
        return this.http.post(url, shortcut, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("delete shortcut"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("deleteShortcut", [])));
    };
    /** GET studies from the server */
    DatabaseService.prototype.getStudies = function (shortcut, pageIndex, sortItem) {
        var _this = this;
        var url = this.pssiUrl + "/search/";
        var data = { shortcut: shortcut, pageIndex: pageIndex, sortItem: sortItem };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (recWorklistData) { return _this.log('fetched recWorklistData'); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getRecWorklistData')));
    };
    /** GET study from the server */
    DatabaseService.prototype.getStudiesForDcmViewer = function (id, showHistoryStudies) {
        var _this = this;
        var url = this.pssiUrl + "/GetStudiesForDcmViewer/";
        var data = { id: id, showHistoryStudies: showHistoryStudies };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (recWorklistData) { return _this.log('fetched recWorklistData'); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getRecWorklistData')));
    };
    DatabaseService.prototype.getStudiesTest = function () {
        var aa = this.localTestData.sort(this.compareStudy);
        return aa;
    };
    DatabaseService.prototype.compareStudy = function (study1, study2) {
        return study1.patient.patientName > study2.patient.patientName ? 1 : -1;
    };
    DatabaseService.prototype.createStudiesTest = function () {
        var studies = new Array();
        var patient1 = this.createPatient("PID001", "Tom", "M");
        var patient2 = this.createPatient("PID002", "Jerry", "M");
        var patient3 = this.createPatient("PID003", "Mark", "M");
        var study = this.createStudy(patient1, 1);
        studies.push(study);
        study = this.createStudy(patient2, 2);
        studies.push(study);
        study = this.createStudy(patient2, 3);
        studies.push(study);
        study = this.createStudy(patient3, 1);
        studies.push(study);
        study = this.createStudy(patient3, 2);
        studies.push(study);
        study = this.createStudy(patient3, 5);
        studies.push(study);
        return studies;
    };
    DatabaseService.prototype.createPatient = function (patientId, patientName, gender) {
        var patient = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Patient"]();
        patient.id = this.id_patient++;
        patient.patientId = patientId;
        patient.patientName = patientName;
        patient.patientSex = gender;
        patient.studyList = new Array();
        return patient;
    };
    DatabaseService.prototype.createStudy = function (patient, seriesCount) {
        var study = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Study"]();
        study.id = this.id_study++;
        study.studyInstanceUid = study.id + "." + study.id;
        study.seriesCount = seriesCount;
        study.imageCount = seriesCount * seriesCount;
        study.studyId = "" + study.id;
        study.accessionNo = study.studyId;
        study.studyDate = "2018-11-11";
        study.studyTime = "12:11:12";
        study.modality = "DX";
        study.checked = false;
        study.studyDescription = "Study Desc";
        study.seriesList = new Array();
        for (var i = 0; i < seriesCount; i++) {
            study.seriesList.push(this.createSeries(study, seriesCount));
        }
        study.patient = patient;
        patient.studyList.push(study);
        return study;
    };
    DatabaseService.prototype.createSeries = function (study, imageCount) {
        var series = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Series"]();
        series.id = this.id_series++;
        series.study = study;
        series.modality = "CR";
        series.imageCount = imageCount;
        series.imageList = new Array();
        for (var i = 0; i < imageCount; i++) {
            series.imageList.push(this.createImage(series));
        }
        return series;
    };
    DatabaseService.prototype.createImage = function (series) {
        var image = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Image"]();
        image.id = this.id_image++;
        image.series = series;
        image.imageColumns = 1;
        image.imageRows = 1;
        return image;
    };
    /**
    * Handle Http operation that failed.
    * Let the app continue.
    * @param operation - name of the operation that failed
    * @param result - optional value to return as the observable result
    */
    DatabaseService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = "operation"; }
        return function (error) {
            // TODO: send the error to remote logging infrastructure
            console.error(error); // log to console instead
            // TODO: better job of transforming error for user consumption
            _this.log(operation + " failed: " + error.message);
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    /** Log a HeroService message with the MessageService */
    DatabaseService.prototype.log = function (message) {
        //alert(`HeroService: ${message}`);
    };
    DatabaseService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], DatabaseService);
    return DatabaseService;
}());



/***/ }),

/***/ "./src/app/services/dialog.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/dialog.service.ts ***!
  \********************************************/
/*! exports provided: DialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogService", function() { return DialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/common/message-box/message-box.component */ "./src/app/components/common/message-box/message-box.component.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DialogService = /** @class */ (function () {
    function DialogService(dialog) {
        this.dialog = dialog;
    }
    DialogService.prototype.showMessageBox = function (messageBoxContent) {
        var dialogConfig = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogConfig"]();
        dialogConfig.disableClose = true;
        dialogConfig.autoFocus = messageBoxContent.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
        dialogConfig.data = messageBoxContent;
        var dialogRef = this.dialog.open(_components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_2__["MessageBoxComponent"], dialogConfig);
        return dialogRef.afterClosed();
    };
    DialogService.prototype.showDialog = function (dialogComponent, dialogData) {
        var dialogRef = this.dialog.open(dialogComponent, {
            autoFocus: true,
            data: dialogData
        });
        return dialogRef.afterClosed();
    };
    DialogService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], DialogService);
    return DialogService;
}());



/***/ }),

/***/ "./src/app/services/dicom-image.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/dicom-image.service.ts ***!
  \*************************************************/
/*! exports provided: DicomImageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DicomImageService", function() { return DicomImageService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _models_overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/overlay */ "./src/app/models/overlay.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DicomImageService = /** @class */ (function () {
    function DicomImageService(http, configurationService, logService) {
        this.http = http;
        this.configurationService = configurationService;
        this.logService = logService;
        this.logPrefix = "DicomImageService: ";
        this.dicomImageUrl = "dicomImage";
        this.overlayDisplayGroupList = [];
        this.baseUrl = this.configurationService.getBaseUrl();
    }
    DicomImageService.prototype.getDicomFile = function (image) {
        var imageUrl = this.dicomImageUrl + "/dicom/" + image.id;
        return this.http.get(imageUrl, { responseType: "blob" });
    };
    DicomImageService.prototype.getThumbnailFile = function (image) {
        var imageUrl = this.dicomImageUrl + "/thumbnail/" + image.id;
        return this.http.get(imageUrl, { responseType: "blob" });
    };
    DicomImageService.prototype.getCornerStoneImage = function (image) {
        var imageUri = "wadouri:{0}/wado?requestType=WADO&studyUID={studyUID}&seriesUID={serieUID}&objectUID={1}&frameIndex={2}&contentType=application%2Fdicom"
            .format(this.baseUrl, image.id, 0);
        cornerstone.loadImage(imageUri).then(function (ctImage) {
            image.cornerStoneImage = ctImage;
        });
    };
    DicomImageService.prototype.getOverlayDisplayList = function (image, canvasWidth, canvasHeight, canvasContext) {
        var _this = this;
        if (this.overlayDisplayGroupList.length === 0) {
            var overlayList = this.configurationService.getOverlayConfigList();
            this.formatOverlayList(overlayList);
        }
        var overlayDisplayList = [];
        var groupList = this.getOverlayDisplayGroup(image.series.modality);
        groupList.forEach(function (group) {
            _this.addOverlayDisplayList(overlayDisplayList, group.itemListAlignLeft, true, image, canvasWidth, canvasHeight, canvasContext);
            _this.addOverlayDisplayList(overlayDisplayList, group.itemListAlignRight, false, image, canvasWidth, canvasHeight, canvasContext);
        });
        return overlayDisplayList;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Text overlay funtctions
    DicomImageService.prototype.formatOverlayList = function (overlayList) {
        var _this = this;
        overlayList.forEach(function (overlay) {
            _this.addOverlayToGroup(overlay);
        });
        this.overlayDisplayGroupList.forEach(function (group) {
            group.itemListAlignLeft = group.itemListAlignLeft.sort(function (n1, n2) {
                return (n1.offsetX < n2.offsetX) ? -1 : 1;
            });
            group.itemListAlignRight = group.itemListAlignRight.sort(function (n1, n2) {
                return (n1.offsetX < n2.offsetX) ? 1 : -1;
            });
        });
    };
    DicomImageService.prototype.addOverlayToGroup = function (overlay) {
        var filtered = this.overlayDisplayGroupList.filter(function (value) { return value.match(overlay); });
        var overlayGroup = null;
        if (filtered.length === 0) {
            overlayGroup = new _models_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayDisplayGroup"](overlay);
            this.overlayDisplayGroupList.push(overlayGroup);
        }
        else {
            overlayGroup = filtered[0];
        }
        overlayGroup.add(overlay);
    };
    DicomImageService.prototype.getOverlayDisplayGroup = function (modality) {
        return this.overlayDisplayGroupList.filter(function (group) { return group.modality === modality; });
    };
    DicomImageService.prototype.getTextOverlayValue = function (image, overlay) {
        var tagValue;
        if (overlay.overlayId === "9003") {
            tagValue = "W: {0}, L: {1}";
        }
        else if (overlay.overlayId === "9004") {
            tagValue = "{0}";
        }
        else if (overlay.tableName && overlay.fieldName) {
            var obj;
            switch (overlay.tableName) {
                case 'image':
                    obj = image;
                    break;
                case 'series':
                    obj = image.series;
                    break;
                case 'study':
                    obj = image.series.study;
                    break;
                case 'patient':
                    obj = image.series.study.patient;
                    break;
                default:
                    this.logService.error(this.logPrefix + "Invalid table name " + overlay.tableName);
                    return "Error!";
            }
            tagValue = obj[overlay.fieldName];
        }
        else {
            var tagString = this.getTagString(overlay.groupNumber, overlay.elementNumber);
            tagValue = image.cornerStoneImage.data.string(tagString);
        }
        return tagValue === undefined ? "" : tagValue;
    };
    DicomImageService.prototype.decimalToHexString = function (decimal, padding) {
        var hex = Number(decimal).toString(16);
        padding = typeof (padding) === "undefined" || padding === null ? 2 : padding;
        while (hex.length < padding) {
            hex = "0" + hex;
        }
        return hex;
    };
    DicomImageService.prototype.getTagString = function (group, element) {
        return 'x' + this.decimalToHexString(group, 4) + this.decimalToHexString(element, 4);
    };
    DicomImageService.prototype.addOverlayDisplayList = function (overlayDisplayList, overlayList, alignLeft, image, canvasWidth, canvasHeight, canvasContext) {
        var _this = this;
        var lineWidth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        overlayList.forEach(function (overlayConfig) {
            var displayItem = new _models_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayDisplayItem"]();
            displayItem.align = alignLeft ? "left" : "right";
            var posX = overlayConfig.gridX / 2 * canvasWidth;
            if (overlayConfig.gridX === 0) {
                posX += 5;
            }
            else if (overlayConfig.gridX === 2) {
                posX -= 5;
            }
            else if (overlayConfig.gridX === 1) {
                alignLeft ? posX += 5 : posX -= 5;
            }
            var posY = overlayConfig.gridY / 2 * canvasHeight;
            if (overlayConfig.gridY === 0) {
                posY += 18;
            }
            else if (overlayConfig.gridY === 2) {
                posY += 15; // ? why
            }
            var fontHeight = 20;
            if (overlayConfig.offsetY > 0) {
                posY += fontHeight * (overlayConfig.offsetY - 1);
            }
            else {
                posY += fontHeight * overlayConfig.offsetY;
            }
            displayItem.id = overlayConfig.overlayId;
            displayItem.text = overlayConfig.prefix + _this.getTextOverlayValue(image, overlayConfig) + overlayConfig.suffix;
            var offSetY = overlayConfig.offsetY + 6;
            displayItem.posX = posX;
            displayItem.posX += alignLeft ? lineWidth[offSetY] : -lineWidth[offSetY];
            displayItem.posY = posY;
            lineWidth[offSetY] += canvasContext.measureText(displayItem.text).width + 10;
            overlayDisplayList.push(displayItem);
        });
    };
    DicomImageService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _services_configuration_service__WEBPACK_IMPORTED_MODULE_2__["ConfigurationService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_4__["LogService"]])
    ], DicomImageService);
    return DicomImageService;
}());



/***/ }),

/***/ "./src/app/services/hanging-protocol.service.ts":
/*!******************************************************!*\
  !*** ./src/app/services/hanging-protocol.service.ts ***!
  \******************************************************/
/*! exports provided: HangingProtocolService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HangingProtocolService", function() { return HangingProtocolService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/layout */ "./src/app/models/layout.ts");
/* harmony import */ var _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/hanging-protocol */ "./src/app/models/hanging-protocol.ts");
/* harmony import */ var _log_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var HangingProtocolService = /** @class */ (function () {
    function HangingProtocolService(logService) {
        this.logService = logService;
        this.defaultGroupHangingProtocol = _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy;
        this.defaultImageHangingPrococal = _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].Auto;
        this.groupLayoutNumberList = [11, 11, 12, 22, 22];
        this.imageLayoutNumberList = [11, 11, 12, 22, 22, 23, 23, 33];
        this.groupHangingDataList = [
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByPatent, name: "Patient", tip: "Group Image by Paitient" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy, name: "Study", tip: "Group Image by Study" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].BySeries, name: "Series", tip: "Group Image by Series" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang, name: "FreeHang", tip: "Free Hang" }
        ];
        this.groupLayoutDataList = [
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_1X1, name: "Layout_1X1", tip: "Layout Group by 1X1" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_2X1, name: "Layout_1X2", tip: "Layout Group by 1X2" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_1X2, name: "Layout_2X1", tip: "Layout Group by 2X1" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_2X2, name: "Layout_2X2", tip: "Layout Group by 2X2" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_3X3, name: "Layout_3X3", tip: "Layout Group by 3X3" }
        ];
        this.imageLayoutDataList = [
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].Auto, name: "tile", tip: "Layout Image by Modality" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_1X1, name: "SubLayout_1X1", tip: "Layout Image by 1X1" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_2X1, name: "SubLayout_1X2", tip: "Layout Image by 1X2" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_1X2, name: "SubLayout_2X1", tip: "Layout Image by 2X1" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_2X2, name: "SubLayout_2X2", tip: "Layout Image by 2X2" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_3X3, name: "SubLayout_3X3", tip: "Layout Image by 3X3" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_4X3, name: "SubLayout_3X4", tip: "Layout Image by 3X4" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_6X5, name: "SubLayout_5X6", tip: "Layout Image by 5X6" }
        ];
    }
    HangingProtocolService.prototype.getDefaultGroupHangingProtocol = function () {
        return this.defaultGroupHangingProtocol;
    };
    HangingProtocolService.prototype.getDefaultImageHangingPrococal = function () {
        return this.defaultImageHangingPrococal;
    };
    HangingProtocolService.prototype.getGroupHangingDataList = function () {
        return this.groupHangingDataList;
    };
    HangingProtocolService.prototype.getDefaultGroupHangingData = function () {
        return this.groupHangingDataList[1];
    };
    HangingProtocolService.prototype.getGroupLayoutDataList = function () {
        return this.groupLayoutDataList;
    };
    HangingProtocolService.prototype.getDefaultGroupLayoutData = function () {
        return this.groupLayoutDataList[0];
    };
    HangingProtocolService.prototype.getImageLayoutDataList = function () {
        return this.imageLayoutDataList;
    };
    HangingProtocolService.prototype.getDefaultImageLayoutData = function () {
        return this.imageLayoutDataList[0];
    };
    HangingProtocolService.prototype.applyGroupHangingProtocol = function (viewerShellData, groupHangingProtocol) {
        this.logService.info("HP service: applyGroupHangingProtocol to viewer " + viewerShellData.getName() + ", protocol is " + _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"][groupHangingProtocol]);
        if (groupHangingProtocol >= _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang) {
            var groupMatrix = _models_layout__WEBPACK_IMPORTED_MODULE_1__["LayoutMatrix"].fromNumber(groupHangingProtocol);
            if (!groupMatrix.equal(viewerShellData.groupMatrix)) {
                var oldMatrixSize = viewerShellData.groupMatrix.rowCount * viewerShellData.groupMatrix.colCount;
                viewerShellData.groupMatrix = groupMatrix;
                // For the exsiting group, only change its position
                for (var i = 0; i < viewerShellData.groupDataList.length; i++) {
                    viewerShellData.updateGroupPositionFromIndex(i);
                }
                // Add empty group if matrix size becomes bigger
                var matrixSize = viewerShellData.groupMatrix.rowCount * viewerShellData.groupMatrix.colCount;
                for (var i = viewerShellData.groupDataList.length; i < matrixSize; i++) {
                    viewerShellData.addEmptyGroup(i);
                }
            }
        }
        else {
            var groupCount = void 0;
            if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByPatent) {
                groupCount = viewerShellData.getTotalPatientCount();
            }
            else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy) {
                groupCount = viewerShellData.getTotalStudyCount();
            }
            else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].BySeries) {
                groupCount = viewerShellData.getTotalSeriesCount();
            }
            else {
                alert("applyGroupHangingProtocol() => Invalid Group Hanging Protocol : " + groupHangingProtocol);
                return;
            }
            viewerShellData.groupHangingProtocol = groupHangingProtocol;
            if (groupCount !== viewerShellData.groupCount) {
                viewerShellData.cleanGroup();
                viewerShellData.groupCount = groupCount;
                viewerShellData.groupMatrix = this.getGroupLayoutMatrixFromCount(groupCount);
                var matrixSize = viewerShellData.groupMatrix.rowCount * viewerShellData.groupMatrix.colCount;
                for (var i = 0; i < matrixSize; i++) {
                    viewerShellData.addGroup(i);
                }
            }
        }
    };
    HangingProtocolService.prototype.applyImageHangingProtocol = function (groupData, imageHangingProtocol) {
        this.logService.info("HP service: applyImageHangingProtocol to Group" + groupData.getId() + ", protocol is " + _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"][imageHangingProtocol]);
        if (groupData.imageCount === 0) {
            // This is the first time to apply 
            groupData.imageHangingProtocol = imageHangingProtocol;
            this.createImageDataListOfGroup(groupData);
            return;
        }
        groupData.imageHangingProtocol = imageHangingProtocol;
        if (imageHangingProtocol >= _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang) {
            var imageMatrix = _models_layout__WEBPACK_IMPORTED_MODULE_1__["LayoutMatrix"].fromNumber(imageHangingProtocol);
            if (!imageMatrix.equal(groupData.imageMatrix)) {
                groupData.imageMatrix = imageMatrix;
                // For the image cell that contains image, only change its position
                for (var i = 0; i < groupData.imageDataList.length; i++) {
                    groupData.updateImagePositionFromIndex(i);
                }
                // Add empty image if matrix size becomes bigger
                var matrixSize = groupData.imageMatrix.rowCount * groupData.imageMatrix.colCount;
                for (var i = groupData.imageDataList.length; i < matrixSize; i++) {
                    groupData.addImage(i, null);
                }
            }
        }
        else {
            if (imageHangingProtocol !== _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].Auto) {
                alert("applyImageHangingProtocol() => Invalid Image Hanging Protocol : " + imageHangingProtocol);
                return;
            }
            groupData.imageMatrix = this.getImageLayoutMatrixFromCount(groupData.imageCount);
            // For the image cell that contains image, only change its position
            for (var i = 0; i < groupData.imageDataList.length; i++) {
                groupData.updateImagePositionFromIndex(i);
            }
        }
    };
    HangingProtocolService.prototype.createImageDataListOfGroup = function (groupData) {
        var groupIndex = groupData.getIndex();
        var groupHangingProtocol = groupData.viewerShellData.groupHangingProtocol;
        var ret = false;
        if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByPatent) {
            // GroupIndex is the patient index
            ret = this.createImageDataListByPatient(groupData, groupIndex);
        }
        else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy) {
            ret = this.createImageDataListByStudy(groupData, groupIndex);
        }
        else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].BySeries) {
            ret = this.createImageDataListBySeries(groupData, groupIndex);
        }
        else {
            alert("createImageListOfGroup() => Invalid Group Hanging Protocol : " + groupHangingProtocol);
        }
        if (!ret) {
            groupData.setEmpty();
        }
    };
    HangingProtocolService.prototype.createImageDataListByPatient = function (groupData, patientIndex) {
        var patient = groupData.viewerShellData.getPatientByIndex(patientIndex);
        if (patient === null || patient === undefined) {
            // This is an empty group
            return false;
        }
        var imageList = groupData.viewerShellData.getAllImageOfPatient(patient);
        return this.createImageDataListFromImageList(groupData, imageList);
    };
    HangingProtocolService.prototype.createImageDataListByStudy = function (groupData, studyIndex) {
        var study = groupData.viewerShellData.getStudyByIndex(studyIndex);
        if (study === null || study === undefined) {
            // This is an empty group
            return false;
        }
        var imageList = groupData.viewerShellData.getAllImageOfStudy(study);
        return this.createImageDataListFromImageList(groupData, imageList);
    };
    HangingProtocolService.prototype.createImageDataListBySeries = function (groupData, seriesIndex) {
        var series = groupData.viewerShellData.getSeriesByIndex(seriesIndex);
        if (series === null || series === undefined) {
            // This is an empty group
            return false;
        }
        return this.createImageDataListFromImageList(groupData, series.imageList);
    };
    HangingProtocolService.prototype.createImageDataListFromImageList = function (groupData, imageList) {
        groupData.imageDataList = new Array();
        groupData.imageCount = imageList.length;
        groupData.imageMatrix = this.getImageLayoutMatrixFromCount(groupData.imageCount);
        var matrixSize = groupData.imageMatrix.rowCount * groupData.imageMatrix.colCount;
        for (var i = 0; i < matrixSize; i++) {
            var image = i < groupData.imageCount ? imageList[i] : null;
            groupData.addImage(i, image);
        }
        return true;
    };
    HangingProtocolService.prototype.getGroupLayoutMatrixFromCount = function (count) {
        return this.getLayoutMatrixFromCount(count, this.groupLayoutNumberList);
    };
    HangingProtocolService.prototype.getImageLayoutMatrixFromCount = function (count) {
        return this.getLayoutMatrixFromCount(count, this.imageLayoutNumberList);
    };
    HangingProtocolService.prototype.getLayoutMatrixFromCount = function (count, layoutNumberList) {
        var matrixNumber = 33;
        if (count < layoutNumberList.length) {
            matrixNumber = layoutNumberList[count];
        }
        return _models_layout__WEBPACK_IMPORTED_MODULE_1__["LayoutMatrix"].fromNumber(matrixNumber);
    };
    HangingProtocolService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_log_service__WEBPACK_IMPORTED_MODULE_3__["LogService"]])
    ], HangingProtocolService);
    return HangingProtocolService;
}());



/***/ }),

/***/ "./src/app/services/image-selector.service.ts":
/*!****************************************************!*\
  !*** ./src/app/services/image-selector.service.ts ***!
  \****************************************************/
/*! exports provided: ImageSelectorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageSelectorService", function() { return ImageSelectorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ImageSelectorService = /** @class */ (function () {
    function ImageSelectorService() {
        // Observable string sources
        this.imageSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable number sources
        this.imageLayoutChangedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string sources
        this.thumbnailSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.imageSelected$ = this.imageSelectedSource.asObservable();
        // Observable number streams
        this.imageLayoutChanged$ = this.imageLayoutChangedSource.asObservable();
        this.thumbnailSelected$ = this.thumbnailSelectedSource.asObservable();
    }
    // Service string commands
    ImageSelectorService.prototype.selectImage = function (viewerImageData) {
        this.imageSelectedSource.next(viewerImageData);
    };
    // Service number commands
    ImageSelectorService.prototype.changeImageLayout = function (imageLayoutStyle) {
        this.imageLayoutChangedSource.next(imageLayoutStyle);
    };
    ImageSelectorService.prototype.selectThumbnail = function (image) {
        this.thumbnailSelectedSource.next(image);
    };
    ImageSelectorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        })
    ], ImageSelectorService);
    return ImageSelectorService;
}());



/***/ }),

/***/ "./src/app/services/log.service.ts":
/*!*****************************************!*\
  !*** ./src/app/services/log.service.ts ***!
  \*****************************************/
/*! exports provided: LogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogService", function() { return LogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LogService = /** @class */ (function () {
    function LogService() {
    }
    LogService.prototype.error = function (log) {
        this.logInternal(log, 'E');
    };
    LogService.prototype.warning = function (log) {
        this.logInternal(log, 'W');
    };
    LogService.prototype.info = function (log) {
        this.logInternal(log, 'I');
    };
    LogService.prototype.debug = function (log) {
        this.logInternal(log, 'D');
    };
    LogService.prototype.seperator = function () {
        console.log('');
    };
    LogService.prototype.formatNumberToString = function (num, maxLen) {
        if (maxLen === void 0) { maxLen = 2; }
        if (maxLen == 2) {
            return num < 10 ? '0' + num : '' + num;
        }
        else {
            return num < 10 ? '00' + num : num < 100 ? '0' + num : '' + num;
        }
    };
    LogService.prototype.logInternal = function (log, level) {
        var cur = new Date();
        var timeStamp = cur.getFullYear() + '-' + this.formatNumberToString(cur.getMonth() + 1) + '-' + this.formatNumberToString(cur.getDate())
            + ' ' + this.formatNumberToString(cur.getHours()) + ':' + this.formatNumberToString(cur.getMinutes())
            + ':' + this.formatNumberToString(cur.getSeconds()) + '.' + this.formatNumberToString(cur.getMilliseconds(), 3);
        var content = timeStamp + ' ' + level + ' ' + log;
        console.log(content);
    };
    LogService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], LogService);
    return LogService;
}());



/***/ }),

/***/ "./src/app/services/shell-navigator.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/shell-navigator.service.ts ***!
  \*****************************************************/
/*! exports provided: ShellNavigatorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShellNavigatorService", function() { return ShellNavigatorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ShellNavigatorService = /** @class */ (function () {
    function ShellNavigatorService() {
        this.viewerShellDataList = new Array();
        // Observable string sources
        this.shellSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.shellSelected$ = this.shellSelectedSource.asObservable();
        // Observable string sources
        this.shellCreatedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.shellCreated$ = this.shellCreatedSource.asObservable();
        // Observable string sources
        this.shellDeletedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.shellDeleted$ = this.shellDeletedSource.asObservable();
    }
    // Service string commands
    ShellNavigatorService.prototype.shellCreated = function (viewerShellData) {
        this.shellCreatedSource.next(viewerShellData);
    };
    // Service string commands
    ShellNavigatorService.prototype.shellSelected = function (viewerShellData) {
        this.shellSelectedSource.next(viewerShellData);
    };
    ShellNavigatorService.prototype.shellNavigate = function (viewerShellData) {
        if (!this.isViewerShellOpened(viewerShellData)) {
            this.viewerShellDataList.push(viewerShellData);
            this.shellCreated(viewerShellData);
        }
        else {
            this.shellSelected(viewerShellData);
        }
        this.viewerShellDataHighlighted = viewerShellData;
    };
    ShellNavigatorService.prototype.shellDelete = function (viewerShellData) {
        if (this.isViewerShellOpened(viewerShellData)) {
            var index = this.viewerShellDataList.indexOf(viewerShellData);
            this.viewerShellDataList =
                this.viewerShellDataList.filter(function (value, index, array) { return value.getId() !== viewerShellData.getId(); });
            if (index >= this.viewerShellDataList.length) {
                index--;
            }
            if (this.viewerShellDataHighlighted === viewerShellData) {
                if (index >= 0) {
                    this.viewerShellDataHighlighted = this.viewerShellDataList[index];
                }
                else {
                    this.viewerShellDataHighlighted = null;
                }
                this.shellNavigate(this.viewerShellDataHighlighted);
                this.shellDeletedSource.next(viewerShellData);
            }
            return this.viewerShellDataHighlighted;
        }
        return null;
    };
    ShellNavigatorService.prototype.isViewerShellOpened = function (viewerShellData) {
        if (viewerShellData === null)
            return true;
        return this.viewerShellDataList.some(function (value, index, array) { return value.getId() === viewerShellData.getId(); });
    };
    ShellNavigatorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [])
    ], ShellNavigatorService);
    return ShellNavigatorService;
}());



/***/ }),

/***/ "./src/app/services/view-context.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/view-context.service.ts ***!
  \**************************************************/
/*! exports provided: ViewContextEnum, OperationEnum, OperationData, ViewContext, ViewContextService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContextEnum", function() { return ViewContextEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationEnum", function() { return OperationEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationData", function() { return OperationData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContext", function() { return ViewContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContextService", function() { return ViewContextService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ViewContextEnum;
(function (ViewContextEnum) {
    ViewContextEnum[ViewContextEnum["Select"] = 1] = "Select";
    ViewContextEnum[ViewContextEnum["Pan"] = 2] = "Pan";
    ViewContextEnum[ViewContextEnum["WL"] = 3] = "WL";
    ViewContextEnum[ViewContextEnum["Zoom"] = 4] = "Zoom";
    ViewContextEnum[ViewContextEnum["Magnifier"] = 5] = "Magnifier";
    ViewContextEnum[ViewContextEnum["ROIZoom"] = 6] = "ROIZoom";
    ViewContextEnum[ViewContextEnum["CreateAnn"] = 7] = "CreateAnn";
    ViewContextEnum[ViewContextEnum["ROIWL"] = 8] = "ROIWL";
    ViewContextEnum[ViewContextEnum["MagnifyX2"] = 9] = "MagnifyX2";
    ViewContextEnum[ViewContextEnum["MagnifyX4"] = 10] = "MagnifyX4";
    ViewContextEnum[ViewContextEnum["MagnifyX8"] = 11] = "MagnifyX8";
    ViewContextEnum[ViewContextEnum["SelectAnn"] = 12] = "SelectAnn";
})(ViewContextEnum || (ViewContextEnum = {}));
var OperationEnum;
(function (OperationEnum) {
    OperationEnum[OperationEnum["Rotate"] = 1] = "Rotate";
    OperationEnum[OperationEnum["Flip"] = 2] = "Flip";
    OperationEnum[OperationEnum["Invert"] = 3] = "Invert";
    OperationEnum[OperationEnum["ShowAnnotation"] = 4] = "ShowAnnotation";
    OperationEnum[OperationEnum["ShowOverlay"] = 5] = "ShowOverlay";
    OperationEnum[OperationEnum["ShowRuler"] = 6] = "ShowRuler";
    OperationEnum[OperationEnum["DeleteAnnotation"] = 7] = "DeleteAnnotation";
    OperationEnum[OperationEnum["Save"] = 8] = "Save";
    OperationEnum[OperationEnum["SetContext"] = 9] = "SetContext";
    OperationEnum[OperationEnum["ManualWL"] = 10] = "ManualWL";
    OperationEnum[OperationEnum["FitHeight"] = 11] = "FitHeight";
    OperationEnum[OperationEnum["FitWidth"] = 12] = "FitWidth";
    OperationEnum[OperationEnum["FitWindow"] = 13] = "FitWindow";
    OperationEnum[OperationEnum["FitOriginal"] = 14] = "FitOriginal";
    OperationEnum[OperationEnum["Reset"] = 15] = "Reset";
    OperationEnum[OperationEnum["ShowGraphicOverlay"] = 16] = "ShowGraphicOverlay";
    OperationEnum[OperationEnum["ToggleKeyImage"] = 17] = "ToggleKeyImage";
    OperationEnum[OperationEnum["Marker"] = 18] = "Marker";
})(OperationEnum || (OperationEnum = {}));
var OperationData = /** @class */ (function () {
    function OperationData(type, data) {
        this.type = type;
        this.data = data;
    }
    return OperationData;
}());

var ViewContext = /** @class */ (function () {
    function ViewContext(action, data) {
        if (data === void 0) { data = undefined; }
        this._action = ViewContextEnum.Pan;
        this._action = action;
        this._data = data;
    }
    Object.defineProperty(ViewContext.prototype, "action", {
        get: function () {
            return this._action;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContext.prototype, "data", {
        get: function () {
            return this._data;
        },
        enumerable: true,
        configurable: true
    });
    return ViewContext;
}());

var ViewContextService = /** @class */ (function () {
    function ViewContextService() {
        this._showAnnotation = true;
        this._showOverlay = true;
        this._showRuler = true;
        this._showGraphicOverlay = false;
        this.viewContextChangedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.viewContextChanged$ = this.viewContextChangedSource.asObservable();
        this.operationSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.onOperation$ = this.operationSource.asObservable();
        this._curContext = new ViewContext(ViewContextEnum.Select);
    }
    Object.defineProperty(ViewContextService.prototype, "curContext", {
        get: function () {
            return this._curContext;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "previousContext", {
        get: function () {
            return this._previousContext;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showAnnotation", {
        get: function () {
            return this._showAnnotation;
        },
        set: function (bShow) {
            this._showAnnotation = bShow;
            var data = new OperationData(OperationEnum.ShowAnnotation, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showOverlay", {
        get: function () {
            return this._showOverlay;
        },
        set: function (bShow) {
            this._showOverlay = bShow;
            var data = new OperationData(OperationEnum.ShowOverlay, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showRuler", {
        get: function () {
            return this._showRuler;
        },
        set: function (bShow) {
            this._showRuler = bShow;
            var data = new OperationData(OperationEnum.ShowRuler, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showGraphicOverlay", {
        get: function () {
            return this._showGraphicOverlay;
        },
        set: function (bShow) {
            this._showGraphicOverlay = bShow;
            var data = new OperationData(OperationEnum.ShowGraphicOverlay, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    ViewContextService.prototype.onOperation = function (data) {
        switch (data.type) {
            case OperationEnum.ShowAnnotation:
                {
                    this.showAnnotation = !this.showAnnotation;
                    break;
                }
            case OperationEnum.ShowOverlay:
                {
                    this.showOverlay = !this.showOverlay;
                    break;
                }
            case OperationEnum.ShowRuler:
                {
                    this.showRuler = !this.showRuler;
                    break;
                }
            case OperationEnum.ShowGraphicOverlay:
                {
                    this.showGraphicOverlay = !this.showGraphicOverlay;
                    break;
                }
            default:
                this.operationSource.next(data);
        }
    };
    ViewContextService.prototype.setContext = function (context, data) {
        if (data === void 0) { data = undefined; }
        var curContext = new ViewContext(context, data);
        this._previousContext = this._curContext;
        this._curContext = curContext;
        if (this._curContext.action !== this._previousContext.action) {
            this.viewContextChangedSource.next(this._curContext);
        }
        else if (this._curContext.action == ViewContextEnum.CreateAnn) {
            //if want to create the same object even if current object is not finished yet, we still change context to delete it. 
            this.viewContextChangedSource.next(this._curContext);
        }
    };
    ViewContextService.prototype.isImageToolBarButtonChecked = function (buttonData) {
        switch (buttonData.operationData.type) {
            case OperationEnum.ShowAnnotation:
                return this._showAnnotation;
            case OperationEnum.ShowOverlay:
                return this._showOverlay;
            case OperationEnum.ShowRuler:
                return this._showRuler;
            case OperationEnum.ShowGraphicOverlay:
                return this._showGraphicOverlay;
            default:
                return buttonData.operationData.data == this._curContext.action;
        }
    };
    ViewContextService.prototype.isImageToolBarButtonCheckStyle = function (buttonData) {
        switch (buttonData.operationData.type) {
            case OperationEnum.ShowAnnotation:
            case OperationEnum.ShowOverlay:
            case OperationEnum.ShowRuler:
            case OperationEnum.ShowGraphicOverlay:
            case OperationEnum.SetContext:
                return true;
            default:
                return false;
        }
    };
    ViewContextService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [])
    ], ViewContextService);
    return ViewContextService;
}());



/***/ }),

/***/ "./src/app/services/worklist.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/worklist.service.ts ***!
  \**********************************************/
/*! exports provided: WorklistService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistService", function() { return WorklistService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _models_shortcut__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/shortcut */ "./src/app/models/shortcut.ts");
/* harmony import */ var _database_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/viewer-shell-data */ "./src/app/models/viewer-shell-data.ts");
/* harmony import */ var _hanging_protocol_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _shell_navigator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var WorklistService = /** @class */ (function () {
    function WorklistService(databaseService, shellNavigatorService, hangingProtocolService) {
        this.databaseService = databaseService;
        this.shellNavigatorService = shellNavigatorService;
        this.hangingProtocolService = hangingProtocolService;
        this.querying = false;
        this.bDisableLoadImageButton = true;
        this.bDisableLoadKeyImage = true;
        this.bDisableChangeImageSeriesOrder = true;
        this.bDisableReassign = true;
        this.bDisableTransfer = true;
        this.bDisableTagEdit = true;
        this.bDisableDeleteStudy = true;
        this.bDisableSetReadBtn = true;
        this.bDisableSetUnreadBtn = true;
        this.bDisableDeletePreventBtn = true;
        this.bDisableDeleteAllowBtn = true;
        this.loadedStudyCount = 0;
        this._showHistoryStudies = true;
        // Observable Shortcut sources
        this.shortcutSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable Shortcut streams
        this.shortcutSelected$ = this.shortcutSelectedSource.asObservable();
        this._shortcut = new _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["Shortcut"]();
        this._shortcut.dataSource = _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].MiniPacs;
        this.loadedStudy = new Array();
    }
    Object.defineProperty(WorklistService.prototype, "shortcut", {
        get: function () {
            return this._shortcut;
        },
        set: function (value) {
            this._shortcut.copyConditionFrom(value);
            this.studies = this.onQueryStudies(1);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorklistService.prototype, "showHistoryStudies", {
        get: function () {
            return this._showHistoryStudies;
        },
        set: function (value) {
            this._showHistoryStudies = value;
        },
        enumerable: true,
        configurable: true
    });
    // Service Shortcut commands
    WorklistService.prototype.shortcutSelected = function (shortcut) {
        this.shortcutSelectedSource.next(shortcut);
    };
    WorklistService.prototype.onQueryStudies = function (pageIndex, sortItem) {
        var _this = this;
        if (sortItem === void 0) { sortItem = ""; }
        this.querying = true;
        if (this.isUsingLocalTestData()) {
            this.studies = this.databaseService.getStudiesTest();
            this.querying = false;
        }
        else {
            this.databaseService.getStudies(this._shortcut, pageIndex, sortItem).subscribe(function (recWorklistData) { return _this.formatStudies(recWorklistData); });
        }
        return this.studies;
    };
    WorklistService.prototype.onQueryShortcuts = function () {
        var _this = this;
        this.querying = true;
        if (this.isUsingLocalTestData()) {
            //this.shortcuts = this.databaseService.getShortcuts();
            this.querying = false;
        }
        else {
            this.databaseService.getShortcuts().subscribe(function (shortcuts) { return _this.formatShortcuts(shortcuts); });
        }
        return this.shortcuts;
    };
    WorklistService.prototype.onQueryWorklistCol = function () {
        var _this = this;
        this.querying = true;
        if (this.isUsingLocalTestData()) {
            //this.shortcuts = this.databaseService.getShortcuts();
            this.querying = false;
        }
        else {
            this.databaseService.getWorklistCol().subscribe(function (shortcuts) { return _this.formatShortcuts(shortcuts); });
        }
        return this.shortcuts;
    };
    WorklistService.prototype.onSaveShortcut = function (name) {
        var _this = this;
        if (this.isUsingLocalTestData()) {
            //this.studies = this.databaseService.getStudiesTest();
            //this.querying = false;
        }
        else {
            this._shortcut.name = name;
            this.databaseService.saveShortcut(this._shortcut).subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onDeleteShortcut = function (shortcut) {
        var _this = this;
        if (this.isUsingLocalTestData()) {
            //this.studies = this.databaseService.getStudiesTest();
            //this.querying = false;
        }
        else {
            //this._shortcut.name = name;
            this.databaseService.deleteShortcut(shortcut).subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onShowSingleStudy = function (study) {
        var _this = this;
        var viewerShellData = new _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"](this.hangingProtocolService.getDefaultGroupHangingProtocol(), this.hangingProtocolService.getDefaultImageHangingPrococal());
        if (this.isUsingLocalTestData()) {
            viewerShellData.addStudy(study);
            this.shellNavigatorService.shellNavigate(viewerShellData);
        }
        else {
            this.databaseService.getStudiesForDcmViewer(study.id, false).subscribe(function (value) {
                viewerShellData.addStudy(value[0]);
                // If the PSSI information changed, need to update worklist ??
                // study = value;
                // study = Study.clone(value, false);
                // study.patient = Patient.clone(value.patient, false);
                _this.shellNavigatorService.shellNavigate(viewerShellData);
            });
        }
    };
    WorklistService.prototype.onShowAllCheckedStudy = function () {
        var _this = this;
        if (this.isUsingLocalTestData()) {
            var viewerShellData_1 = new _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"](this.hangingProtocolService.getDefaultGroupHangingProtocol(), this.hangingProtocolService.getDefaultImageHangingPrococal());
            this.studies.forEach(function (study) {
                if (study.checked) {
                    viewerShellData_1.addStudy(study);
                }
            });
            this.shellNavigatorService.shellNavigate(viewerShellData_1);
        }
        else {
            var checkedCount_1 = 0;
            this.studies.forEach(function (study) {
                if (study.checked) {
                    checkedCount_1++;
                }
            });
            this.studies.forEach(function (study) {
                if (study.checked) {
                    _this.databaseService.getStudiesForDcmViewer(study.id, _this.showHistoryStudies)
                        .subscribe(function (value) { return _this.studyDetailsLoaded(checkedCount_1, value); });
                }
            });
        }
    };
    WorklistService.prototype.onSetRead = function (study) {
        var _this = this;
        if (study === void 0) { study = null; }
        if (study == null) {
            this.studies.forEach(function (study) {
                if (study.checked) {
                    _this.databaseService.setRead(study.studyInstanceUid)
                        .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
                }
            });
        }
        else {
            this.databaseService.setRead(study.studyInstanceUid)
                .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onSetUnread = function (study) {
        var _this = this;
        if (study === void 0) { study = null; }
        if (study == null) {
            this.studies.forEach(function (study) {
                if (study.checked) {
                    _this.databaseService.setUnread(study.studyInstanceUid)
                        .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
                }
            });
        }
        else {
            this.databaseService.setUnread(study.studyInstanceUid)
                .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onCheckStudyChanged = function (study) {
        if (study === void 0) { study = null; }
        var scanStatusCompletedCount = 0;
        var scanStatusEndedCount = 0;
        var deletePreventCount = 0;
        var deleteAllowCount = 0;
        var checkedStudyCount = 0;
        this.studies.forEach(function (study) {
            if (study.checked) {
                checkedStudyCount++;
                if (study.scanStatus == "Completed") {
                    scanStatusCompletedCount++;
                }
                else if ((study.scanStatus == "Ended")) {
                    scanStatusEndedCount++;
                }
                if (study.reserved == "N") {
                    deletePreventCount++;
                }
                else if ((study.reserved == "Y")) {
                    deleteAllowCount++;
                }
            }
        });
        if (checkedStudyCount == 0) {
            this.bDisableLoadImageButton = true;
            this.bDisableLoadKeyImage = true;
            this.bDisableChangeImageSeriesOrder = true;
            this.bDisableReassign = true;
            this.bDisableTransfer = true;
            this.bDisableTagEdit = true;
            this.bDisableDeleteStudy = true;
            this.bDisableSetReadBtn = true;
            this.bDisableSetUnreadBtn = true;
            this.bDisableDeletePreventBtn = true;
            this.bDisableDeleteAllowBtn = true;
        }
        else {
            this.bDisableLoadImageButton = false;
            this.bDisableLoadKeyImage = false;
            this.bDisableChangeImageSeriesOrder = false;
            this.bDisableReassign = false;
            this.bDisableTransfer = false;
            this.bDisableTagEdit = false;
            this.bDisableDeleteStudy = false;
            // Scan Status
            if (scanStatusCompletedCount == 0) {
                this.bDisableSetUnreadBtn = true;
            }
            else {
                this.bDisableSetUnreadBtn = false;
            }
            if (scanStatusEndedCount == 0) {
                this.bDisableSetReadBtn = true;
            }
            else {
                this.bDisableSetReadBtn = false;
            }
            if (scanStatusCompletedCount != 0 && scanStatusEndedCount != 0) {
                this.bDisableSetReadBtn = true;
                this.bDisableSetUnreadBtn = true;
            }
            // reserved
            if (deletePreventCount == 0) {
                this.bDisableDeletePreventBtn = true;
            }
            else {
                this.bDisableDeletePreventBtn = false;
            }
            if (deleteAllowCount == 0) {
                this.bDisableDeleteAllowBtn = true;
            }
            else {
                this.bDisableDeleteAllowBtn = false;
            }
            if (deletePreventCount != 0 && deleteAllowCount != 0) {
                this.bDisableDeletePreventBtn = true;
                this.bDisableDeleteAllowBtn = true;
            }
        }
    };
    WorklistService.prototype.onDeletePrevent = function () {
        var _this = this;
        this.studies.forEach(function (study) {
            if (study.checked) {
                _this.databaseService.setDeletePrevent(study.studyInstanceUid)
                    .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
            }
        });
    };
    WorklistService.prototype.onDeleteAllow = function () {
        var _this = this;
        this.studies.forEach(function (study) {
            if (study.checked) {
                _this.databaseService.setDeleteAllow(study.studyInstanceUid)
                    .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
            }
        });
    };
    WorklistService.prototype.onDeleteStudy = function (deletionReason) {
        var _this = this;
        this.studies.forEach(function (study) {
            if (study.checked) {
                _this.databaseService.deleteStudy(study.studyInstanceUid, deletionReason)
                    .subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
            }
        });
    };
    WorklistService.prototype.isUsingLocalTestData = function () {
        return this._shortcut.dataSource === _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].LocalTestData;
    };
    WorklistService.prototype.setDataSource = function (dataSource) {
        this._shortcut.dataSource = dataSource;
        this.studies = this.onQueryStudies(1);
        this.shortcuts = this.onQueryShortcuts();
    };
    WorklistService.prototype.onCleanCondition = function () {
        this.shortcut.clearCondition();
    };
    WorklistService.prototype.onQueryAllStudies = function () {
        this.shortcut.clearCondition();
        this.onQueryStudies(1);
        this.onQueryShortcuts();
    };
    WorklistService.prototype.onQueryTodayStudy = function () {
        this.shortcut.clearCondition();
        this.shortcut.studyDate = '1';
        this.onQueryStudies(1);
    };
    WorklistService.prototype.onQueryStudyByShortcut = function (shortcut) {
        this.shortcut = shortcut;
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    WorklistService.prototype.formatStudies = function (recWorklistData) {
        var studiesList = recWorklistData.studyList;
        for (var i = 0; i < studiesList.length; i++) {
            studiesList[i].checked = false;
            studiesList[i].detailsLoaded = false;
            studiesList[i].bodyPartList = new Array();
            for (var j = 0; j < studiesList[i].seriesList.length; j++) {
                studiesList[i].seriesList[j].study = studiesList[i];
                if (!studiesList[i].bodyPartList.includes(studiesList[i].seriesList[j].localBodyPart)) {
                    studiesList[i].bodyPartList.push(studiesList[i].seriesList[j].localBodyPart);
                }
            }
        }
        this.studies = studiesList;
        this.pageCount = recWorklistData.pageCount;
        this.worklistColumns = recWorklistData.worklistColumns;
        for (var _i = 0, _a = recWorklistData.worklistColumns; _i < _a.length; _i++) {
            var worklistColumn = _a[_i];
            worklistColumn.shortcutType = this.shortcut;
        }
        for (var _b = 0, studiesList_1 = studiesList; _b < studiesList_1.length; _b++) {
            var study = studiesList_1[_b];
            for (var _c = 0, _d = recWorklistData.worklistColumns; _c < _d.length; _c++) {
                var worklistColumn = _d[_c];
                worklistColumn.studyCol = study;
            }
        }
        this.pages = Array.from(Array(this.pageCount), function (x, i) { return i; });
        this.querying = false;
    };
    WorklistService.prototype.formatShortcuts = function (shortcuts) {
        this.shortcuts = shortcuts;
    };
    WorklistService.prototype.refreshShortcuts = function () {
        this.onQueryStudies(1);
        this.onQueryShortcuts();
    };
    WorklistService.prototype.studyDetailsLoaded = function (allCheckedStudyCount, getStudies) {
        var _this = this;
        getStudies.forEach(function (value) {
            _this.loadedStudy.push(value);
        });
        this.loadedStudyCount++;
        if (allCheckedStudyCount == this.loadedStudyCount) {
            var viewerShellData_2 = new _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"](this.hangingProtocolService.getDefaultGroupHangingProtocol(), this.hangingProtocolService.getDefaultImageHangingPrococal());
            this.loadedStudy.forEach(function (value) {
                value.detailsLoaded = true;
                value.checked = true;
                viewerShellData_2.addStudy(value);
            });
            this.shellNavigatorService.shellNavigate(viewerShellData_2);
            this.loadedStudy = new Array();
            this.loadedStudyCount = 0;
        }
    };
    WorklistService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_database_service__WEBPACK_IMPORTED_MODULE_3__["DatabaseService"],
            _shell_navigator_service__WEBPACK_IMPORTED_MODULE_6__["ShellNavigatorService"],
            _hanging_protocol_service__WEBPACK_IMPORTED_MODULE_5__["HangingProtocolService"]])
    ], WorklistService);
    return WorklistService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! D:\Work\Git\ISGitServer\ImageViewPacs\Csh.ImageSuite.WebClient\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map